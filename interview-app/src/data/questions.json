{
  "android": [
    {
      "question": "1.activity ç”Ÿå‘½å‘¨æœŸ ",
      "answer": "onCreate() -> onStart() -> onResume() -> onPause() -> onStop() -> onDetroy()  c s r p s d \nandroid:configChanges",
      "detail": ""
    },
    {
      "question": "2.fragment ç”Ÿå‘½å‘¨æœŸ",
      "answer": "\nonAttach()  onCreate() onCreateView() onActivityCreated() onStart() onResume() onPause() onStop() onDestroyView() onDestroy() onDetach()",
      "detail": ""
    },
    {
      "question": "3.Serviceç”Ÿå‘½å‘¨æœŸ",
      "answer": "startService     startService() --> onCreate()--> onStartConmon()--> onDestroy()ã€‚ csd\n\nbindService     bindService-->onCreate()-->onBind()-->unBind()-->onDestroy(ï¼‰cbbd",
      "detail": ""
    },
    {
      "question": "Startservice bindservice åŒºåˆ« ï¼Ÿ",
      "answer": "â€œstartService å’Œ bindService æœ€å¤§çš„åŒºåˆ«åœ¨äºç”Ÿå‘½å‘¨æœŸå’Œé€šä¿¡æ–¹å¼ã€‚â€\n1. â€œstartService æ˜¯â€˜å¯åŠ¨å³è¿è¡Œï¼Œæ— å…³è”â€™ã€‚å®ƒä¸»è¦ç”¨äºæ‰§è¡Œé•¿æœŸçš„åå°ä»»åŠ¡ï¼Œæ¯”å¦‚ä¸‹è½½æˆ–æ”¾éŸ³ä¹ã€‚å®ƒçš„ç”Ÿå‘½å‘¨æœŸç‹¬ç«‹äºå¯åŠ¨å®ƒçš„ç»„ä»¶ï¼Œå³ä½¿ Activity é€€å‡ºäº†ï¼Œå®ƒä¹Ÿä¼šç»§ç»­è·‘ï¼Œç›´åˆ°è¢« stopService åœæ­¢ã€‚â€\n2. â€œbindService æ˜¯â€˜ç»‘å®šå³è¿æ¥ï¼Œæä¾›æœåŠ¡â€™ã€‚å®ƒæ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯-æœåŠ¡å™¨æ¨¡å‹ï¼Œä¸»è¦ç”¨äºç»„ä»¶é—´é€šä¿¡ã€‚Activity é€šè¿‡ onServiceConnected æ‹¿åˆ° IBinder æ¥å£ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨ Service çš„æ–¹æ³•ã€‚å®ƒçš„ç”Ÿå‘½å‘¨æœŸå’Œå®¢æˆ·ç«¯â€˜åŒç”Ÿå…±æ­»â€™ï¼Œä¸€æ—¦æ‰€æœ‰å®¢æˆ·ç«¯éƒ½è§£ç»‘ï¼ŒService å°±ä¼šé”€Gæ¯ã€‚â€\n3. â€œï¼ˆåŠ åˆ†é¡¹ï¼‰åœ¨å®é™…ä¸­ï¼ŒåƒéŸ³ä¹æ’­æ”¾å™¨ï¼Œæˆ‘ä»¬é€šå¸¸ä¼šæ··åˆä½¿ç”¨ï¼šç”¨ startService ä¿è¯åå°å­˜æ´»ï¼Œç”¨ bindService æ¥å®ç° Activity å’Œ Service ä¹‹é—´çš„é€šä¿¡å’Œæ§åˆ¶ã€‚â€",
      "detail": "è¿™æ˜¯ Android é¢è¯•ä¸­å…³äº `Service` æœ€ç»å…¸çš„é—®é¢˜ä¹‹ä¸€ã€‚å®ƒä»¬æ˜¯å¯åŠ¨å’Œä½¿ç”¨ `Service` çš„ä¸¤ç§å®Œå…¨ä¸åŒçš„â€œæ¨¡å¼â€ã€‚\n\nç®€å•æ¥è¯´ï¼Œä¸€å¥è¯æ¦‚æ‹¬ï¼š\n\n  * `startService`ï¼šä½ **å¯åŠ¨**å®ƒï¼Œå®ƒ**è‡ªå·±è¿è¡Œ**ï¼Œä½ ï¼ˆActivityï¼‰å’Œå®ƒ**æ²¡æœ‰ç›´æ¥å…³ç³»**ã€‚\n  * `bindService`ï¼šä½ **ç»‘å®š**å®ƒï¼Œå®ƒ**ä¸ºä½ æœåŠ¡**ï¼Œä½ ï¼ˆActivityï¼‰å¯ä»¥**ç›´æ¥è°ƒç”¨å®ƒ**çš„æ–¹æ³•ã€‚\n\n### ğŸš€ æ ¸å¿ƒå£è¯€\n\næˆ‘å¸®ä½ æ€»ç»“äº†ä¸¤ä¸ªå£è¯€ï¼Œå¸®åŠ©ä½ å¿«é€Ÿè®°å¿†ï¼š\n\n> **`startService` å£è¯€ï¼š**\n>\n> > **â€œå¯åŠ¨å³è¿è¡Œï¼Œï¼ˆä¸ä½ ï¼‰æ— å…³è”ï¼›â€**\n> > **â€œä½ åœä½ çš„ï¼Œå®ƒå¹²å®ƒçš„ï¼›ï¼ˆä½ ï¼‰ç®¡ç”Ÿï¼Œï¼ˆå®ƒï¼‰ç®¡æ­»ã€‚â€**\n\n  * **â€œå¯åŠ¨å³è¿è¡Œâ€**ï¼šä½ ï¼ˆæ¯”å¦‚ Activityï¼‰è°ƒç”¨ `startService`ï¼ŒService å°±ä¼šåœ¨åå°å¼€å§‹è¿è¡Œï¼ˆæ‰§è¡Œ `onStartCommand`ï¼‰ã€‚\n  * **â€œï¼ˆä¸ä½ ï¼‰æ— å…³è”â€**ï¼šä¸€æ—¦å¯åŠ¨äº†ï¼ŒActivity å°±ç®—é€€å‡ºäº†ã€é”€æ¯äº†ï¼ŒService ä¹Ÿä¼š**ç»§ç»­è¿è¡Œ**ï¼Œç›´åˆ°å®ƒè‡ªå·±è°ƒç”¨ `stopSelf()` æˆ–åˆ«çš„ç»„ä»¶è°ƒç”¨ `stopService()`ã€‚\n  * **â€œï¼ˆä½ ï¼‰ç®¡ç”Ÿï¼Œï¼ˆå®ƒï¼‰ç®¡æ­»â€**ï¼šActivity åªè´Ÿè´£â€œç”Ÿâ€å‡ºå®ƒï¼Œä½†ä¸èƒ½ç›´æ¥æ§åˆ¶å®ƒã€‚Service å¿…é¡»è‡ªå·±è´Ÿè´£â€œæ­»â€ï¼ˆ`stopSelf`ï¼‰ã€‚\n\n> **`bindService` å£è¯€ï¼š**\n>\n> > **â€œç»‘å®šå³è¿æ¥ï¼Œï¼ˆä¸ºä½ ï¼‰æä¾›æœåŠ¡ï¼›â€**\n> > **â€œåŒç”Ÿå…±æ­»ï¼Œï¼ˆä½ ï¼‰èƒ½è°ƒå®ƒã€‚â€**\n\n  * **â€œç»‘å®šå³è¿æ¥â€**ï¼šä½ ï¼ˆå®¢æˆ·ç«¯ï¼‰è°ƒç”¨ `bindService`ï¼Œç›®çš„æ˜¯ä¸ºäº†å’Œ Service å»ºç«‹ä¸€ä¸ª\\*\\*å®¢æˆ·ç«¯-æœåŠ¡å™¨ï¼ˆClient-Serverï¼‰\\*\\*çš„è¿æ¥ã€‚\n  * **â€œï¼ˆä¸ºä½ ï¼‰æä¾›æœåŠ¡â€**ï¼šService ä¼šåœ¨ `onBind` å›è°ƒä¸­è¿”å›ä¸€ä¸ª `IBinder` æ¥å£ï¼Œå®¢æˆ·ç«¯æ‹¿åˆ°è¿™ä¸ªæ¥å£åï¼Œå°±å¯ä»¥**ç›´æ¥è°ƒç”¨** Service é‡Œçš„æ–¹æ³•ã€‚\n  * **â€œåŒç”Ÿå…±æ­»â€**ï¼šService çš„ç”Ÿå‘½å‘¨æœŸ**ä¸å®¢æˆ·ç«¯ç»‘å®š**ã€‚åªè¦æœ‰ä»»ä½•ä¸€ä¸ªå®¢æˆ·ç«¯è¿˜ç»‘å®šç€å®ƒï¼Œå®ƒå°±ä¼šä¸€ç›´å­˜æ´»ã€‚å½“æ‰€æœ‰å®¢æˆ·ç«¯éƒ½ `unbindService` åï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨é”€æ¯è¿™ä¸ª Serviceã€‚\n  * **â€œï¼ˆä½ ï¼‰èƒ½è°ƒå®ƒâ€**ï¼šè¿™æ˜¯æœ€å¤§çš„åŒºåˆ«ï¼Œä½ å¯ä»¥åƒè°ƒç”¨æœ¬åœ°å¯¹è±¡ä¸€æ ·è°ƒç”¨ Service çš„æ–¹æ³•ã€‚\n\n-----\n\n### ğŸ›ï¸ è¯¦ç»†å¯¹æ¯”è¡¨\n\nä¸ºäº†è®©ä½ åœ¨é¢è¯•ä¸­å›ç­”å¾—æ›´æ¸…æ™°ï¼Œæˆ‘ä¸ºä½ å‡†å¤‡äº†è¿™å¼ å¯¹æ¯”è¡¨ï¼š\n\n| å¯¹æ¯”ç»´åº¦ | `startService` (å¯åŠ¨æ¨¡å¼) | `bindService` (ç»‘å®šæ¨¡å¼) |\n| :--- | :--- | :--- |\n| **æ ¸å¿ƒç›®çš„** | è¿è¡Œä¸€ä¸ª**æ— é™æœŸ**çš„åå°ä»»åŠ¡ï¼ˆå¦‚æ”¾éŸ³ä¹ã€ä¸‹è½½ï¼‰ã€‚ | å»ºç«‹ä¸€ä¸ª**å®¢æˆ·ç«¯-æœåŠ¡å™¨**è¿æ¥ï¼Œç”¨äºç»„ä»¶é—´é€šä¿¡ (IPC)ã€‚ |\n| **ç”Ÿå‘½å‘¨æœŸ** | **ç‹¬ç«‹ã€‚** ä¸€æ—¦å¯åŠ¨ï¼Œå°±ä¸å¯åŠ¨è€…æ— å…³ã€‚å³ä½¿ Activity é”€æ¯ï¼ŒService ä¹Ÿä¼šç»§ç»­è¿è¡Œã€‚ | **ç»‘å®šã€‚** Service çš„ç”Ÿå‘½å‘¨æœŸ**ä¾èµ–äº**æ‰€æœ‰ç»‘å®šçš„å®¢æˆ·ç«¯ã€‚ |\n| **é€šä¿¡æ–¹å¼** | **æ— ç›´æ¥é€šä¿¡ã€‚** æ— æ³•ç›´æ¥è°ƒç”¨ Service çš„æ–¹æ³•ã€‚é€šä¿¡å¾ˆéº»çƒ¦ï¼ˆå¦‚ç”¨ `BroadcastReceiver` æˆ– `EventBus`ï¼‰ã€‚ | **å®Œç¾é€šä¿¡ã€‚** å®¢æˆ·ç«¯é€šè¿‡ `onServiceConnected` æ”¶åˆ°ä¸€ä¸ª `IBinder` æ¥å£ï¼Œå¯ä»¥**ç›´æ¥è°ƒç”¨** Service é‡Œçš„ public æ–¹æ³•ã€‚ |\n| **æ ¸å¿ƒå›è°ƒ** | `onStartCommand()` | `onBind()` (è¿”å› `IBinder`), `onUnbind()` |\n| **åœæ­¢æ–¹å¼** | å¿…é¡»æ˜¾å¼è°ƒç”¨ `stopService()` æˆ– Service å†…éƒ¨è°ƒç”¨ `stopSelf()`ã€‚ | å½“æ‰€æœ‰å®¢æˆ·ç«¯éƒ½è°ƒç”¨ `unbindService()` åï¼Œç³»ç»Ÿè‡ªåŠ¨é”€æ¯ Serviceã€‚ |\n| **é€‚ç”¨åœºæ™¯** | 1. åå°æ’­æ”¾éŸ³ä¹<br>2. ä¸‹è½½æ–‡ä»¶<br>3. åŒæ­¥æ•°æ®<br>ï¼ˆ**ä»»åŠ¡éœ€è¦ç‹¬ç«‹äº UI å­˜åœ¨**ï¼‰ | 1. Activity éœ€è¦**é¢‘ç¹**ä» Service è·å–æ•°æ®<br>2. Activity éœ€è¦æ§åˆ¶ Serviceï¼ˆå¦‚â€œæš‚åœ/ä¸‹ä¸€é¦–â€ï¼‰<br>3. è·å–ä¸‹è½½è¿›åº¦æ¡ |\n\n-----\n\n### ğŸ’¡ æ··åˆä½¿ç”¨ï¼šæœ€å¸¸è§çš„åœºæ™¯ï¼ˆé¢è¯•åŠ åˆ†é¡¹ï¼‰\n\nåœ¨å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬ç»å¸¸**åŒæ—¶ä½¿ç”¨ `startService` å’Œ `bindService`**ã€‚\n\n**ç»å…¸æ¡ˆä¾‹ï¼šéŸ³ä¹æ’­æ”¾å™¨ App**\n\n1.  **ä¸ºä»€ä¹ˆç”¨ `startService`ï¼Ÿ**\n\n      * å½“ç”¨æˆ·ç‚¹å‡»â€œæ’­æ”¾â€æ—¶ï¼Œä½ è°ƒç”¨ `startService`ã€‚\n      * **ç›®çš„ï¼š** ä¿è¯å³ä½¿ç”¨æˆ·åˆ‡å‡º Appï¼ˆActivity é”€æ¯äº†ï¼‰ï¼ŒéŸ³ä¹ä¹Ÿ**å¿…é¡»åœ¨åå°ç»§ç»­æ’­æ”¾**ã€‚è¿™æ˜¯ `startService` â€œç‹¬ç«‹è¿è¡Œâ€çš„ç‰¹æ€§ã€‚\n\n2.  **ä¸ºä»€ä¹ˆç”¨ `bindService`ï¼Ÿ**\n\n      * å½“ç”¨æˆ·**åœç•™åœ¨**æ’­æ”¾ç•Œé¢ï¼ˆActivity å¯è§ï¼‰æ—¶ï¼Œä½ è°ƒç”¨ `bindService`ã€‚\n      * **ç›®çš„ï¼š** Activity éœ€è¦å’Œ Service é€šä¿¡ï¼Œç”¨æ¥ï¼š\n          * ï¼ˆè°ƒç”¨ Service çš„æ–¹æ³•ï¼‰æ§åˆ¶â€œæš‚åœâ€ã€â€œä¸Šä¸€é¦–â€ã€â€œä¸‹ä¸€é¦–â€ã€‚\n          * ï¼ˆä» Service è·å–æ•°æ®ï¼‰æ˜¾ç¤ºå½“å‰çš„æ’­æ”¾è¿›åº¦ã€æ­Œæ›²åç§°ã€æ€»æ—¶é•¿ã€‚\n      * å½“ç”¨æˆ·ç¦»å¼€è¿™ä¸ªç•Œé¢æ—¶ï¼ŒActivity è°ƒç”¨ `unbindService`ï¼Œè§£é™¤è¿æ¥ã€‚\n\n**è¿™ç§æ¨¡å¼ä¸‹çš„åœæ­¢ï¼š**\nè¿™ä¸ª Service å¿…é¡»åŒæ—¶æ»¡è¶³**ä¸¤ä¸ªæ¡ä»¶**æ‰ä¼šè¢«é”€æ¯ï¼š\n\n1.  æ²¡æœ‰ä»»ä½•å®¢æˆ·ç«¯ `bind` å®ƒï¼ˆæ‰€æœ‰ `unbindService` éƒ½å·²è°ƒç”¨ï¼‰ã€‚\n2.  å®ƒå·²ç»è¢« `stopService` æˆ– `stopSelf` è¯·æ±‚åœæ­¢ã€‚\n\n-----\n\n### æ€»ç»“\n\né¢è¯•æ—¶ï¼Œä½ å¯ä»¥è¿™æ ·å›ç­”ï¼š\n\n> â€œ`startService` å’Œ `bindService` æœ€å¤§çš„åŒºåˆ«åœ¨äº**ç”Ÿå‘½å‘¨æœŸ**å’Œ**é€šä¿¡æ–¹å¼**ã€‚â€\n>\n> 1.  â€œ**`startService`** æ˜¯â€˜å¯åŠ¨å³è¿è¡Œï¼Œæ— å…³è”â€™ã€‚å®ƒä¸»è¦ç”¨äºæ‰§è¡Œ**é•¿æœŸçš„åå°ä»»åŠ¡**ï¼Œæ¯”å¦‚ä¸‹è½½æˆ–æ”¾éŸ³ä¹ã€‚å®ƒçš„ç”Ÿå‘½å‘¨æœŸç‹¬ç«‹äºå¯åŠ¨å®ƒçš„ç»„ä»¶ï¼Œå³ä½¿ Activity é€€å‡ºäº†ï¼Œå®ƒä¹Ÿä¼šç»§ç»­è·‘ï¼Œç›´åˆ°è¢« `stopService` åœæ­¢ã€‚â€\n>\n> 2.  â€œ**`bindService`** æ˜¯â€˜ç»‘å®šå³è¿æ¥ï¼Œæä¾›æœåŠ¡â€™ã€‚å®ƒæ˜¯ä¸€ä¸ª**å®¢æˆ·ç«¯-æœåŠ¡å™¨**æ¨¡å‹ï¼Œä¸»è¦ç”¨äº**ç»„ä»¶é—´é€šä¿¡**ã€‚Activity é€šè¿‡ `onServiceConnected` æ‹¿åˆ° `IBinder` æ¥å£ï¼Œå¯ä»¥**ç›´æ¥è°ƒç”¨** Service çš„æ–¹æ³•ã€‚å®ƒçš„ç”Ÿå‘½å‘¨æœŸå’Œå®¢æˆ·ç«¯â€˜åŒç”Ÿå…±æ­»â€™ï¼Œä¸€æ—¦æ‰€æœ‰å®¢æˆ·ç«¯éƒ½è§£ç»‘ï¼ŒService å°±ä¼šé”€Gæ¯ã€‚â€\n>\n> 3.  â€œï¼ˆ**åŠ åˆ†é¡¹**ï¼‰åœ¨å®é™…ä¸­ï¼ŒåƒéŸ³ä¹æ’­æ”¾å™¨ï¼Œæˆ‘ä»¬é€šå¸¸ä¼š**æ··åˆä½¿ç”¨**ï¼šç”¨ `startService` ä¿è¯åå°å­˜æ´»ï¼Œç”¨ `bindService` æ¥å®ç° Activity å’Œ Service ä¹‹é—´çš„é€šä¿¡å’Œæ§åˆ¶ã€‚â€\n\nä½ å¸Œæœ›æˆ‘å†æ·±å…¥è®²è®² `bindService` æ˜¯å¦‚ä½•é€šè¿‡ `IBinder` å’Œ `AIDL` å®ç°è·¨è¿›ç¨‹é€šä¿¡ï¼ˆIPCï¼‰çš„å—ï¼Ÿ"
    },
    {
      "question": "4.Broadcastæ³¨å†Œæ–¹å¼ä¸åŒºåˆ«Â ",
      "answer": "é™æ€æ³¨å†Œï¼ˆå¸¸é©»ï¼‰ Androidmanifest.xml  å¼€æœºå¯åŠ¨ ï¼Œ ä¸æ­»\nåŠ¨æ€æ³¨å†Œ  registerReceiver\n\nç±»å‹\tè¯´æ˜\tç‰¹ç‚¹\næ™®é€šå¹¿æ’­ï¼ˆNormal Broadcastï¼‰\tä½¿ç”¨ sendBroadcast()\t                å¼‚æ­¥å¹¶è¡Œå‘é€ï¼Œæ¥æ”¶é¡ºåºä¸ç¡®å®š\næœ‰åºå¹¿æ’­ï¼ˆOrdered Broadcastï¼‰\tä½¿ç”¨ sendOrderedBroadcast()\t       æŒ‰ä¼˜å…ˆçº§é¡ºåºæ¥æ”¶ï¼Œå¯ä¸­æ–­ä¼ æ’­\nç²˜æ€§å¹¿æ’­ï¼ˆSticky Broadcastï¼‰\t        ä½¿ç”¨ sendStickyBroadcast()ï¼ˆå·²åºŸå¼ƒï¼‰\tå‘é€åç³»ç»Ÿä¼šä¿ç•™ï¼Œæ–°çš„æ¥æ”¶è€…èƒ½æ”¶åˆ°ä¸Šæ¬¡å¹¿æ’­\næœ¬åœ°å¹¿æ’­ï¼ˆLocal Broadcastï¼‰\t       ä½¿ç”¨ LocalBroadcastManagerï¼ˆAPI 33 å·²åºŸå¼ƒï¼‰\t",
      "detail": ""
    },
    {
      "question": "5.ä¸¤ä¸ª activity ä¼ é€’å¤§çš„æ•°æ® ",
      "answer": "\nActivityä¹‹é—´é€šè¿‡intentä¼ é€’å¤§é‡æ•°æ®ï¼Œå¯¼è‡´æ–°Activityæ— æ³•å¯åŠ¨ã€‚æ¯”å¦‚ä½ ç”¨ intent åŠ  bundle ï¼Œ ä¼šå‡ºç°ä¼ \tè¾“æ•°æ®è¿‡å¤§å¼‚å¸¸ ï¼Œ \næ–¹æ¡ˆä¸€ï¼šç”¨å…¨å±€å•ä¾‹ / Application ä¿å­˜ä¸´æ—¶æ•°æ®\nè¿™ç§æ–¹å¼æœ€ç®€å•ã€æœ€å¸¸è§ã€‚\næ–¹æ¡ˆäºŒï¼šä½¿ç”¨æ–‡ä»¶æˆ–æ•°æ®åº“ç¼“å­˜\næŠŠå¤§æ•°æ®ä¿å­˜åˆ°æœ¬åœ°æ–‡ä»¶ / SQLite / Roomä¸­ï¼Œåªåœ¨ Intent ä¸­ä¼ ä¸€ä¸ªè·¯å¾„æˆ– IDã€‚\næ¡ˆä¸‰ï¼šä½¿ç”¨ ViewModelï¼ˆåœ¨åŒä¸€ä¸ª Task å†…ï¼‰\nå¦‚æœä¸¤ä¸ª Activity æ˜¯åœ¨åŒä¸€ä¸ªè¿›ç¨‹ã€åŒä¸€ä¸ª Task å†…ï¼Œå¯ä»¥å€ŸåŠ© ViewModelStoreOwner\tï¼ˆJetpackï¼‰ã€‚é€šè¿‡å…±äº« \tViewModel å­˜å‚¨æ•°æ®ï¼Œ\næ–¹æ¡ˆå››ï¼šä½¿ç”¨ ParcelableFileDescriptorï¼ˆç‰¹æ®Šåœºæ™¯ï¼‰\nå¦‚æœç¡®å®è¦ä¼ è¾“å¤§æ–‡ä»¶ï¼Œå¯ä»¥ç”¨æ–‡ä»¶å¥æŸ„ï¼ˆParcelFileDescriptorï¼‰ä¼ é€’ï¼Œè€Œä¸æ˜¯å­—èŠ‚æ•°ç»„ï¼š",
      "detail": ""
    },
    {
      "question": "Activityä¹‹é—´ä¼ é€’æ•°æ®ä¸€èˆ¬é€šè¿‡ä»¥ä¸‹å‡ ç§æ–¹å¼å®ç°ï¼š",
      "answer": "\n1. é€šè¿‡intentä¼ é€’æ•°æ® \n2. é€šè¿‡Application\n3. ä½¿ç”¨å•ä¾‹\n4. é™æ€æˆå‘˜å˜é‡ã€‚ï¼ˆå¯ä»¥è€ƒè™‘Â WeakReferencesï¼‰\n5. æŒä¹…åŒ–ï¼ˆsqliteã€share preferenceã€fileç­‰ï¼‰\nhttps://blog.csdn.net/rflyee/article/details/47431633",
      "detail": ""
    },
    {
      "question": "å››ç§LaunchModeåŠå…¶ä½¿ç”¨åœºæ™¯",
      "answer": "æ¨¡å¼\t                 æ˜¯å¦åˆ›å»ºæ–°å®ä¾‹\t    æ˜¯å¦æ–°å»ºä»»åŠ¡æ ˆ\tæ˜¯å¦è°ƒç”¨ onNewIntent() \t      å…¸å‹ä½¿ç”¨åœºæ™¯\nstandard\t         âœ… æ€»æ˜¯åˆ›å»º\t                âŒ ä¸æ–°å»º\tâŒ ä¸è°ƒç”¨\t             æ™®é€šé¡µé¢ï¼ˆé»˜è®¤ï¼‰\nsingleTop\t       âŒ è‹¥å·²åœ¨æ ˆé¡¶åˆ™å¤ç”¨\tâŒ ä¸æ–°å»º\tâœ… è°ƒç”¨\t                     æ¶ˆæ¯è¯¦æƒ…é¡µã€é€šçŸ¥ç‚¹å‡»é¡µ\nsingleTask\tâŒ è‹¥æ ˆä¸­å·²å­˜åœ¨åˆ™å¤ç”¨\tâŒ ä¸æ–°å»º\tâœ… è°ƒç”¨\t                    ä¸»é¡µé¢ï¼ˆHomeã€Mainï¼‰\nsingleInstance\tâŒ ç³»ç»Ÿä¸­åªæœ‰ä¸€ä¸ªå®ä¾‹\tâœ… ç‹¬ç«‹ä»»åŠ¡æ ˆ\tâœ… è°ƒç”¨\t                     æ’­æ”¾å™¨ã€æ¥ç”µç•Œé¢ç­‰å…¨å±€å”¯ä¸€é¡µ",
      "detail": ""
    },
    {
      "question": "ç®€è¿°AIDLæœºåˆ¶Â ",
      "answer": "å†™æ¥å£ â†’ æ”¾å¯¹åŒ… â†’ å®ç°æœåŠ¡ â†’ ç»‘å®šå®¢æˆ·ç«¯ â†’ è°ƒç”¨å¹¶å¤„ç†æ•°æ®\nï¼ˆè‹±æ–‡å£è¯€ï¼šAIDL file â†’ Package path â†’ Service Stub â†’ bindService â†’ use asInterfaceï¼‰\n\nAIDL æ­¥éª¤ï¼šå†™ .aidl â†’ æ”¾å¯¹åŒ…è·¯å¾„ â†’ ç¼–è¯‘ç”Ÿæˆæ¥å£ â†’ æœåŠ¡å®ç° Stub å¹¶è¿”å› IBinder â†’ å®¢æˆ·ç«¯ bindService â†’ asInterface å¾—åˆ°ä»£ç† â†’ è°ƒç”¨ï¼ˆæ³¨æ„ RemoteException ä¸çº¿ç¨‹ï¼‰ã€‚\n\nè¦ç‚¹ï¼šAIDL æ”¯æŒæœ‰é™çš„æ•°æ®ç±»å‹ï¼ŒParcelable è¦å•ç‹¬å¤„ç†ã€‚æœåŠ¡ç«¯æ–¹æ³•åœ¨ Binder çº¿ç¨‹æ± æ‰§è¡Œï¼ˆéä¸»çº¿ç¨‹ï¼‰ã€‚oneway ç”¨äºå¼‚æ­¥ï¼Œä¸ä¼šé˜»å¡è°ƒç”¨ç«¯ã€‚\n\nå¸¸è§å‘ï¼šaidl æ–‡ä»¶åŒ…è·¯å¾„ä¸ä¸€è‡´ï¼ˆå¯¼è‡´æ‰¾ä¸åˆ°ç±»ï¼‰ã€å¿˜è®°å®ç° Parcelableã€è·¨è¿›ç¨‹è®¿é—® UIï¼ˆå¿…é¡»åˆ‡å›ä¸»çº¿ç¨‹ï¼‰ã€æœªå¤„ç† RemoteExceptionã€Binder äº‹åŠ¡å¤§å°è¶…è¿‡é™åˆ¶ã€‚",
      "detail": "1,å®šä¹‰ AIDL æ¥å£æ–‡ä»¶\n\nåœ¨ app/src/main/aidl/ ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª .aidl æ–‡ä»¶ï¼š\n\n// IMyAidlInterface.aidl\npackage com.example.aidl;\n\ninterface IMyAidlInterface {\n    int add(int a, int b);\n    String getMessage();\n}\n\n\nâš ï¸ æ³¨æ„ï¼š\nAIDL æ–‡ä»¶ä¸­çš„åŒ…åå¿…é¡»ä¸å®ç°ç±»ä¿æŒä¸€è‡´ã€‚\n\nğŸ”¹ 2. ç¼–è¯‘ç”Ÿæˆ Java æ¥å£æ–‡ä»¶\n\nç¼–è¯‘åï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åœ¨ build/generated/aidl_source_output_dir/ ä¸‹ç”Ÿæˆä¸€ä¸ª Java æ¥å£ï¼š\n\npublic interface IMyAidlInterface extends android.os.IInterface {\n    public int add(int a, int b) throws android.os.RemoteException;\n    public String getMessage() throws android.os.RemoteException;\n\n    abstract class Stub extends android.os.Binder implements IMyAidlInterface {\n        ...\n    }\n}\n\nğŸ”¹ 3. åœ¨ Service ä¸­å®ç°æ¥å£\npublic class MyAidlService extends Service {\n    private final IMyAidlInterface.Stub mBinder = new IMyAidlInterface.Stub() {\n        @Override\n        public int add(int a, int b) {\n            return a + b;\n        }\n\n        @Override\n        public String getMessage() {\n            return \"Hello from AIDL Service!\";\n        }\n    };\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        return mBinder;\n    }\n}\n\n\nåœ¨ AndroidManifest.xml ä¸­å£°æ˜ï¼š\n\n<service\n    android:name=\".MyAidlService\"\n    android:process=\":remote\"  <!-- è¿è¡Œåœ¨ç‹¬ç«‹è¿›ç¨‹ -->\n    android:exported=\"true\">\n    <intent-filter>\n        <action android:name=\"com.example.aidl.MyAidlService\" />\n    </intent-filter>\n</service>\n\nğŸ”¹ 4. å®¢æˆ·ç«¯ç»‘å®šå¹¶è°ƒç”¨\npublic class MainActivity extends AppCompatActivity {\n    private IMyAidlInterface aidlService;\n\n    private ServiceConnection connection = new ServiceConnection() {\n        @Override\n        public void onServiceConnected(ComponentName name, IBinder service) {\n            aidlService = IMyAidlInterface.Stub.asInterface(service);\n            try {\n                int result = aidlService.add(3, 5);\n                Log.d(\"AIDL\", \"Result: \" + result);\n            } catch (RemoteException e) {\n                e.printStackTrace();\n            }\n        }\n\n        @Override\n        public void onServiceDisconnected(ComponentName name) {\n            aidlService = null;\n        }\n    };\n\n    @Override\n    protected void onStart() {\n        super.onStart();\n        Intent intent = new Intent(\"com.example.aidl.MyAidlService\");\n        intent.setPackage(\"com.example.aidl\"); // æ˜ç¡®åŒ…å\n        bindService(intent, connection, BIND_AUTO_CREATE);\n    }\n}"
    },
    {
      "question": "aidl é«˜é¢‘é¢è¯•é¢˜ ï¼Ÿ",
      "answer": "Looper/çº¿ç¨‹ï¼šAIDL è°ƒç”¨åœ¨æœåŠ¡ç«¯é»˜è®¤è¿è¡Œäº Binder çº¿ç¨‹æ± ï¼ˆå¤šçº¿ç¨‹ï¼‰ï¼Œè€Œä¸æ˜¯ UI çº¿ç¨‹ã€‚ä¸è¦åœ¨è¿™äº›æ–¹æ³•é‡Œç›´æ¥æ›´æ–° UIã€‚è‹¥éœ€è¦æ›´æ–° UIï¼Œä½¿ç”¨ Handler æˆ– runOnUiThreadã€‚\n\nonewayï¼šç”¨äºå¼‚æ­¥ fire-and-forgetï¼Œè°ƒç”¨ç«¯ä¸ç­‰å¾…ã€‚åªèƒ½ç”¨äºè¿”å› voidï¼Œå¹¶ä¸”å‚æ•°åªèƒ½æ˜¯ inã€‚\n\nå›è°ƒï¼šæœåŠ¡ç«¯é€šå¸¸ç”¨ RemoteCallbackList<ICallback> å­˜å‚¨ client æ³¨å†Œçš„å›è°ƒæ¥å£ï¼Œå®¢æˆ·ç«¯ä¼ å…¥è‡ªå·±å®ç°çš„ ICallback.Stubï¼ŒæœåŠ¡ç«¯è°ƒç”¨ callback.onResult(...)ã€‚\n\nå®‰å…¨æ€§ï¼šè·¨è¿›ç¨‹é€šä¿¡è¦æ£€æŸ¥è°ƒç”¨è€…æƒé™ï¼ˆcheckCallingUid() / checkCallingPermission()ï¼‰æˆ–åœ¨ manifest æŒ‡å®š permissionã€‚\n\næ€§èƒ½ï¼šè¿œç¨‹è°ƒç”¨ï¼ˆè·¨è¿›ç¨‹ï¼‰æœ‰åºåˆ—åŒ–/ååºåˆ—åŒ–å¼€é”€ï¼Œé¿å…é¢‘ç¹å°æ•°æ®è°ƒç”¨ï¼Œå°½é‡åˆå¹¶æˆ–ä½¿ç”¨æ‰¹é‡æ¥å£ã€‚\n\nå¼‚å¸¸ï¼šå®¢æˆ·ç«¯è°ƒç”¨è¿œç«¯æ–¹æ³•å¯èƒ½æŠ› RemoteExceptionï¼Œåº”æ•è·å¤„ç†ã€‚\n\næ•°é‡é™åˆ¶ï¼šBinder äº‹åŠ¡å¤§å°æœ‰é™åˆ¶ï¼ˆå¤§å¯¹è±¡/å¤§æ•°ç»„è¦é¿å…ä¸€æ¬¡æ€§ä¼ å¤§æ•°æ®ï¼‰ã€‚\n\nç‰ˆæœ¬å…¼å®¹ï¼šä¿®æ”¹ aidl è¦å°å¿ƒå‘åå…¼å®¹ï¼ˆæ·»åŠ æ–¹æ³•ä¼šå½±å“ç”Ÿæˆçš„ AIDL æ¥å£ï¼‰ã€‚",
      "detail": ""
    },
    {
      "question": "AIDL å®é™…å¼€å‘ä¸­æœ€å…³é”®çš„ç‚¹ä¹‹ä¸€ â€”â€” å®‰å…¨æ€§éªŒè¯ï¼Ÿ",
      "answer": "âœ… æ–¹å¼ä¸€ï¼šé€šè¿‡åŒ…åéªŒè¯è°ƒç”¨æ¥æº\nè¿™æ˜¯æœ€å¸¸è§ã€ç®€å•çš„ä¸€ç§æ–¹æ³•ã€‚\nåœ¨ onBind() æˆ– onTransact() é‡Œï¼Œæ£€æŸ¥æ˜¯è°åœ¨ç»‘å®šä½ çš„ Serviceã€‚\n@Override\npublic IBinder onBind(Intent intent) {\n    String callerPackage = getCallingPackageName();\n    if (!\"com.trusted.client\".equals(callerPackage)) {\n        Log.w(\"AIDL\", \"Unauthorized access from: \" + callerPackage);\n        return null; // æ‹’ç»ç»‘å®š\n    }\n    return mBinder;\n}\n/** è·å–è°ƒç”¨æ–¹åŒ…å */\nprivate String getCallingPackageName() {\n    int callingUid = Binder.getCallingUid();\n    String[] packages = getPackageManager().getPackagesForUid(callingUid);\n    return (packages != null && packages.length > 0) ? packages[0] : null;\n}\nğŸ§  åŸç†ï¼š\nBinder.getCallingUid() è·å–è°ƒç”¨æ–¹çš„ UIDï¼›\nå†é€šè¿‡ PackageManager.getPackagesForUid() æŸ¥å‡ºå¯¹åº”åŒ…åï¼›\nå’Œä½ ä¿¡ä»»çš„åŒ…åæ¯”å¯¹ã€‚\n\nâœ… æ–¹å¼äºŒï¼šé€šè¿‡ç­¾åéªŒè¯ï¼ˆæ›´å®‰å…¨ï¼‰\næ¶æ„åº”ç”¨å¯èƒ½ä¼ªé€ åŒ…åï¼ˆåªè¦åŒåå®‰è£…ï¼‰ï¼Œ\næ‰€ä»¥æ›´å®‰å…¨çš„æ–¹å¼æ˜¯æ ¡éªŒ æ•°å­—ç­¾åã€‚\nprivate boolean checkSignature() {\n    int callingUid = Binder.getCallingUid();\n    PackageManager pm = getPackageManager();\n    String[] packages = pm.getPackagesForUid(callingUid);\n    if (packages != null) {\n        for (String pkg : packages) {\n            try {\n                PackageInfo info = pm.getPackageInfo(pkg, PackageManager.GET_SIGNING_CERTIFICATES);\n                Signature[] signatures = info.signingInfo.getApkanswersSigners();\n\n                // è·å–æœ¬åº”ç”¨ç­¾å\n                PackageInfo myInfo = pm.getPackageInfo(getPackageName(), PackageManager.GET_SIGNING_CERTIFICATES);\n                Signature[] mySignatures = myInfo.signingInfo.getApkanswersSigners();\n\n                // æ¯”è¾ƒç­¾åæ˜¯å¦ä¸€è‡´\n                if (signatures[0].equals(mySignatures[0])) {\n                    return true; // ç­¾åç›¸åŒï¼Œå…è®¸è®¿é—®\n                }\n\n            } catch (Exception e) {\n                e.printStackTrace();\n            }\n        }\n    }\n    return false; // ç­¾åä¸åŒ¹é…\n}\n@Override\npublic IBinder onBind(Intent intent) {\n    if (!checkSignature()) {\n        Log.w(\"AIDL\", \"Unauthorized signature detected!\");\n        return null;\n    }\n    return mBinder;\n}\nğŸ”’ å¥½å¤„ï¼š\nå³ä½¿åŒ…åè¢«ä¼ªé€ ï¼Œåªè¦ç­¾åä¸ä¸€æ ·ï¼Œä»ç„¶æ— æ³•è®¿é—®ï¼›\nè¿™ç§æ–¹å¼æœ€å¸¸ç”¨äºè‡ªå®¶ App æ¨¡å—é—´é€šä¿¡ï¼ˆä¾‹å¦‚ä¸» App è°ƒæ’ä»¶ Appï¼‰ã€‚\n\nâœ… æ–¹å¼ä¸‰ï¼šä½¿ç”¨æƒé™ï¼ˆPermissionï¼‰æ§åˆ¶\nåœ¨ AndroidManifest.xml ä¸­å£°æ˜ä¸€ä¸ªè‡ªå®šä¹‰æƒé™ï¼š\n<permission\n    android:name=\"com.example.myapp.PERMISSION_ACCESS_AIDL\"\n    android:protectionLevel=\"signature\" />\nåœ¨ä½ çš„ Service ä¸­ä½¿ç”¨è¿™ä¸ªæƒé™ï¼š\n<service\n    android:name=\".MyAidlService\"\n    android:permission=\"com.example.myapp.PERMISSION_ACCESS_AIDL\"\n    android:exported=\"true\">\n    <intent-filter>\n        <action android:name=\"com.example.aidl.MyAidlService\" />\n</intent-filter>\n</service>\nâœ… åŸç†ï¼š\nåªæœ‰ç­¾åç›¸åŒã€ä¸”æ˜¾å¼å£°æ˜ä½¿ç”¨äº†æ­¤æƒé™çš„ App æ‰èƒ½è®¿é—®ï¼›\nè¿™ç§æ–¹å¼ç³»ç»Ÿçº§åˆ«æ§åˆ¶ï¼Œæœ€å®‰å…¨ä¹Ÿæœ€æ–¹ä¾¿ï¼›\næ— éœ€å†™ä»£ç éªŒè¯ï¼ŒAndroid æ¡†æ¶å±‚ä¼šè‡ªåŠ¨æ‹¦æˆªéæ³•è°ƒç”¨ã€‚",
      "detail": ""
    },
    {
      "question": "è®²è®² binder ?æ˜¯å¦‚ä½•å®ç°çš„è·¨è¿›ç¨‹çš„ ï¼Ÿ",
      "answer": "å®ƒæœ€å¤§çš„å®ç°äº®ç‚¹ï¼Œå°±æ˜¯åœ¨å†…æ ¸çš„ Binder é©±åŠ¨å±‚ï¼Œé€šè¿‡ mmap å†…å­˜æ˜ å°„ï¼Œå®ç°äº†ä» Client åˆ° Server åªéœ€è¦ 1 æ¬¡å†…å­˜æ‹·è´ï¼Œæ€§èƒ½è¿œè¶…ä¼ ç»Ÿçš„ IPC æœºåˆ¶ã€‚â€",
      "detail": "è¿™æ˜¯ä¸€ä¸ª**é‡é‡çº§**çš„é—®é¢˜ï¼Œä¹Ÿæ˜¯ Android é¢è¯•ä¸­**æœ€å…·å«é‡‘é‡**çš„é—®é¢˜ä¹‹ä¸€ã€‚\n\n`Binder` æ˜¯ Android ç³»ç»Ÿçš„**çµé­‚**ï¼Œæ˜¯æ•´ä¸ªç³»ç»Ÿçš„**è¿›ç¨‹é—´é€šä¿¡ (IPC)** åŸºçŸ³ã€‚ç†è§£å®ƒï¼Œæ˜¯åŒºåˆ«ä¸­é«˜çº§å·¥ç¨‹å¸ˆçš„å…³é”®ã€‚\n\nåˆ«æ€•ï¼Œå®ƒè™½ç„¶å¤æ‚ï¼Œä½†æˆ‘ä»¬å¯ä»¥ç”¨â€œå£è¯€â€å’Œâ€œæ¯”å–»â€æ¥å½»åº•ææ‡‚å®ƒã€‚\n\n### ğŸš€ æ ¸å¿ƒå£è¯€\n\nå…ˆä¸Šå£è¯€ï¼Œå¸®ä½ å»ºç«‹å¤§å±€è§‚ï¼š\n\n> **å£è¯€ä¸€ï¼ˆBinder æ˜¯ä»€ä¹ˆï¼‰ï¼š**\n> > **â€œä¸€ä¸ªæ€»æœº (SM)ï¼Œä¸€ä¸ªé©±åŠ¨ (Driver)ï¼›â€**\n> > **â€œC/S æ¶æ„ï¼Œè·¨è¿›ç¨‹é€šä¿¡ã€‚â€**\n>\n> **å£è¯€äºŒï¼ˆBinder å¦‚ä½•å®ç°ï¼‰ï¼š**\n> > **â€œå®¢æˆ·ç«¯ (Client) è°ƒä»£ç† (Proxy)ï¼›â€**\n> > **â€œä»£ç† (Proxy) æ‰“åŒ… (Parcel) æ‰”é©±åŠ¨ (Driver)ï¼›â€**\n> > **â€œé©±åŠ¨ (Driver) åªæ‹·ä¸€æ¬¡ï¼ˆmmapï¼‰ï¼›â€**\n> > **â€œæœåŠ¡ç«¯ (Server) çº¿ç¨‹é†’ï¼ŒStub è§£åŒ…è°ƒçœŸèº«ã€‚â€**\n\n---\n\n### 1. ä»€ä¹ˆæ˜¯ Binderï¼Ÿï¼ˆâ€œæ˜¯ä»€ä¹ˆâ€ï¼‰\n\n`Binder` æ˜¯ä¸€ç§**è¿›ç¨‹é—´é€šä¿¡ï¼ˆIPCï¼‰æœºåˆ¶**ã€‚\n\n* **ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ**\n    Android ç³»ç»Ÿä¸­ï¼Œæ¯ä¸ª App éƒ½è¿è¡Œåœ¨**ç‹¬ç«‹çš„è¿›ç¨‹**ä¸­ï¼Œå®ƒä»¬çš„å†…å­˜ç©ºé—´æ˜¯**éš”ç¦»**çš„ï¼ˆè¿™æ˜¯ Linux ç³»ç»Ÿçš„å®‰å…¨ç‰¹æ€§ï¼‰ã€‚\n    * è¿›ç¨‹ A **ä¸èƒ½**ç›´æ¥è®¿é—®è¿›ç¨‹ B çš„å†…å­˜ã€‚\n    * ä½†æ˜¯ï¼Œä½ çš„ Appï¼ˆè¿›ç¨‹Aï¼‰éœ€è¦è°ƒç”¨ç³»ç»ŸæœåŠ¡ï¼ˆæ¯”å¦‚ `ActivityManagerService`ï¼Œè¿è¡Œåœ¨ `system_server` è¿›ç¨‹Bï¼‰æ¥å¯åŠ¨ Activityã€‚\n    * `Binder` å°±æ˜¯é‚£åº§è·¨è¶Šâ€œå†…å­˜é¸¿æ²Ÿâ€çš„æ¡¥æ¢ã€‚\n\n* **å®ƒçš„å››ä¸ªæ ¸å¿ƒç»„ä»¶ï¼ˆå¯¹åº”å£è¯€ä¸€ï¼‰ï¼š**\n    1.  **Clientï¼ˆå®¢æˆ·ç«¯ï¼‰ï¼š** å‘èµ·è¯·æ±‚çš„è¿›ç¨‹ï¼ˆæ¯”å¦‚ä½ çš„ Appï¼‰ã€‚\n    2.  **Serverï¼ˆæœåŠ¡ç«¯ï¼‰ï¼š** æä¾›æœåŠ¡çš„è¿›ç¨‹ï¼ˆæ¯”å¦‚ `ActivityManagerService`ï¼‰ã€‚\n    3.  **ServiceManagerï¼ˆæ€»æœº/æ³¨å†Œä¸­å¿ƒï¼‰ï¼š** ä¸€ä¸ª**ç‹¬ç«‹çš„è¿›ç¨‹**ï¼Œå®ƒçš„ä½œç”¨æ˜¯â€œæ³¨å†Œâ€å’Œâ€œæŸ¥è¯¢â€æœåŠ¡ã€‚\n    4.  **Binder Driverï¼ˆé©±åŠ¨ç¨‹åºï¼‰ï¼š** è¿è¡Œåœ¨**å†…æ ¸ç©ºé—´**çš„æ¨¡å—ï¼ˆ`/dev/binder`ï¼‰ï¼Œæ˜¯æ•´ä¸ªé€šä¿¡çš„æ ¸å¿ƒä¸­è½¬ç«™ã€‚\n\n### 2. Binder æ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿï¼ˆâ€œæ€ä¹ˆåšâ€ï¼‰\n\nè¿™æ˜¯é¢è¯•çš„é‡ç‚¹ã€‚æˆ‘ä»¬å°†ç”¨ä¸€ä¸ªâ€œ**App å¯åŠ¨ Activity**â€çš„ä¾‹å­ï¼Œæ¥èµ°ä¸€éâ€œ**å£è¯€äºŒ**â€çš„æµç¨‹ï¼š\n\n**åœºæ™¯ï¼š** ä½ çš„ App (Client) è°ƒç”¨ `ActivityManagerService` (Server) çš„ `startActivity()` æ–¹æ³•ã€‚\n\n---\n\n****\n\n---\n\n#### æ­¥éª¤ 0ï¼šæ³¨å†Œï¼ˆServer å¯åŠ¨æ—¶ï¼‰\n1.  `ActivityManagerService` (Server) å¯åŠ¨æ—¶ï¼Œä¼šå‘ `ServiceManager` (æ€»æœº) æ³¨å†Œï¼šâ€œä½ å¥½ï¼Œæˆ‘æ˜¯â€˜activityâ€™æœåŠ¡ï¼Œæˆ‘çš„â€˜é—¨ç‰Œå·â€™(Binderå¥æŸ„)æ˜¯ 123â€ã€‚\n2.  `ServiceManager` è®°å½•ï¼š`\"activity\" -> 123`ã€‚\n\n#### æ­¥éª¤ 1 + 2ï¼šâ€œå®¢æˆ·ç«¯ (Client) è°ƒä»£ç† (Proxy)â€\n1.  ä½ çš„ App (Client) å‡†å¤‡è°ƒç”¨ `startActivity()`ã€‚ä½†å®ƒä¸èƒ½ç›´æ¥è°ƒç”¨ï¼Œå®ƒåªèƒ½æ‹¿åˆ°ä¸€ä¸ª `ActivityManagerService` çš„**ä»£ç†å¯¹è±¡ (Proxy)**ã€‚\n2.  ï¼ˆ*è¿™ä¸ª Proxy æ˜¯æ€ä¹ˆæ¥çš„ï¼Ÿ* ä½ çš„ App ä¼šå…ˆé—® `ServiceManager`ï¼šâ€œâ€˜activityâ€™æœåŠ¡çš„é—¨ç‰Œå·æ˜¯å¤šå°‘ï¼Ÿâ€ `ServiceManager` å›ç­”ï¼šâ€œ123â€ã€‚ä½ çš„ App å°±ä¼šå¾—åˆ°ä¸€ä¸ªæŒ‡å‘ 123 çš„ä»£ç†å¯¹è±¡ã€‚ï¼‰\n3.  ä½ è°ƒç”¨ `proxy.startActivity(intent)`ã€‚\n\n#### æ­¥éª¤ 3ï¼šâ€œä»£ç† (Proxy) æ‰“åŒ… (Parcel) æ‰”é©±åŠ¨ (Driver)â€\n1.  `Proxy` å¯¹è±¡ï¼ˆå®ƒåœ¨ä½ çš„ Client è¿›ç¨‹ä¸­ï¼‰å¼€å§‹å·¥ä½œã€‚\n2.  å®ƒæŠŠ `startActivity` è¿™ä¸ª**æ–¹æ³•å**ï¼ˆè½¬æ¢æˆä¸€ä¸ª`TRANSACTION_CODE`ï¼Œæ¯”å¦‚ `_TRANSACTION_startActivity = 1`ï¼‰å’Œä½ çš„ `intent` **å‚æ•°**ï¼Œâ€œæ‰“åŒ…â€è¿›ä¸€ä¸ªå«åš `Parcel` çš„æ ‡å‡†é›†è£…ç®±é‡Œã€‚\n3.  `Proxy` é€šè¿‡ `ioctl()` ç³»ç»Ÿè°ƒç”¨ï¼ŒæŠŠè¿™ä¸ª `Parcel` æ‰”ç»™**å†…æ ¸**çš„ **Binder é©±åŠ¨ (Driver)**ã€‚\n\n#### æ­¥éª¤ 4ï¼šâ€œé©±åŠ¨ (Driver) åªæ‹·ä¸€æ¬¡ï¼ˆmmapï¼‰â€\nè¿™æ˜¯ Binder **æ•ˆç‡æœ€é«˜**çš„åœ°æ–¹ï¼\n1.  **ä¼ ç»Ÿ IPCï¼ˆå¦‚ç®¡é“ï¼‰**ï¼šéœ€è¦ 2 æ¬¡æ‹·è´ã€‚\n    * æ•°æ®ä» [Client å†…å­˜] -> [å†…æ ¸å†…å­˜]\n    * æ•°æ®ä» [å†…æ ¸å†…å­˜] -> [Server å†…å­˜]\n2.  **Binder IPC**ï¼šåªéœ€è¦ 1 æ¬¡æ‹·è´ã€‚\n    * Binder é©±åŠ¨**ä¸ä¼š**æŠŠæ•°æ®æ‹·è´åˆ°å†…æ ¸ã€‚\n    * å®ƒä½¿ç”¨ `mmap` (å†…å­˜æ˜ å°„) æŠ€æœ¯ï¼Œç›´æ¥æŠŠ Server è¿›ç¨‹çš„å†…å­˜â€œæ˜ å°„â€åˆ°å†…æ ¸ç©ºé—´ã€‚\n    * é©±åŠ¨**ç›´æ¥**æŠŠæ•°æ®ä» [Client å†…å­˜] æ‹·è´åˆ° [Server å†…å­˜]ï¼ˆè¿™å—å†…å­˜ Server å’Œå†…æ ¸éƒ½èƒ½è®¿é—®ï¼‰ã€‚\n\n#### æ­¥éª¤ 5ï¼šâ€œæœåŠ¡ç«¯ (Server) çº¿ç¨‹é†’ï¼ŒStub è§£åŒ…è°ƒçœŸèº«â€\n1.  Binder é©±åŠ¨æ‹·è´å®Œæ•°æ®åï¼Œä¼šé€šçŸ¥ Server è¿›ç¨‹ï¼ˆ`ActivityManagerService`ï¼‰ã€‚\n2.  Binder é©±åŠ¨ä¼šä» Server è¿›ç¨‹çš„**çº¿ç¨‹æ± **ä¸­å”¤é†’ä¸€ä¸ª**å·¥ä½œçº¿ç¨‹**ã€‚\n3.  è¿™ä¸ªå·¥ä½œçº¿ç¨‹æ”¶åˆ°äº† `Parcel`ï¼ˆé‚£ä¸ªé›†è£…ç®±ï¼‰ã€‚\n4.  Server è¿›ç¨‹ä¸­æœ‰ä¸€ä¸ªå« `Stub` çš„å¯¹è±¡ï¼ˆ`Proxy` çš„å­ªç”Ÿå…„å¼Ÿï¼‰ã€‚`Stub` è´Ÿè´£â€œè§£åŒ…â€ã€‚\n5.  `Stub` æ‰“å¼€ `Parcel`ï¼Œçœ‹åˆ°ï¼š\n    * `TRANSACTION_CODE` æ˜¯ `1` -> å•Šï¼ŒåŸæ¥æ˜¯è¦è°ƒç”¨ `startActivity`ã€‚\n    * å‚æ•°æ˜¯ `intent` å¯¹è±¡ã€‚\n6.  `Stub` äºæ˜¯å»è°ƒç”¨**çœŸæ­£çš„** `ActivityManagerService` å¯¹è±¡çš„ `startActivity(intent)` æ–¹æ³•ã€‚\n7.  ï¼ˆæ‰§è¡Œå®Œæ¯•åï¼Œ`Stub` ä¼šæŠŠè¿”å›å€¼ï¼ˆå¦‚æœæœ‰ï¼‰å†æ‰“åŒ…æˆä¸€ä¸ª `Parcel`ï¼ŒæŒ‰åŸè·¯è¿”å›ç»™ Clientã€‚ï¼‰\n\n---\n\n### 3. æˆ‘ä»¬å¼€å‘è€…å¦‚ä½•ä½¿ç”¨ Binderï¼Ÿ(AIDL)\n\né¢è¯•å®˜å¯èƒ½è¿˜ä¼šè¿½é—®ï¼šâ€œé‚£ä½ å¹³æ—¶æ€ä¹ˆç”¨ Binderï¼Ÿâ€\n\n* **ç­”ï¼š** æˆ‘ä»¬å¹³æ—¶å¾ˆå°‘ç›´æ¥æ“ä½œ Binderï¼Œè€Œæ˜¯é€šè¿‡ **AIDL (Android Interface Definition Language)** æ¥ä½¿ç”¨ã€‚\n* `AIDL` æ˜¯ä¸€ä¸ªæ¥å£å®šä¹‰è¯­è¨€ã€‚ä½ åªè¦å†™ä¸€ä¸ª `.aidl` æ–‡ä»¶ï¼ˆæ¯”å¦‚ `IMyService.aidl`ï¼‰ã€‚\n* Android ç¼–è¯‘å·¥å…·ä¼šè‡ªåŠ¨å¸®ä½ ç”Ÿæˆä¸€å¥— Java ä»£ç ï¼Œè¿™å¥—ä»£ç å°±**åŒ…å«äº† `Proxy` å’Œ `Stub`**ï¼\n* `Proxy` ç±»ï¼šç»™å®¢æˆ·ç«¯ï¼ˆè°ƒç”¨æ–¹ï¼‰ç”¨ã€‚\n* `Stub` ç±»ï¼šä¸€ä¸ªæŠ½è±¡ç±»ï¼Œéœ€è¦æœåŠ¡ç«¯ï¼ˆæœåŠ¡æä¾›æ–¹ï¼‰å»ç»§æ‰¿å’Œå®ç°çœŸæ­£çš„ä¸šåŠ¡é€»è¾‘ï¼ˆæ¯”å¦‚ `startActivity`ï¼‰ã€‚\n\n**ä¸€å¥è¯ï¼šAIDL å°±æ˜¯ä¸€ä¸ªä»£ç ç”Ÿæˆå™¨ï¼Œå®ƒå¸®æˆ‘ä»¬è‡ªåŠ¨å†™å¥½äº†â€œå£è¯€äºŒâ€é‡Œçš„æ‰€æœ‰è„æ´»ç´¯æ´»ã€‚**\n\n---\n\n### 4. æ€»ç»“ï¼šBinder ä¸ºä»€ä¹ˆå¥½ï¼Ÿ\n\n**é¢è¯•å®˜ï¼š** â€œé‚£ Android ä¸ºä»€ä¹ˆä¸ç”¨ Linux å·²æœ‰çš„ IPCï¼ˆç®¡é“ã€Socket...ï¼‰ï¼Œéè¦è‡ªå·±æä¸€å¥— Binderï¼Ÿâ€\n\n**ç­”ï¼š** å› ä¸º Binder å¸¦æ¥äº† 3 ä¸ªæ ¸å¿ƒä¼˜åŠ¿ï¼š\n\n1.  **æ€§èƒ½ï¼ˆæ•ˆç‡é«˜ï¼‰ï¼š**\n    * **åªéœ€ 1 æ¬¡å†…å­˜æ‹·è´ã€‚** æ­£å¦‚â€œå£è¯€äºŒâ€æ‰€è¯´ï¼Œå®ƒä½¿ç”¨ `mmap`ï¼Œæ¯”ä¼ ç»Ÿ IPC çš„ 2 æ¬¡æ‹·è´å¿«å¾—å¤šã€‚è¿™åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šè‡³å…³é‡è¦ã€‚\n2.  **çº¿ç¨‹ç®¡ç†ï¼ˆçœå¿ƒï¼‰ï¼š**\n    * Binder é©±åŠ¨**è‡ªåŠ¨ç®¡ç†**æœåŠ¡ç«¯çš„çº¿ç¨‹æ± ã€‚Server å¼€å‘è€…ä¸éœ€è¦è‡ªå·±å»å†™å¤æ‚çš„çº¿ç¨‹ç®¡ç†ä»£ç ï¼Œé¿å…äº†çº¿ç¨‹çˆ†ç‚¸ï¼Œä¹Ÿè®©å“åº”æ›´åŠæ—¶ã€‚\n3.  **å®‰å…¨æ€§ï¼ˆå¯è¿½æº¯ï¼‰ï¼š**\n    * Binder é©±åŠ¨åœ¨ä¼ é€’æ•°æ®æ—¶ï¼Œä¼šè‡ªåŠ¨é™„åŠ **å‘é€æ–¹çš„ UID å’Œ PID**ï¼ˆç”¨æˆ·IDå’Œè¿›ç¨‹IDï¼‰ã€‚\n    * æœåŠ¡ç«¯å¯ä»¥è½»æ˜“åœ°çŸ¥é“â€œæ˜¯è°åœ¨è°ƒç”¨æˆ‘ï¼Ÿâ€ï¼ˆæ¯”å¦‚ `getCallingUid()`ï¼‰ï¼Œä»è€Œè¿›è¡Œæƒé™éªŒè¯ã€‚\n\n---\n\n### ğŸ’¡ é¢è¯•æ¨¡æ‹Ÿå›ç­”\n\n**é¢è¯•å®˜ï¼š** â€œè®²è®² Binder çš„å®ç°åŸç†ï¼Ÿâ€\n\n**ä½ ï¼š** â€œå¥½çš„ã€‚Binder æ˜¯ Android çš„æ ¸å¿ƒ IPC æœºåˆ¶ï¼Œå®ƒæ˜¯ä¸€ä¸ª C/S æ¶æ„ï¼Œæˆ‘ç”¨ä¸€ä¸ªå£è¯€æ¥æ¦‚æ‹¬å®ƒçš„å®ç°ï¼šâ€˜**å®¢æˆ·ç«¯è°ƒä»£ç†ï¼Œä»£ç†æ‰“åŒ…æ‰”é©±åŠ¨ï¼Œé©±åŠ¨åªæ‹·ä¸€æ¬¡ï¼ŒæœåŠ¡ç«¯çº¿ç¨‹é†’ï¼ŒStub è§£åŒ…è°ƒçœŸèº«**â€™ã€‚â€\n\n> â€œï¼ˆç„¶åï¼Œä½ å¯ä»¥æŒ‰ä¸Šé¢çš„ **æ­¥éª¤ 1 åˆ° 5** å±•å¼€è§£é‡Š...ï¼‰â€\n>\n> â€œå®ƒæœ€å¤§çš„å®ç°äº®ç‚¹ï¼Œå°±æ˜¯åœ¨å†…æ ¸çš„ Binder é©±åŠ¨å±‚ï¼Œé€šè¿‡ **`mmap` å†…å­˜æ˜ å°„**ï¼Œå®ç°äº†**ä» Client åˆ° Server åªéœ€è¦ 1 æ¬¡å†…å­˜æ‹·è´**ï¼Œæ€§èƒ½è¿œè¶…ä¼ ç»Ÿçš„ IPC æœºåˆ¶ã€‚â€\n>\n> â€œæ­¤å¤–ï¼ŒBinder é©±åŠ¨è¿˜ä¼šå¸® Server ç«¯ç®¡ç†çº¿ç¨‹æ± ï¼Œå¹¶ä¸”åœ¨é€šä¿¡æ—¶è‡ªåŠ¨é™„åŠ è°ƒç”¨æ–¹çš„ UID/PIDï¼Œä¿è¯äº†å®‰å…¨æ€§ã€‚â€\n>\n> â€œæˆ‘ä»¬å¼€å‘è€…å¹³æ—¶ä¸»è¦é€šè¿‡ `AIDL` æ¥ä½¿ç”¨ Binderï¼Œ`AIDL` ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬ç”Ÿæˆ Client ç«¯çš„ `Proxy` å’Œ Server ç«¯çš„ `Stub` ä»£ç ï¼Œè®©æˆ‘ä»¬èƒ½æ–¹ä¾¿åœ°è¿›è¡Œè·¨è¿›ç¨‹è°ƒç”¨ã€‚â€\n\nä½ å¸Œæœ›æˆ‘å†æ·±å…¥è®²è®² `Parcel` æ˜¯å¦‚ä½•æ‰“åŒ…æ•°æ®ï¼Œæˆ–è€… `mmap` æ˜¯å¦‚ä½•å·¥ä½œçš„å—ï¼Ÿ"
    },
    {
      "question": "Viewçš„ç»˜åˆ¶æµç¨‹ ï¼Ÿ",
      "answer": "\n\nè¿™ä¸ªé—®é¢˜å¾ˆå…³é”®ï¼ŒAndroid View ç»˜åˆ¶æ ¸å¿ƒæµç¨‹æ˜¯æµ‹é‡\nï¼ˆMeasureï¼‰â†’ å¸ƒå±€ï¼ˆLayoutï¼‰â†’ ç»˜åˆ¶ï¼ˆDrawï¼‰ä¸‰æ­¥ï¼Œä»é¡¶å±‚ View é€’å½’æ‰§è¡Œåˆ°æ‰€æœ‰å­ Viewã€‚\n\n ### 1. æµ‹é‡ï¼ˆMeasureï¼‰ï¼šç¡®å®š View å¤§å° - çˆ¶ View ä¼ é€’æµ‹é‡è§„æ ¼ï¼ˆMeasureSpecï¼‰ï¼ŒåŒ…å«æ¨¡å¼ï¼ˆEXACTLY/AT_MOST/UNSPECIFIEDï¼‰å’Œå»ºè®®å°ºå¯¸ã€‚\n - View ç»“åˆè‡ªèº« LayoutParamsï¼Œé€šè¿‡onMeasure()è®¡ç®—å‡ºæœ€ç»ˆå®½é«˜ï¼ˆsetMeasuredDimension() ç¡®å®šï¼‰ã€‚ - å®¹å™¨ç±» Viewï¼ˆå¦‚ LinearLayoutï¼‰ä¼šéå†å­ View è°ƒç”¨ measure()ï¼Œå®Œæˆæ‰€æœ‰å­ View æµ‹é‡ã€‚ \n\n--- ### 2. å¸ƒå±€ï¼ˆLayoutï¼‰ï¼šç¡®å®š View ä½ç½® - çˆ¶ View æ‹¿åˆ°å­ View æµ‹é‡åçš„å°ºå¯¸ï¼Œé€šè¿‡onLayout()ç¡®å®šå­ View åœ¨è‡ªèº«åæ ‡ç³»ä¸­çš„ä½ç½®ï¼ˆleft/top/right/bottomï¼‰ã€‚\n - å­ View æ¥æ”¶çˆ¶ View ä¼ é€’çš„ä½ç½®å‚æ•°ï¼Œè°ƒç”¨è‡ªèº« layout() æ–¹æ³•ï¼Œè¿›ä¸€æ­¥é€’å½’å¸ƒå±€å­ Viewã€‚ - æ­¤é˜¶æ®µä»…ç¡®å®šä½ç½®ï¼Œä¸æ”¹å˜å·²æµ‹é‡çš„å°ºå¯¸ã€‚ \n\n--- ### 3. ç»˜åˆ¶ï¼ˆDrawï¼‰ï¼šå°† View æ¸²æŸ“åˆ°å±å¹• - æ ¸å¿ƒé€šè¿‡onDraw(Canvas)å®ç°ï¼ŒCanvas æä¾›ç»˜åˆ¶å›¾å½¢ã€æ–‡å­—ã€å›¾ç‰‡çš„ APIã€‚ - ç»˜åˆ¶é¡ºåºï¼šå…ˆç»˜åˆ¶èƒŒæ™¯ï¼ˆdrawBackground()ï¼‰ï¼Œå†ç»˜åˆ¶è‡ªèº«å†…å®¹ï¼ˆonDraw()ï¼‰ï¼Œæœ€åç»˜åˆ¶å­ Viewï¼ˆdispatchDraw()ï¼‰å’Œè£…é¥°ï¼ˆå¦‚æ»šåŠ¨æ¡ï¼‰ã€‚ - ä»…å½“ View å¯è§ã€å°ºå¯¸ä¸ä¸º 0 æ—¶ï¼Œæ‰ä¼šæ‰§è¡Œç»˜åˆ¶ã€‚\n --- è¦ä¸è¦æˆ‘å¸®ä½ æ•´ç†ä¸€ä»½View ç»˜åˆ¶æµç¨‹æ ¸å¿ƒæ–¹æ³•è°ƒç”¨é“¾è·¯+å¸¸è§é—®é¢˜æ’æŸ¥æ¸…å•ï¼ŸåŒ…å« onMeasure é‡å†™ç¤ºä¾‹ã€MeasureSpec è§£æï¼Œæ–¹ä¾¿ä½ å®é™…å¼€å‘ä¸­å‚è€ƒã€‚",
      "detail": ""
    },
    {
      "question": "å›¾ç‰‡å‹ç¼© ï¼Ÿ",
      "answer": "ç±»å‹\t                                                 ä½œç”¨\t                                      ç¤ºä¾‹\nå°ºå¯¸å‹ç¼©ï¼ˆå°ºå¯¸é‡‡æ ·ï¼‰\t                é™ä½åƒç´ å®½é«˜ï¼Œå‡å°‘å†…å­˜\t    é€šè¿‡ BitmapFactory.Options.inSampleSize\nè´¨é‡å‹ç¼©ï¼ˆQuality Compressionï¼‰\tä¸æ”¹å°ºå¯¸ï¼Œåªé™ä½è´¨é‡\t    bitmap.compress() ç”Ÿæˆæ–‡ä»¶\næ ¼å¼å‹ç¼©ï¼ˆFormat Compressionï¼‰\tæ”¹å˜å›¾ç‰‡æ ¼å¼\t                    PNG â†’ JPEG â†’ WebP/AVIF\né‡‡æ ·å‹ç¼©ï¼ˆSample Compressionï¼‰\tåŠ è½½æ—¶å°±é‡‡æ ·å‹ç¼©\t             BitmapFactory.decodeFile() + inJustDecodeBounds\n\nåº“\t                             ä¼˜ç‚¹\t                                                           ç”¨æ³•\nLuban (é²ç­)\t  æ•ˆæœå¥½ï¼Œä»¿å¾®ä¿¡å‹ç¼©ç®—æ³•\t                 Luban.with(context).load(file).setCompressListener(...).launch()\nCompressor\t  è½»é‡ç®€æ´ï¼Œå¯æ§å‚æ•°\t                 Compressor(context).setQuality(80).setMaxWidth(800).compressToFile(file)\nTiny\tå¼‚æ­¥å‹ç¼©ã€  é“¾å¼è°ƒç”¨\t                                Tiny.getInstance().source(file).asFile().compress(...)",
      "detail": ""
    },
    {
      "question": "Android åŠ¨ç”»æœ‰å“ªäº›ï¼Ÿ",
      "answer": "> Android åŠ¨ç”»ç°åœ¨ä¸»è¦åˆ† 4 ç±»ï¼š\n> ç¬¬ä¸€ç±»æ˜¯ **View åŠ¨ç”»**ï¼ŒåŒ…æ‹¬å¹³ç§»ã€ç¼©æ”¾ã€æ—‹è½¬ã€é€æ˜ï¼Œå®ƒåªæ”¹å˜è§†è§‰ï¼Œä¸æ”¹å˜çœŸå®å±æ€§ã€‚\n> ç¬¬äºŒç±»æ˜¯ **Frame åŠ¨ç”»**ï¼Œé€å¸§æ’­æ”¾ï¼Œé€‚åˆåš loading æˆ–ç¤¼ç‰©åŠ¨ç”»ã€‚\n> ç¬¬ä¸‰ç±»æ˜¯ **Property Animation**ï¼Œæ˜¯ç›®å‰ä¸»æµçš„åŠ¨ç”»ä½“ç³»ï¼Œå¯ä»¥çœŸæ­£æ”¹å˜å¯¹è±¡å±æ€§ï¼Œæ¯”å¦‚ alphaã€rotationã€x/y åæ ‡ç­‰ã€‚\n> ç¬¬å››ç±»æ˜¯ **MotionLayout**ï¼Œæ˜¯æœ€å¼ºçš„åŠ¨ç”»ç³»ç»Ÿï¼Œé€‚åˆå¤æ‚é¡µé¢è”åŠ¨ã€æ‰‹åŠ¿äº¤äº’å’Œå¤šçŠ¶æ€è¿‡æ¸¡ã€‚\n> API 11 ä¹‹åå®˜æ–¹æ¨èä½¿ç”¨å±æ€§åŠ¨ç”»å’Œ MotionLayoutã€‚",
      "detail": "ä¸‹é¢æˆ‘ç»™ä½ ä¸€ä¸ª**æœ€ç»ˆç²¾ç‚¼ç‰ˆ + é€Ÿè®°å£è¯€ + é¢è¯•æ¨¡æ¿å›ç­”**ï¼Œæ¯”ä½ è´´çš„å†…å®¹æ›´é€‚åˆåœ¨é¢è¯•é‡ŒèƒŒè¯µã€‚\n\n---\n\n# ğŸ¯ **Android åŠ¨ç”»ç§ç±»ï¼ˆé¢è¯•ç»ˆæç‰ˆæœ¬ï¼‰**\n\nAndroid åŠ¨ç”»ä»æ—§åˆ°æ–°å¯åˆ† **4 å¤§ç±»**ï¼š\n\n---\n\n## **1ï¸âƒ£ View åŠ¨ç”»ï¼ˆè¡¥é—´åŠ¨ç”» Tween Animationï¼‰**\n\nğŸ‘‰ **åªæ”¹å˜æ˜¾ç¤ºæ•ˆæœï¼Œä¸æ”¹å˜çœŸå®å±æ€§**\nğŸ‘‰ å±äºæ˜¯è€ä½“ç³»ï¼Œé€æ¸æ·˜æ±°\n\nåŒ…å«ï¼š\n\n| ç±»å‹ | æ ‡ç­¾            |\n| -- | ------------- |\n| ç§»åŠ¨ | `<translate>` |\n| ç¼©æ”¾ | `<scale>`     |\n| æ—‹è½¬ | `<rotate>`    |\n| é€æ˜ | `<alpha>`     |\n| ç»„åˆ | `<set>`       |\n\nâŒ åŠ¨å®Œåç‚¹å‡»åŒºåŸŸä¸ä¼šå˜ï¼ˆä½ç½®æ²¡çœŸæ­£ç§»åŠ¨ï¼‰\n\n---\n\n## **2ï¸âƒ£ Frame åŠ¨ç”»ï¼ˆé€å¸§ Animation-listï¼‰**\n\nğŸ‘‰ **ä¸€å¸§ä¸€å¸§æ’­æ”¾ï¼Œç±»ä¼¼ GIF**\n\nä¼˜ç‚¹ï¼šç®€å•\nç¼ºç‚¹ï¼šå¤§å›¾å®¹æ˜“ OOMï¼ˆç›´æ’­ç¤¼ç‰©ã€loading å¸¸ç”¨ï¼‰\n\n---\n\n## **3ï¸âƒ£ Property Animationï¼ˆå±æ€§åŠ¨ç”»ï¼‰â­â­â­ï¼ˆä¸»æµï¼‰**\n\nğŸ‘‰ **çœŸæ­£ä¿®æ”¹å±æ€§å€¼ï¼ŒåŠ¨ç”»ç»“æŸä»ç„¶ç”Ÿæ•ˆ**\nğŸ‘‰ Android 3.0 åå…¨é¢æ¨è\n\nåŒ…å«ä¸»è¦ç±»ï¼š\n\n* `ObjectAnimator`\n* `ValueAnimator`\n* `AnimatorSet`\n* `ViewPropertyAnimator`\n\nå¯æ”¹ï¼š`alpha / rotation / x / y / translationX / scaleX ...`\n\nâœ” ç°åœ¨ 90% çš„åŠ¨ç”»éƒ½é å®ƒåšã€‚\n\n---\n\n## **4ï¸âƒ£ MotionLayoutï¼ˆæœ€å¼ºåŠ¨ç”»ç³»ç»Ÿï¼‰â­â­â­â­â­**\n\nğŸ‘‰ **ConstraintLayout 2.0+** çš„åŠ¨ç”»ç³»ç»Ÿ\nğŸ‘‰ **å¤æ‚äº¤äº’ã€æ‹–æ‹½ã€æ‰‹åŠ¿ã€è¿‡æ¸¡åŠ¨ç”»é¦–é€‰**\n\nèƒ½å®ç°ï¼š\n\n* æŠ–éŸ³æ’­æ”¾å™¨è¿‡æ¸¡\n* äº¬ä¸œ/æ·˜å®è¯¦æƒ…é¡µå¸é¡¶æ•ˆæœ\n* å¤šçŠ¶æ€è¿‡æ¸¡ã€è”åŠ¨åŠ¨ç”»\n* è‡ªå®šä¹‰æ—¶é—´çº¿ã€è·¯å¾„\n\nåŸºäº **MotionScene + ConstraintSet + Transition**\n\nâœ” Google ç›®å‰æœ€æ¨èçš„åŠ¨ç”»æ–¹å¼\nâœ” èƒ½æ›¿ä»£ CoordinatorLayout + Behavior\n\n---\n\n# ğŸªœ **Android åŠ¨ç”»ä½“ç³»è¿›åŒ–å›¾ï¼ˆé¢è¯•å®˜æœ€å–œæ¬¢ï¼‰**\n\n```\nView åŠ¨ç”»ï¼ˆè€ï¼‰\n      â†“\nFrame åŠ¨ç”»ï¼ˆç‰¹æ®Šï¼‰\n      â†“\nå±æ€§åŠ¨ç”»ï¼ˆä¸»æµï¼‰\n      â†“\nMotionLayoutï¼ˆæœ€å¼ºï¼‰\n```\n\n---\n\n# ğŸ§  **é€Ÿè®°å£è¯€ï¼ˆçœ‹ä¸€éå°±è®°ä½ï¼‰**\n\n> **â€œè§†è¡¥å¸§ï¼Œå±çœŸæ”¹ï¼ŒMotion æœ€å¼ºå…¨èƒ½å¸¦ã€‚â€**\n\næ‹†è§£ï¼š\n\n* **è§†è¡¥å¸§** â†’ View åŠ¨ç”»åŒ…å«è¡¥é—´ + å¸§åŠ¨ç”»\n* **å±çœŸæ”¹** â†’ å±æ€§åŠ¨ç”»æ‰æ˜¯çœŸæ­£æ”¹å˜ View\n* **Motion æœ€å¼º** â†’ MotionLayout æ˜¯å®˜æ–¹æœ€å¼ºæ–¹æ¡ˆ\n* **å…¨èƒ½å¸¦** â†’ å¤æ‚äº¤äº’ã€è”åŠ¨å…¨éƒ¨æå®š\n\n---\n\n# ğŸ§¾ **30 ç§’é¢è¯•æ ‡å‡†å›ç­”ï¼ˆå¯ç›´æ¥èƒŒï¼‰**\n\n> Android åŠ¨ç”»ç°åœ¨ä¸»è¦åˆ† 4 ç±»ï¼š\n> ç¬¬ä¸€ç±»æ˜¯ **View åŠ¨ç”»**ï¼ŒåŒ…æ‹¬å¹³ç§»ã€ç¼©æ”¾ã€æ—‹è½¬ã€é€æ˜ï¼Œå®ƒåªæ”¹å˜è§†è§‰ï¼Œä¸æ”¹å˜çœŸå®å±æ€§ã€‚\n> ç¬¬äºŒç±»æ˜¯ **Frame åŠ¨ç”»**ï¼Œé€å¸§æ’­æ”¾ï¼Œé€‚åˆåš loading æˆ–ç¤¼ç‰©åŠ¨ç”»ã€‚\n> ç¬¬ä¸‰ç±»æ˜¯ **Property Animation**ï¼Œæ˜¯ç›®å‰ä¸»æµçš„åŠ¨ç”»ä½“ç³»ï¼Œå¯ä»¥çœŸæ­£æ”¹å˜å¯¹è±¡å±æ€§ï¼Œæ¯”å¦‚ alphaã€rotationã€x/y åæ ‡ç­‰ã€‚\n> ç¬¬å››ç±»æ˜¯ **MotionLayout**ï¼Œæ˜¯æœ€å¼ºçš„åŠ¨ç”»ç³»ç»Ÿï¼Œé€‚åˆå¤æ‚é¡µé¢è”åŠ¨ã€æ‰‹åŠ¿äº¤äº’å’Œå¤šçŠ¶æ€è¿‡æ¸¡ã€‚\n> API 11 ä¹‹åå®˜æ–¹æ¨èä½¿ç”¨å±æ€§åŠ¨ç”»å’Œ MotionLayoutã€‚\n\nä½ è¿™æ ·ç­”ï¼Œé¢è¯•å®˜ä¸€èˆ¬éƒ½ä¼šè¯´ï¼š\n**â€œå›ç­”å¾—å¾ˆå…¨é¢ï¼Œç»§ç»­èŠä¸‹ä¸€ä¸ªé—®é¢˜ã€‚â€**\n\n---\n\nå¦‚æœä½ éœ€è¦ï¼Œæˆ‘è¿˜èƒ½ç»™ä½ ï¼š\n\nâœ… æ¯ç§åŠ¨ç”»çš„ Kotlin + XML ç¤ºä¾‹\nâœ… é¢è¯•é¢˜ï¼šå±æ€§åŠ¨ç”»åŸç†ã€æ’å€¼å™¨ã€ä¼°å€¼å™¨æ€ä¹ˆè®²\nâœ… MotionLayout å®æˆ˜ç¤ºä¾‹ï¼ˆæ‹–æ‹½ã€å¸é¡¶ã€è¿›åº¦æ¡è”åŠ¨ï¼‰\n\nè¦ä¸è¦ï¼Ÿ\n"
    },
    {
      "question": "Handlerçš„åŸç† ï¼Ÿä¸ºä»€ä¹ˆlooperæ­»å¾ªç¯ä¸ä¼šå¡æ­» ï¼Ÿ æœ‰å‡ ä¸ª looper ? å‡ ä¸ªhandler ï¼Ÿ å‡ ä¸ªé˜Ÿåˆ—ï¼Ÿ",
      "answer": "ä¸‹é¢æ˜¯é¢è¯•çº§åˆ«ã€ç»“æ„æ¸…æ™°ã€å¯èƒŒå¯è®²çš„ ğŸ‘‰ **Handler + Looper åŸç†å…¨è§£**\nå¸¦ç€å‡ ä¸ªå…³é”®é—®é¢˜å…¨éƒ¨è®²æ¸…æ¥šï¼š\n\n---\n\n# ğŸŒŸ Handler çš„åŸç†\n\nAndroid ä¸»çº¿ç¨‹ä¸èƒ½é˜»å¡ï¼Œæ‰€ä»¥é‡‡ç”¨**æ¶ˆæ¯æœºåˆ¶**ï¼š\n\n**å››ä¸ªæ ¸å¿ƒè§’è‰²ï¼š**\n\n| åç§°           | ä½œç”¨                  |\n| ------------ | ------------------- |\n| Handler      | å‘é€ / å¤„ç†æ¶ˆæ¯           |\n| MessageQueue | æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆåªå­˜æ”¾æ¶ˆæ¯ï¼‰         |\n| Looper       | æ­»å¾ªç¯å–æ¶ˆæ¯ï¼Œå¹¶äº¤ç»™ Handler  |\n| ThreadLocal  | ä¸ºæ¯ä¸ªçº¿ç¨‹ä¿å­˜ä¸€ä¸ªç‹¬ç«‹çš„ Looper |\n\n**æµç¨‹å›¾ï¼š**\n\n```\nHandler.sendMessage()  \n   â†“ æ”¾å…¥é˜Ÿåˆ—  \nMessageQueue.enqueueMessage()  \n   â†“ Looper è·å–  \nLooper.loop()  å–å‡ºæ¶ˆæ¯ msg  \n   â†“  \nmsg.target.handleMessage(msg)  // target å°±æ˜¯ Handler\n```\n\n---\n\n# â“ ä¸ºä»€ä¹ˆ Looper.loop() æ˜¯æ­»å¾ªç¯å´ä¸ä¼šå¡æ­»ï¼Ÿ\n\nğŸ‘‰ å› ä¸º **MessageQueue çš„ next() æ–¹æ³•æ˜¯é˜»å¡å¼çš„**\nå½“æ²¡æœ‰æ¶ˆæ¯æ—¶ï¼Œå®ƒä¼šé˜»å¡åœ¨ `next()`ï¼Œä¸ä¼šå ç”¨ CPUã€‚ï¼ˆç±»ä¼¼ epollï¼‰\n\n```java\npublic static void loop() {\n    for (;;) {        // æ­»å¾ªç¯\n        Message msg = queue.next(); // â— è¿™é‡Œé˜»å¡ï¼Œæ²¡æœ‰æ¶ˆæ¯å°±ä¼‘çœ \n        msg.target.dispatchMessage(msg);\n    }\n}\n```\n\nğŸ” **å…³é”®ç‚¹**ï¼š\n\n* Looper å¹¶ä¸æ˜¯ä¸€ç›´è·‘ CPU\n* å®ƒæ˜¯ï¼š**æœ‰æ¶ˆæ¯æ‰å¤„ç†ï¼Œæ— æ¶ˆæ¯å°±ä¼‘çœ ç­‰å¾…**\n* æ‰€ä»¥ä¸ä¼šå¡æ­»ä¹Ÿä¸ä¼šå¯¼è‡´ ANR\n\n---\n\n# ğŸ§  æœ‰å‡ ä¸ª Looperï¼Ÿå‡ ä¸ª Handlerï¼Ÿå‡ ä¸ªé˜Ÿåˆ—ï¼Ÿ\n\n| é¡¹ç›®                    | æ•°é‡                | è¯´æ˜                |\n| --------------------- | ----------------- | ----------------- |\n| Looper                | ä¸€ä¸ªçº¿ç¨‹åªå…è®¸ 1 ä¸ª       | ä¸»çº¿ç¨‹é»˜è®¤æœ‰ï¼Œå­çº¿ç¨‹éœ€æ‰‹åŠ¨åˆ›å»º   |\n| MessageQueue          | ä¸€ä¸ªçº¿ç¨‹åªå…è®¸ 1 ä¸ª       | Looper å†…éƒ¨æŒæœ‰       |\n| Handler               | å¯ä»¥æœ‰å¤šä¸ª             | éƒ½å¯ä»¥ç»‘å®šå½“å‰çº¿ç¨‹çš„ Looper |\n| Looper + MessageQueue | ä¸€ä¸€å¯¹åº”              | å’Œçº¿ç¨‹ç»‘å®š             |\n| Handler               | åªæ˜¯æ“ä½œ MessageQueue | ä¸å­˜æ¶ˆæ¯æœ¬èº«            |\n\n---\n\n# ğŸ“Œ å…³é”®çŸ¥è¯†ç‚¹æ±‡æ€»ï¼ˆé¢è¯•å¯èƒŒï¼‰\n\n### 1ï¸âƒ£ ä¸€ä¸ªçº¿ç¨‹åªèƒ½æœ‰ä¸€ä¸ª Looper\n\n```java\nLooper.prepare();   // ThreadLocal ä¸­ä¿å­˜ Looper\nLooper.loop();\n```\n\nğŸ‘‰ å¦‚æœè°ƒç”¨ä¸¤æ¬¡ï¼Œç›´æ¥æŠ›å¼‚å¸¸ï¼š\"Only one Looper per thread\"\n\n### 2ï¸âƒ£ ä¸»çº¿ç¨‹é»˜è®¤åˆå§‹åŒ– Looper + MessageQueue\n\nåœ¨ `ActivityThread.main()` ä¸­ï¼š\n\n```java\nLooper.prepareMainLooper();\nLooper.loop();\n```\n\n### 3ï¸âƒ£ å­çº¿ç¨‹è¦æƒ³ä½¿ç”¨ Handler å¿…é¡»å…ˆåˆå§‹åŒ– Looper\n\n```java\nnew Thread(() -> {\n    Looper.prepare();\n    Handler handler = new Handler();\n    Looper.loop();\n}).start();\n```\n\n### 4ï¸âƒ£ Handler å¹¶æ²¡æœ‰é˜Ÿåˆ—ï¼Œå®ƒåªæ˜¯æ“ä½œ MessageQueue\n\n* sendMessage â†’ `MessageQueue.enqueueMessage`\n* handleMessage â†’ `msg.target` å°±æ˜¯ Handler\n\n---\n\n# âš™ Handler å¤„ç†æ¶ˆæ¯æµç¨‹ï¼ˆæºç æ ¸å¿ƒï¼‰\n\n```java\n// Handler.sendMessage()\npublic boolean sendMessage(Message msg) {\n    return enqueueMessage(queue, msg);\n}\n\n// Looper.loop()\nfor (;;) {\n    Message msg = queue.next(); // é˜»å¡ç­‰å¾…æ¶ˆæ¯\n    msg.target.dispatchMessage(msg);  // target = Handler\n}\n```\n\n---\n\n# ğŸš€ ä¸€å¥è¯æ€»ç»“ï¼ˆé¢è¯•ç›´æ¥è¯´ï¼‰\n\n> Handler é€šè¿‡ Looper å’Œ MessageQueue å®ç°çº¿ç¨‹é—´é€šä¿¡ã€‚\n> ä¸€ä¸ªçº¿ç¨‹æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ª Looper å’Œä¸€ä¸ªæ¶ˆæ¯é˜Ÿåˆ—ã€‚\n> Handler å¯ä»¥æœ‰å¤šä¸ªï¼Œå®ƒåªæ˜¯æ“ä½œ MessageQueueã€‚\n> Looper è™½ç„¶æ˜¯æ­»å¾ªç¯ï¼Œä½† MessageQueue.next() æ˜¯é˜»å¡å¼çš„ï¼Œæ²¡æœ‰æ¶ˆæ¯æ—¶ä¼šä¼‘çœ ï¼Œå› æ­¤ä¸ä¼šå¡æ­»æˆ–å¯¼è‡´ ANRã€‚\n\n---\n\nè¦ä¸è¦æˆ‘ç»™ä½ ä¸€ä¸ª **å›¾è§£ + Demo æºç **ï¼Ÿçœ‹ä¸€çœ¼å°±æ‡‚é‚£ç§ğŸ”¥\nè¦çš„è¯æˆ‘ç›´æ¥ç”Ÿæˆç»™ä½ ã€‚\n",
      "detail": ""
    },
    {
      "question": "çº¿ç¨‹é€šä¿¡ ï¼Œ å¼‚æ­¥ ï¼Œ åŒæ­¥ï¼Œå¹¶å‘ ï¼Œå¹¶è¡Œ ï¼Œçº¿ç¨‹æ±  ",
      "answer": "| æ¦‚å¿µ  | ä¸€å¥è¯ç†è§£             |\n| --- | ----------------- |\n| çº¿ç¨‹  | å¯ä»¥æ‰§è¡Œä»£ç çš„è·¯çº¿ï¼ˆæ‰§è¡Œå•ä½ï¼‰   |\n| å¼‚æ­¥  | ä¸ç­‰å¾…ç»“æœï¼Œå…ˆç»§ç»­æ‰§è¡Œ       |\n| åŒæ­¥  | å¿…é¡»ç­‰ç»“æœæ‰èƒ½ç»§ç»­æ‰§è¡Œ       |\n| å¹¶å‘  | å‡è£…åŒæ—¶ï¼ˆå•æ ¸å¿«é€Ÿåˆ‡æ¢ï¼‰      |\n| å¹¶è¡Œ  | çœŸæ­£åŒæ—¶ï¼ˆå¤šæ ¸ï¼‰          |\n| é€šä¿¡  | çº¿ç¨‹ä¹‹é—´ä¼ é€’æ•°æ®          |\n| çº¿ç¨‹æ±  | ç®¡çº¿ç¨‹çš„äººï¼Œé¿å…é¢‘ç¹åˆ›å»º/é”€æ¯çº¿ç¨‹ |\n\n\nAndroid ä¸­çº¿ç¨‹æ˜¯æœ€å°æ‰§è¡Œå•ä½ï¼Œä¸»è¦æœ‰åŒæ­¥ã€å¼‚æ­¥ã€å¹¶å‘ã€å¹¶è¡Œç­‰æ¦‚å¿µã€‚\nå¼‚æ­¥çš„å…³é”®æ˜¯ä¸é˜»å¡çº¿ç¨‹ï¼Œè€Œå¹¶å‘ä¸å¹¶è¡Œçš„åŒºåˆ«åœ¨äºæ˜¯å¦çœŸæ­£åŒæ—¶æ‰§è¡Œã€‚\nçº¿ç¨‹ä¹‹é—´é€šä¿¡ä¸»è¦é€šè¿‡ Handlerã€BlockingQueueã€wait/notifyã€volatile ç­‰æ–¹æ³•ï¼Œç›®çš„æ˜¯åœ¨ä¸åŒçº¿ç¨‹é—´ä¼ é€’æ•°æ®å¹¶ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚\nå¯¹äºå¤§é‡ä»»åŠ¡ï¼Œæ¨èä½¿ç”¨çº¿ç¨‹æ± ï¼Œå› ä¸ºçº¿ç¨‹åˆ›å»ºå’Œé”€æ¯ä»£ä»·å¤§ï¼Œçº¿ç¨‹æ± èƒ½å¤ç”¨çº¿ç¨‹ã€‚\nThreadPoolExecutor æœ‰ 5 ä¸ªæ ¸å¿ƒå‚æ•°ï¼šæ ¸å¿ƒçº¿ç¨‹æ•°ã€æœ€å¤§çº¿ç¨‹æ•°ã€é˜Ÿåˆ—ã€ç©ºé—²æ—¶é—´å’Œæ‹’ç»ç­–ç•¥ã€‚\nAndroid ä¸­æ¨èä½¿ç”¨ HandlerThreadã€Executor æˆ– Coroutine æ¥ç®¡ç†çº¿ç¨‹ã€‚",
      "detail": "ä¸‹é¢è¿™å‡ ä¸ªæ¦‚å¿µå¸¸å¸¸ä¸€èµ·å‡ºç°ï¼š\n**çº¿ç¨‹ã€é€šä¿¡ã€å¼‚æ­¥ã€å¹¶å‘ã€å¹¶è¡Œã€çº¿ç¨‹æ± **\næˆ‘ç»™ä½ æ•´ç†æˆ**ä¸€ä¸ªæ¸…æ™°ç»“æ„ + è®°å¿†å£è¯€ + é¢è¯•å›ç­”æ¨¡æ¿**ğŸ‘‡\n\n---\n\n# ğŸ§  ä¸€å¥è¯å¿«é€ŸåŒºåˆ†\n\n| æ¦‚å¿µ  | ä¸€å¥è¯ç†è§£             |\n| --- | ----------------- |\n| çº¿ç¨‹  | å¯ä»¥æ‰§è¡Œä»£ç çš„è·¯çº¿ï¼ˆæ‰§è¡Œå•ä½ï¼‰   |\n| å¼‚æ­¥  | ä¸ç­‰å¾…ç»“æœï¼Œå…ˆç»§ç»­æ‰§è¡Œ       |\n| åŒæ­¥  | å¿…é¡»ç­‰ç»“æœæ‰èƒ½ç»§ç»­æ‰§è¡Œ       |\n| å¹¶å‘  | å‡è£…åŒæ—¶ï¼ˆå•æ ¸å¿«é€Ÿåˆ‡æ¢ï¼‰      |\n| å¹¶è¡Œ  | çœŸæ­£åŒæ—¶ï¼ˆå¤šæ ¸ï¼‰          |\n| é€šä¿¡  | çº¿ç¨‹ä¹‹é—´ä¼ é€’æ•°æ®          |\n| çº¿ç¨‹æ±  | ç®¡çº¿ç¨‹çš„äººï¼Œé¿å…é¢‘ç¹åˆ›å»º/é”€æ¯çº¿ç¨‹ |\n\n**å£è¯€ï¼š**\nğŸ‘‰ **å¼‚æ­¥â‰ å¹¶å‘ï¼Œçº¿ç¨‹æ± â‰ å¤šçº¿ç¨‹ï¼Œé€šä¿¡ä¸€å®šè¦çº¿ç¨‹å®‰å…¨ã€‚**\n\n---\n\n# ğŸ“Œ ä¸€ã€çº¿ç¨‹ (Thread) â€”â€” CPU æ‰§è¡Œçš„æœ€å°å•ä½\n\n* **è¿›ç¨‹**æ˜¯èµ„æºå®¹å™¨ï¼ˆä¸€ä¸ªAppå°±æ˜¯ä¸€ä¸ªè¿›ç¨‹ï¼‰\n* **çº¿ç¨‹**æ˜¯å¹²æ´»çš„äººï¼Œè´Ÿè´£æ‰§è¡Œä»£ç \n* Java/Kotlin åˆ›å»ºçº¿ç¨‹æ–¹å¼ï¼š\n\n```java\n// æ–¹å¼1\nnew Thread(() -> {}).start();\n\n// æ–¹å¼2\nRunnable runnable = () -> {};\nnew Thread(runnable).start();\n\n// Kotlin\nGlobalScope.launch {  }   //åç¨‹ä¸­ä¹Ÿç”¨çº¿ç¨‹æ± \n```\n\n---\n\n# ğŸ“Œ äºŒã€çº¿ç¨‹é€šä¿¡ï¼ˆThread Communicationï¼‰\n\n### **é—®é¢˜ï¼šçº¿ç¨‹ä¹‹é—´å¦‚ä½•ä¼ é€’æ•°æ®ï¼Ÿ**\n\n### ğŸ‘‰ å¸¸ç”¨æ–¹æ³•ï¼š\n\n| æ–¹æ¡ˆ            | é€‚ç”¨åœºæ™¯      | ç¤ºä¾‹            |\n| ------------- | --------- | ------------- |\n| Handler       | å­çº¿ç¨‹ â†’ ä¸»çº¿ç¨‹ | Android UI æ›´æ–° |\n| wait/notify   | ç”Ÿäº§è€…/æ¶ˆè´¹è€…   | Java çº¿ç¨‹é€šä¿¡     |\n| synchronized  | äº’æ–¥é”       | å¤šçº¿ç¨‹æŠ¢èµ„æº        |\n| volatile      | å¯è§æ€§       | æ ‡å¿—ä½æ§åˆ¶çº¿ç¨‹       |\n| BlockingQueue | ä»»åŠ¡é˜Ÿåˆ—      | çº¿ç¨‹æ± é˜Ÿåˆ—         |\n| Semaphore     | é™æµ        | åªå…è®¸3ä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œ   |\n\n**ä¾‹ï¼šHandler å®Œæˆçº¿ç¨‹é€šä¿¡ï¼ˆä¸»ä»çº¿ç¨‹ï¼‰ï¼š**\n\n```java\nnew Thread(() -> {\n    Message msg = handler.obtainMessage(1, \"data\");\n    handler.sendMessage(msg);\n}).start();  //å­çº¿ç¨‹å‘é€ â†’ ä¸»çº¿ç¨‹å¤„ç†\n```\n\n---\n\n# ğŸ“Œ ä¸‰ã€åŒæ­¥ vs å¼‚æ­¥\n\n| æ¨¡å¼ | ä¸¾ä¾‹    | æ˜¯å¦ç­‰å¾…ç»“æœ  |\n| -- | ----- | ------- |\n| åŒæ­¥ | ä¹°æ—©é¤æ’é˜Ÿ | å¿…é¡»ç­‰     |\n| å¼‚æ­¥ | ç‚¹å¤–å–   | ä¸ç­‰ï¼Œå…ˆå¹²åˆ«çš„ |\n\n```java\n// åŒæ­¥\nint result = doJob();      //å¿…é¡»ç­‰å®ƒç»“æŸ\n\n// å¼‚æ­¥\nnew Thread(() -> { int r = doJob(); }).start(); \n```\n\n---\n\n# ğŸ“Œ å››ã€å¹¶å‘ vs å¹¶è¡Œï¼ˆé¢è¯•å¿…è€ƒğŸ”¥ï¼‰\n\n| æ¦‚å¿µ | æ¯”å–»                 | ç¤ºä¾‹    |\n| -- | ------------------ | ----- |\n| å¹¶å‘ | 1 ä¸ªå¨å¸ˆç‚’ 10 ä¸ªèœï¼Œåªæ˜¯åˆ‡æ¢å¿« | å•æ ¸CPU |\n| å¹¶è¡Œ | 10 ä¸ªå¨å¸ˆç‚’ 10 ä¸ªèœ      | å¤šæ ¸CPU |\n\n**è‹±æ–‡è®°å¿†ï¼š**\nğŸ‘‰ `Concurrency  = context switching`\nğŸ‘‰ `Parallelism   = multiple cores`\n\n---\n\n# ğŸ“Œ äº”ã€çº¿ç¨‹æ± ï¼ˆThreadPoolï¼‰â€”â€” é¢è¯•æ ¸å¿ƒ\n\n**ä¸ºä»€ä¹ˆè¦æœ‰çº¿ç¨‹æ± ï¼Ÿ**\nğŸ‘‰ åˆ›å»ºçº¿ç¨‹å¤ªè€—èµ„æºï¼Œé¢‘ç¹åˆ›å»º/é”€æ¯ = æ€§èƒ½ç‚¸å¼¹ã€‚\n**çº¿ç¨‹æ±  = å¤ç”¨çº¿ç¨‹**ï¼Œé¿å…é¢‘ç¹åˆ›å»ºé”€æ¯ï¼\n\n---\n\n## âœ” çº¿ç¨‹æ±  5 ä¸ªæ ¸å¿ƒå‚æ•°ï¼ˆè®°å¿†å£è¯€ï¼‰\n\nğŸ‘‰ **â€œæ ¸å¿ƒæœ€å¤§æ´»é˜Ÿæ‹’â€**\n\n| å‚æ•°                       | å«ä¹‰          |\n| ------------------------ | ----------- |\n| corePoolSize             | æ ¸å¿ƒçº¿ç¨‹æ•°ï¼ˆä¸ä¼šé”€æ¯ï¼‰ |\n| maximumPoolSize          | æœ€å¤§çº¿ç¨‹æ•°       |\n| keepAliveTime            | çº¿ç¨‹ç©ºé—²å¤šä¹…å›æ”¶    |\n| workQueue                | ç­‰å¾…é˜Ÿåˆ—        |\n| RejectedExecutionHandler | è¶…è½½åçš„ç­–ç•¥      |\n\n**ç¤ºä¾‹ï¼š**\n\n```java\nExecutorService pool = new ThreadPoolExecutor(\n    2, 4, 10, TimeUnit.SECONDS,\n    new LinkedBlockingQueue<>(10),\n    new ThreadPoolExecutor.CallerRunsPolicy()   //æ‹’ç»ç­–ç•¥\n);\n```\n\n---\n\n## âœ” æ‹’ç»ç­–ç•¥ï¼ˆé¢è¯•å¿…é—®ï¼ï¼‰\n\n| ç­–ç•¥                  | è¡Œä¸º         |\n| ------------------- | ---------- |\n| AbortPolicy         | ç›´æ¥æŠ›å¼‚å¸¸      |\n| CallerRunsPolicy    | ä¸»çº¿ç¨‹æ‰§è¡Œ      |\n| DiscardOldestPolicy | ä¸¢å¼ƒé˜Ÿåˆ—ä¸­æœ€è€çš„ä»»åŠ¡ |\n| DiscardPolicy       | ä¸¢å¼ƒå½“å‰ä»»åŠ¡     |\n\n---\n\n## Android ä¸­çš„çº¿ç¨‹æ± \n\n| åç§°                 | ç”¨é€”           |\n| ------------------ | ------------ |\n| AsyncTaskï¼ˆå·²åºŸå¼ƒï¼‰     | å¼‚æ­¥ä»»åŠ¡         |\n| Executor           | æ™®é€šçº¿ç¨‹æ±         |\n| HandlerThread      | å¸¦ Looper çš„çº¿ç¨‹ |\n| IntentServiceï¼ˆå·²åºŸå¼ƒï¼‰ | åå°çº¿ç¨‹è‡ªåŠ¨é”€æ¯     |\n| Kotlin Coroutine   | æ¨èä½¿ç”¨         |\n\n---\n\n# ğŸ§¾ é¢è¯•å›ç­”æ¨¡æ¿ï¼ˆç›´æ¥èƒ½èƒŒï¼‰ï¼š\n\n> Android ä¸­çº¿ç¨‹æ˜¯æœ€å°æ‰§è¡Œå•ä½ï¼Œä¸»è¦æœ‰åŒæ­¥ã€å¼‚æ­¥ã€å¹¶å‘ã€å¹¶è¡Œç­‰æ¦‚å¿µã€‚\n> å¼‚æ­¥çš„å…³é”®æ˜¯ä¸é˜»å¡çº¿ç¨‹ï¼Œè€Œå¹¶å‘ä¸å¹¶è¡Œçš„åŒºåˆ«åœ¨äºæ˜¯å¦çœŸæ­£åŒæ—¶æ‰§è¡Œã€‚\n> çº¿ç¨‹ä¹‹é—´é€šä¿¡ä¸»è¦é€šè¿‡ Handlerã€BlockingQueueã€wait/notifyã€volatile ç­‰æ–¹æ³•ï¼Œç›®çš„æ˜¯åœ¨ä¸åŒçº¿ç¨‹é—´ä¼ é€’æ•°æ®å¹¶ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚\n> å¯¹äºå¤§é‡ä»»åŠ¡ï¼Œæ¨èä½¿ç”¨çº¿ç¨‹æ± ï¼Œå› ä¸ºçº¿ç¨‹åˆ›å»ºå’Œé”€æ¯ä»£ä»·å¤§ï¼Œçº¿ç¨‹æ± èƒ½å¤ç”¨çº¿ç¨‹ã€‚\n> ThreadPoolExecutor æœ‰ 5 ä¸ªæ ¸å¿ƒå‚æ•°ï¼šæ ¸å¿ƒçº¿ç¨‹æ•°ã€æœ€å¤§çº¿ç¨‹æ•°ã€é˜Ÿåˆ—ã€ç©ºé—²æ—¶é—´å’Œæ‹’ç»ç­–ç•¥ã€‚\n> Android ä¸­æ¨èä½¿ç”¨ HandlerThreadã€Executor æˆ– Coroutine æ¥ç®¡ç†çº¿ç¨‹ã€‚\n\n---\n\nå¦‚æœä½ æƒ³è¦ ğŸ‘‰\nğŸ”¥ **çº¿ç¨‹æ± æµç¨‹å›¾**\nâš¡ **Kotlin åç¨‹å¯¹æ¯” Java çº¿ç¨‹æ± **\nğŸ“„ **PDF é¢è¯•æ€»ç»“å¡**\n\næˆ‘å¯ä»¥ç«‹åˆ»ç”Ÿæˆï¼åªè¦è·Ÿæˆ‘è¯´ï¼š**è¦PDF / è¦å›¾è§£ / è¦åç¨‹å¯¹æ¯”** âœ¨\n"
    },
    {
      "question": "å¸¸è§å†…å­˜æ³„æ¼åœºæ™¯æ€»ç»“ï¼ˆAndroidé‡ç‚¹ï¼‰ï¼Ÿ",
      "answer": "â€œé™æ€æŒæœ‰ã€é•¿ç”Ÿå‘½å‘¨æœŸæŒçŸ­ç”Ÿå‘½å‘¨æœŸã€èµ„æºæ²¡é‡Šæ”¾ã€å¼‚æ­¥ä»»åŠ¡æ²¡ç»“æŸã€å›è°ƒæ²¡è§£ç»‘â€\n\né¢è¯•ç”¨æ€»ç»“æ¨¡æ¿ï¼ˆèƒŒè¿™ä¸ªå°±å¤Ÿï¼‰ğŸ‘‡\n\nAndroid å†…å­˜æ³„æ¼å¸¸è§äºä»¥ä¸‹å‡ ç±»åœºæ™¯ï¼š\n1ï¸âƒ£ é™æ€/å•ä¾‹æŒæœ‰ Activityï¼Œç”Ÿå‘½å‘¨æœŸé•¿æŒæœ‰ç”Ÿå‘½å‘¨æœŸçŸ­çš„å¯¹è±¡ã€‚\n2ï¸âƒ£ Handler / Runnable / AsyncTask ç­‰å¼‚æ­¥ä»»åŠ¡ï¼Œä»»åŠ¡æ‰§è¡ŒæœŸé—´ Activity å·²é€€å‡ºã€‚\n3ï¸âƒ£ å†…éƒ¨ç±»/åŒ¿åç±»æ³„æ¼ï¼Œé»˜è®¤æŒæœ‰å¤–éƒ¨ç±»å¼•ç”¨ã€‚\n4ï¸âƒ£ ç³»ç»Ÿç»„ä»¶ã€Listenerã€å¹¿æ’­æ³¨å†Œåä¸æ³¨é”€ï¼ˆå¦‚ BroadcastReceiverã€EventBusã€LocationListenerï¼‰ã€‚\n5ï¸âƒ£ WebView / Bitmap / å¤§å¯¹è±¡ç¼“å­˜ä¸å½“ä½¿ç”¨ï¼Œå¯¼è‡´èµ„æºå ç”¨æ— æ³•é‡Šæ”¾ã€‚\n6ï¸âƒ£ ç¬¬ä¸‰æ–¹åº“ï¼ˆRxJavaã€Glideã€Coroutineï¼‰ä½¿ç”¨ä¸å½“ï¼ŒæœªåŠæ—¶ cancel/clear/disposeã€‚\n7ï¸âƒ£ è¿‡é•¿ç”Ÿå‘½å‘¨æœŸç»„ä»¶ï¼ˆServiceã€HandlerThreadï¼‰æŒæœ‰ Contextã€‚\n\næ ¸å¿ƒåŸåˆ™ï¼š\nğŸ“Œ ç”Ÿå‘½å‘¨æœŸé•¿çš„å¯¹è±¡ä¸èƒ½æŒæœ‰ç”Ÿå‘½å‘¨æœŸçŸ­çš„å¯¹è±¡å¼•ç”¨\nğŸ“Œ åŠæ—¶é‡Šæ”¾èµ„æºï¼ˆunbindã€disposeã€cancelã€destroyã€removeCallbacksï¼‰",
      "detail": "âœ… 1ï¸âƒ£ é™æ€å˜é‡æŒæœ‰ Context / Activity\npublic class AppManager {\n    public static Context context;\n}\n\n// é”™è¯¯å†™æ³•\nAppManager.context = activity;\nâŒ Activity ä¼šä¸€ç›´è¢«æŒæœ‰ï¼Œæ— æ³•é‡Šæ”¾ã€‚\nâœ… è§£å†³ï¼š\nAppManager.context = activity.getApplicationContext();\n\nâœ… 2ï¸âƒ£ Handler å¯¼è‡´ Activity æ³„æ¼\npublic class MainActivity extends AppCompatActivity {\n    private Handler handler = new Handler() {\n        @Override\n        public void handleMessage(Message msg) { }\n    };\n}\nğŸ”´ åŸå› ï¼šHandler æ˜¯éé™æ€å†…éƒ¨ç±»ï¼ŒæŒæœ‰å¤–éƒ¨ Activity å¼•ç”¨ã€‚\nğŸ”´ MessageQueue æœªå¤„ç†å®Œæ¶ˆæ¯æ—¶ï¼ŒActivity æ— æ³•å›æ”¶ã€‚\nâœ… è§£å†³æ–¹å¼ä¸€ï¼šä½¿ç”¨é™æ€å†…éƒ¨ç±» + å¼±å¼•ç”¨\nstatic class MyHandler extends Handler {\n    private final WeakReference<MainActivity> ref;\n    MyHandler(MainActivity activity) { ref = new WeakReference<>(activity); }\n\n    @Override\n    public void handleMessage(Message msg) {\n        MainActivity act = ref.get();\n        if (act != null) { /* update UI */ }\n    }\n}\nâœ… æ–¹å¼äºŒï¼šonDestroy æ¸…é™¤æ¶ˆæ¯\n@Override\nprotected void onDestroy() {\n    handler.removeCallbacksAndMessages(null);\n    super.onDestroy();\n}\n\nâœ… 3ï¸âƒ£ çº¿ç¨‹ / AsyncTask æœªåœæ­¢\nnew Thread(() -> {\n    // é•¿æ—¶é—´ä»»åŠ¡\n}).start();\nğŸ”´ å¦‚æœ Activity é€€å‡ºäº†ï¼Œä½†çº¿ç¨‹è¿˜åœ¨è¿è¡Œï¼Œä¼šå¯¼è‡´ Activity è¢«å¼•ç”¨ã€‚\nâœ… è§£å†³ï¼š\nä½¿ç”¨ WeakReference å¼•ç”¨å¤–éƒ¨å¯¹è±¡\nåœ¨ onDestroy() æ—¶ä¸­æ–­çº¿ç¨‹\nä½¿ç”¨ LifecycleScopeï¼ˆKotlin åç¨‹è‡ªåŠ¨æ„ŸçŸ¥ç”Ÿå‘½å‘¨æœŸï¼‰\n\nâœ… 4ï¸âƒ£ éé™æ€å†…éƒ¨ç±»æ³„æ¼\npublic class Outer {\n    class Inner { }\n}\nğŸ”´ Inner æŒæœ‰ Outer çš„éšå¼å¼•ç”¨ã€‚\nâœ… è§£å†³ï¼š\næ”¹ä¸º static class Inner\næˆ–è€…ä¸åœ¨ Activity ä¸­ç›´æ¥å®šä¹‰åŒ¿åå†…éƒ¨ç±»ï¼ˆListener/Callbackï¼‰\n\nâœ… 5ï¸âƒ£ å•ä¾‹æŒæœ‰ Context / View\npublic class MyManager {\n    private static MyManager instance;\n    private Context context;\n\n    public static MyManager getInstance(Context ctx) {\n        if (instance == null) instance = new MyManager(ctx);\n        return instance;\n    }\n\n    private MyManager(Context ctx) {\n        this.context = ctx;\n    }\n}\nğŸ”´ é”™è¯¯ï¼šæŒæœ‰ Activity Context å¯¼è‡´æ— æ³•é‡Šæ”¾ã€‚\nâœ… æ­£ç¡®ï¼š\nthis.context = ctx.getApplicationContext();\n\nâœ… 6ï¸âƒ£ é›†åˆç¼“å­˜æœªæ¸…ç†ï¼ˆListã€Mapã€LruCacheï¼‰\nstatic List<Object> cache = new ArrayList<>();\nğŸ”´ ç¼“å­˜å¼•ç”¨å¯¹è±¡ â†’ æ°¸ä¹…ä¸é‡Šæ”¾ã€‚\nâœ… è§£å†³ï¼š\néœ€è¦æ—¶æ¸…ç† cache.clear()\næˆ–ä½¿ç”¨ WeakReference æˆ– SoftReference ç¼“å­˜\n\nâœ… 7ï¸âƒ£ ç›‘å¬å™¨ / å¹¿æ’­ / æ³¨å†Œæœªå–æ¶ˆ\nBroadcastReceiver\nEventBus\nanswerObserver\nListener\nSensorManager\nğŸ”´ æ³¨å†Œåå¿˜è®° unregisterã€‚\nâœ… è§£å†³ï¼š\n@Override\nprotected void onDestroy() {\n    unregisterReceiver(receiver);\n    EventBus.getDefault().unregister(this);\n}\n\nâœ… 8ï¸âƒ£ WebView æ³„æ¼ï¼ˆæœ€å¸¸è§ï¼‰\nğŸ”´ åŸå› ï¼šWebView å†…éƒ¨çº¿ç¨‹ã€JS å¼•æ“æŒæœ‰ Activityã€‚\nâœ… è§£å†³ï¼š\nwebView.loadUrl(\"about:blank\");\nwebView.stopLoading();\nwebView.clearHistory();\nwebView.removeAllViews();\nwebView.destroy();\nwebView = null;\n\nâœ… 9ï¸âƒ£ Bitmap æœªå›æ”¶\nBitmap bmp = BitmapFactory.decodeResource(getResources(), R.drawable.big);\nğŸ”´ é•¿æ—¶é—´å ç”¨å¤§é‡å†…å­˜ã€‚\nâœ… è§£å†³ï¼š\nbmp.recycle();\nbmp = null;\nï¼ˆAPI 26+ Bitmap æœ‰è‡ªåŠ¨å›æ”¶æœºåˆ¶ï¼‰\n\nâœ… ğŸ”Ÿ RxJava æœªå–æ¶ˆè®¢é˜…\nğŸ”´ Observable ä»æŒæœ‰å¼•ç”¨ã€‚\nâœ… è§£å†³ï¼š\nDisposable disposable;\ndisposable.dispose(); // onDestroy é‡Œæ‰§è¡Œ\næˆ–ä½¿ç”¨ AutoDispose / LifecycleObserver"
    },
    {
      "question": "æ€§èƒ½ä¼˜åŒ–  ï¼Ÿ",
      "answer": "å¯åŠ¨ä¼˜åŒ– ï¼Œ ui ç»˜åˆ¶ä¼˜åŒ– ï¼Œ å†…å­˜ ï¼Œcpuå’Œè€—ç”µ ï¼Œ ç½‘ç»œæ€§èƒ½ä¼˜åŒ–ï¼ŒåŒ…ä½“ç§¯ä¼˜åŒ–",
      "detail": "Android æ€§èƒ½ä¼˜åŒ–æ˜¯ä¸€ä¸ªç³»ç»Ÿæ€§å·¥ç¨‹ï¼Œæ¶µç›– å¯åŠ¨é€Ÿåº¦ã€å†…å­˜ä½¿ç”¨ã€ç»˜åˆ¶æ•ˆç‡ã€è€—ç”µé‡ã€åŒ…ä½“ç§¯ã€ç½‘ç»œæ€§èƒ½ ç­‰å¤šä¸ªæ–¹é¢ã€‚ä¸‹é¢æˆ‘å¸®ä½ æ•´ç†ä¸€ä»½ **å…¨æ–¹ä½æ€§èƒ½ä¼˜åŒ–æ¸…å•ï¼ˆå«æ€è·¯ + å®è·µæ–¹æ³• + å·¥å…·ï¼‰**ğŸ‘‡\n\nğŸ§© ä¸€ã€å¯åŠ¨é€Ÿåº¦ä¼˜åŒ–ï¼ˆå†·å¯åŠ¨ & çƒ­å¯åŠ¨ï¼‰\n1ï¸âƒ£ å†·å¯åŠ¨ä¼˜åŒ–\nå†·å¯åŠ¨æŒ‡åº”ç”¨ä»è¿›ç¨‹æœªå¯åŠ¨çŠ¶æ€è¿›å…¥å¯äº¤äº’çŠ¶æ€ã€‚\nä¼˜åŒ–æ€è·¯ï¼š\nå»¶è¿Ÿåˆå§‹åŒ–ï¼šéå¿…è¦ SDKã€ä¸‰æ–¹åº“å»¶ååˆ°é¦–é¡µåå†åˆå§‹åŒ–ã€‚\nå‡å°‘ä¸»çº¿ç¨‹é˜»å¡ï¼šé¿å…åœ¨ Application.onCreate()ã€Activity.onCreate() åšè€—æ—¶æ“ä½œã€‚\nä½¿ç”¨å¼‚æ­¥åŠ è½½ï¼šè€—æ—¶ä»»åŠ¡æ”¾å…¥åå°çº¿ç¨‹ã€‚\nSplashActivity ä¼˜åŒ–ï¼šç”¨è½»é‡å¸ƒå±€ï¼Œé¿å…åŠ è½½å¤§å›¾ã€‚\nMultiDex ä¼˜åŒ–ï¼šæå‰å®‰è£… MultiDex æˆ–ä½¿ç”¨ Android 5.0+ çš„ native multidexã€‚\nè°ƒè¯•å·¥å…·ï¼š\nadb shell am start -W your.package/.MainActivity\nAndroid Studio Profiler â†’ â€œStartupâ€ åˆ†æ\nTraceView æˆ– Systrace\n\nğŸ¨ äºŒã€UI ç»˜åˆ¶ä¸æµç•…åº¦ä¼˜åŒ–ï¼ˆæ‰å¸§ã€å¡é¡¿ï¼‰\nç›®æ ‡ï¼šä¿æŒ 16ms/å¸§ï¼ˆ60fpsï¼‰\nå¸¸è§åŸå› ï¼š\nä¸»çº¿ç¨‹æ‰§è¡Œè€—æ—¶æ“ä½œï¼ˆç½‘ç»œã€IOã€å¤æ‚è®¡ç®—ï¼‰\nè¿‡åº¦ç»˜åˆ¶ï¼ˆOverdrawï¼‰\nä¸å¿…è¦çš„å¸ƒå±€å±‚çº§ï¼ˆView åµŒå¥—å¤ªæ·±ï¼‰\nRecyclerView æ»‘åŠ¨å¡é¡¿ï¼ˆitem ç»‘å®šè€—æ—¶ï¼‰\nä¼˜åŒ–æªæ–½ï¼š\nä½¿ç”¨ å¸ƒå±€ä¼˜åŒ–å·¥å…·\nLayout Inspector / Hierarchy Viewer\nä½¿ç”¨ ConstraintLayoutã€ViewStubã€merge å‡å°‘å±‚çº§\né¿å…è¿‡åº¦ç»˜åˆ¶\nå¼€å‘è€…é€‰é¡¹ä¸­å¼€å¯â€œGPUè¿‡åº¦ç»˜åˆ¶è°ƒè¯•â€ï¼Œè®©èƒŒæ™¯é€æ˜ã€å»æ‰å¤šä½™å±‚\nå¼‚æ­¥æ›´æ–°UI\nä½¿ç”¨ Handlerã€Coroutineã€AsyncTaskï¼ˆä¸æ¨èï¼‰ç­‰ã€‚\nRecyclerView ä¼˜åŒ–\nå¼€å¯ setHasFixedSize(true)\nä½¿ç”¨ DiffUtil\nViewHolder ä¸­ç¼“å­˜èµ„æºï¼Œå‡å°‘ findViewById\n\nğŸ§  ä¸‰ã€å†…å­˜ä¼˜åŒ–ï¼ˆé¿å…OOMï¼‰\næ£€æŸ¥ç‚¹ï¼š\nå¤§å›¾åŠ è½½ã€ç¼“å­˜æ³„æ¼ã€Context æ³„æ¼\nActivity / Fragment / Singleton æŒæœ‰å¼•ç”¨æœªé‡Šæ”¾\nHandler æœªç§»é™¤æ¶ˆæ¯ã€æœªæ³¨é”€æ³¨å†Œç›‘å¬\nä¼˜åŒ–æ‰‹æ®µï¼š\nä½¿ç”¨ LeakCanary æ£€æµ‹å†…å­˜æ³„æ¼\nå›¾ç‰‡åŠ è½½ä¼˜åŒ–\nä½¿ç”¨ Glideã€Picassoã€Fresco\næŒ‰éœ€å‹ç¼©ã€ä½¿ç”¨ RGB_565ã€thumbnail\né¿å…å†…å­˜æŠ–åŠ¨\nä¸åœ¨ onDraw() å†…åˆ›å»ºå¯¹è±¡\nå¾ªç¯ä¸­é¿å… String æ‹¼æ¥ï¼Œä½¿ç”¨ StringBuilder\n\nâš¡ å››ã€CPU & è€—ç”µä¼˜åŒ–\nå‡å°‘WakeLockï¼ˆä¿æŒCPUå”¤é†’ä¼šè€—ç”µï¼‰\nå‡å°‘åå°è½®è¯¢ï¼ˆç”¨ WorkManager / AlarmManager ç²¾å‡†è°ƒåº¦ï¼‰\né™ä½é¢‘ç¹ç»˜åˆ¶\nä½¿ç”¨ invalidate() æ—¶ï¼Œå°½é‡æŒ‡å®šé‡ç»˜åŒºåŸŸ\nåŠ¨ç”»ä¼˜åŒ–\nä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿï¼ˆandroid:hardwareAccelerated=\"true\"ï¼‰\né¿å…é¢‘ç¹å±æ€§åŠ¨ç”»å¼•èµ·è¿‡åº¦è®¡ç®—\nå·¥å…·ï¼š\nBattery Historian\nSystrace\nCPU Profiler\n\nğŸŒ äº”ã€ç½‘ç»œæ€§èƒ½ä¼˜åŒ–\nè¯·æ±‚åˆå¹¶ï¼šå‡å°‘ HTTP æ¬¡æ•°\nç¼“å­˜ç­–ç•¥ï¼šä½¿ç”¨ OkHttp ç¼“å­˜æˆ–æœ¬åœ°æ•°æ®åº“ç¼“å­˜\nGzip å‹ç¼©ï¼šæœåŠ¡ç«¯å¯ç”¨å‹ç¼©\nå›¾ç‰‡CDNï¼šæŒ‰éœ€åŠ è½½ä¸åŒåˆ†è¾¨ç‡\nå¼±ç½‘ä¼˜åŒ–ï¼šé‡è¯•æœºåˆ¶ + é™çº§æ–¹æ¡ˆ\nå·¥å…·ï¼š\nCharlesã€Stethoã€OkHttp Interceptor\n\nğŸ“¦ å…­ã€åŒ…ä½“ç§¯ä¼˜åŒ–\nåˆ é™¤æ— ç”¨èµ„æºï¼šres/raw, res/drawable\nå‹ç¼©å›¾ç‰‡ï¼šWebP / avif\nå¯ç”¨ Proguard / R8 æ··æ·†å‹ç¼©ä»£ç \nåŠ¨æ€åŠ è½½ï¼ˆSplit APKã€Feature Moduleï¼‰\nç§»é™¤æ— ç”¨çš„ä¸‰æ–¹åº“ä¾èµ–\nä½¿ç”¨ android:extractNativeLibs=\"false\" å‡å°‘è§£å‹\n\nğŸ§° ä¸ƒã€æ•°æ®åº“æ€§èƒ½ä¼˜åŒ–\nä½¿ç”¨æ‰¹é‡æ’å…¥äº‹åŠ¡ï¼ˆbeginTransaction()ï¼‰\nåˆç†ä½¿ç”¨ç´¢å¼•\nRoom / SQLite é…åˆ WAL æ¨¡å¼æé«˜å†™å…¥æ•ˆç‡\né¿å…ä¸»çº¿ç¨‹è®¿é—®æ•°æ®åº“ï¼ˆä½¿ç”¨å¼‚æ­¥ï¼‰\n\nğŸ”¬ å…«ã€æ€§èƒ½æ£€æµ‹å·¥å…·æ¸…å•\n\n\nå·¥å…·\tåŠŸèƒ½\nAndroid Profiler\tCPUã€å†…å­˜ã€ç½‘ç»œåˆ†æ\nLeakCanary\tå†…å­˜æ³„æ¼æ£€æµ‹\nSystrace / Perfetto\tå…¨å±€æ€§èƒ½è¿½è¸ª\nStrictMode\tæ£€æµ‹ä¸»çº¿ç¨‹è¿è§„æ“ä½œ\nTraceView\tä»£ç æ‰§è¡Œè€—æ—¶åˆ†æ\nProfileable Manifest\tAndroid 10+ åŸç”Ÿæ€§èƒ½ç›‘æ§\n\nğŸ’¡ ä¹ã€è¿›é˜¶ä¼˜åŒ–æ–¹å‘\nä½¿ç”¨ Jetpack Compose æå‡UIæ¸²æŸ“æ€§èƒ½ï¼ˆæ›´å°‘é‡ç»˜ï¼‰\nå¤šè¿›ç¨‹æ¶æ„ åˆ†ç¦»ä¸»è¿›ç¨‹ä¸è€—æ—¶é€»è¾‘\né¢„åŠ è½½ / é¢„çƒ­æœºåˆ¶ï¼ˆå¦‚æå‰åŠ è½½é¦–é¡µæ•°æ®ï¼‰\nå…¨é“¾è·¯æ€§èƒ½ç›‘æ§ç³»ç»Ÿï¼ˆç»“åˆ Firebase Performance / Matrixï¼‰\n\næ˜¯å¦å¸Œæœ›æˆ‘å¸®ä½ å‡ºä¸€ä»½ ã€ŒAndroid æ€§èƒ½ä¼˜åŒ–å®æˆ˜ checklistã€ï¼Ÿ\nâœ… åŒ…å«ï¼šæ¯ä¸ªä¼˜åŒ–ç‚¹çš„â€œæ£€æµ‹æ–¹æ³• + å®ç°ä»£ç ç¤ºä¾‹ + å·¥å…·å‘½ä»¤â€ã€‚\nè¿™æ ·ä½ å¯ä»¥ç›´æ¥ç”¨åœ¨é¡¹ç›®é‡Œã€‚"
    },
    {
      "question": "æ€§èƒ½ä¼˜åŒ–çš„å·¥å…·å’Œæ‰‹æ®µï¼Ÿ Android æ€§èƒ½ä¼˜åŒ–å®æˆ˜ Checklist",
      "answer": "\n\nğŸ§© ä¸€ã€å¯åŠ¨é€Ÿåº¦ä¼˜åŒ–\nç›®æ ‡\tæ£€æµ‹æ–¹æ³•\tä¼˜åŒ–ä»£ç /æ–¹æ¡ˆ\nå†·å¯åŠ¨æ—¶é—´ < 2s\tadb shell am start -W your.package/.MainActivity æŸ¥çœ‹ ThisTime\tå»¶è¿Ÿ SDK åˆå§‹åŒ–ã€å¼‚æ­¥åˆå§‹åŒ–ã€ç§»é™¤æ— ç”¨ answerProvider\nå‡å°‘ Application é˜»å¡\tä½¿ç”¨ Debug.startMethodTracing() åˆ†æ\tApplication ä¸­çš„è€—æ—¶é€»è¾‘æ”¾å…¥çº¿ç¨‹æ± ï¼šjava new Thread(() -> initSDKs()).start();\nSplashActivity è½»é‡åŒ–\tTraceView / Profiler\tä¸åœ¨ onCreate ä¸­åŠ è½½ç½‘ç»œæˆ–å¤§å›¾ï¼›ä½¿ç”¨ ConstraintLayout\nèµ„æºé¢„åŠ è½½ä¼˜åŒ–\tæ‰‹åŠ¨ç»Ÿè®¡\tå°†é¦–é¡µéƒ¨åˆ†èµ„æºæˆ–é…ç½®æå‰æ”¾å…¥ Application ç¼“å­˜ä¸­\n\nğŸ¨ äºŒã€UI ç»˜åˆ¶ä¸æµç•…åº¦ä¼˜åŒ–\n\\\n\n\nç›®æ ‡\tæ£€æµ‹æ–¹æ³•\tä¼˜åŒ–ä»£ç /æ–¹æ¡ˆ\nå‡å°‘å¸ƒå±€å±‚çº§\tLayout Inspector\tç”¨ ConstraintLayout / merge / ViewStub\næ¶ˆé™¤è¿‡åº¦ç»˜åˆ¶\tå¼€å‘è€…é€‰é¡¹ â†’ â€œè°ƒè¯• GPU è¿‡åº¦ç»˜åˆ¶â€\tç§»é™¤èƒŒæ™¯ã€ä½¿ç”¨é€æ˜ Themeã€åˆå¹¶é‡å åŒºåŸŸ\né¿å…ä¸»çº¿ç¨‹è€—æ—¶æ“ä½œ\tStrictMode\tStrictMode.setThreadPolicy(new StrictMode.ThreadPolicy.Builder().detectAll().penaltyLog().build());\nRecyclerView å¡é¡¿\tProfiler åˆ†æ\t- å¤ç”¨ ViewHolder- ä½¿ç”¨ DiffUtil- è®¾ç½® setHasFixedSize(true)\né¿å…é¢‘ç¹é‡ç»˜\tè‡ªæŸ¥ onDraw()\tonDraw() é‡Œç¦æ­¢ new å¯¹è±¡ã€é¿å…å¤æ‚è®¡ç®—\n\nğŸ§  ä¸‰ã€å†…å­˜ä¼˜åŒ–\né—®é¢˜\tæ£€æµ‹æ–¹æ³•\tä¼˜åŒ–æªæ–½\nå†…å­˜æ³„æ¼\tLeakCanary\tæ£€æŸ¥é™æ€å¼•ç”¨ã€å•ä¾‹æŒæœ‰ Activityã€Handler æœªç§»é™¤æ¶ˆæ¯\nå¤§å›¾ OOM\tProfiler â†’ Memory\tä½¿ç”¨ Glideï¼šRequestOptions().format(DecodeFormat.PREFER_RGB_565)\nå†…å­˜æŠ–åŠ¨\tTraceView / Perfetto\tå¾ªç¯ä¸­é¿å…åˆ›å»ºå¯¹è±¡ï¼›String æ‹¼æ¥ç”¨ StringBuilder\nBitmap ä¼˜åŒ–\tæœ¬åœ°æµ‹è¯•\tç¼©æ”¾åŠ è½½ï¼šoptions.inSampleSize = 2;\nç¼“å­˜ç­–ç•¥\t-\tç”¨ LruCache æ§åˆ¶å†…å­˜å ç”¨ï¼šLruCache<String, Bitmap> cache = new LruCache<>(10 * 1024 * 1024);\n\nâš¡ å››ã€CPU ä¸è€—ç”µä¼˜åŒ–\né—®é¢˜\tæ£€æµ‹æ–¹æ³•\tä¼˜åŒ–æ–¹æ³•\nåå°ä»»åŠ¡è¿‡å¤š\tBattery Historian\tåˆå¹¶ä»»åŠ¡ã€ç”¨ WorkManager æ›¿ä»£è½®è¯¢\nåŠ¨ç”»è€—ç”µ\tGPU æ¸²æŸ“æ¨¡å¼åˆ†æ\té™ä½åŠ¨ç”»é¢‘ç‡ã€åˆå¹¶åŠ¨ç”»ã€ä½¿ç”¨ç¡¬ä»¶åŠ é€Ÿ\nå¤šçº¿ç¨‹ç«äº‰\tTraceView\té¿å…çº¿ç¨‹è¿‡å¤šã€çº¿ç¨‹æ± ç®¡ç†\nä¸»çº¿ç¨‹é˜»å¡\tStrictMode / Looper Printer\tåˆ†æ MessageQueue æ—¶é—´é—´éš”ï¼Œä¼˜åŒ–è€—æ—¶æ“ä½œ\n\nğŸŒ äº”ã€ç½‘ç»œæ€§èƒ½ä¼˜åŒ–\nä¼˜åŒ–ç›®æ ‡\tå·¥å…·\tä»£ç ç¤ºä¾‹\nè¯·æ±‚å‹ç¼©ä¸ç¼“å­˜\tCharles / OkHttp LoggingInterceptor\tclient.addInterceptor(new GzipInterceptor());\nå¼±ç½‘ä¼˜åŒ–\tæ‰‹åŠ¨æ¨¡æ‹Ÿå¼±ç½‘ç¯å¢ƒ\tåŠ å…¥é‡è¯•ç­–ç•¥ + è¶…æ—¶å¤„ç†\nå‡å°‘è¯·æ±‚æ¬¡æ•°\tç½‘ç»œæ—¥å¿—åˆ†æ\tåˆå¹¶æ¥å£ã€ä½¿ç”¨ GraphQL æˆ–å¤šè¯·æ±‚åˆå¹¶\nå›¾ç‰‡åˆ†çº§åŠ è½½\tCDN æˆ–æœ¬åœ°ç¼“å­˜\tä½¿ç”¨ Glide thumbnailï¼šGlide.with(context).load(url).thumbnail(0.1f).into(img);\n\nğŸ“¦ å…­ã€åŒ…ä½“ç§¯ä¼˜åŒ–\nä¼˜åŒ–ç›®æ ‡\tæ£€æŸ¥æ–¹å¼\tå®ç°æ–¹æ³•\nèµ„æºç˜¦èº«\tanalyze APK å·¥å…·\tç§»é™¤æ— ç”¨èµ„æºã€WebP å‹ç¼©ã€åˆ é™¤å¤šè¯­è¨€åŒ…\nä»£ç å‹ç¼©\tR8 / Proguard\tå¼€å¯æ··æ·†ä¸èµ„æºå‹ç¼©ï¼šshrinkResources true\nåŠ¨æ€ç‰¹æ€§æ¨¡å—\tAndroid App Bundle\tä½¿ç”¨ dynamic-feature\næœ¬åœ°åº“ä¼˜åŒ–\tæ¶æ„åˆ†æ\tä»…ä¿ç•™ armeabi-v7a / arm64-v8a æ¶æ„\nå‡å°‘ä¸‰æ–¹åº“\tGradle æ£€æŸ¥\tç§»é™¤æœªä½¿ç”¨ä¾èµ–ï¼Œä½¿ç”¨è½»é‡æ›¿ä»£æ–¹æ¡ˆ\n\nğŸ’¾ ä¸ƒã€æ•°æ®åº“ä¼˜åŒ–\né—®é¢˜\tæ£€æµ‹æ–¹å¼\tä¼˜åŒ–æ–¹æ¡ˆ\næŸ¥è¯¢æ…¢\tProfiler / SQL Trace\tæ·»åŠ ç´¢å¼•ï¼šCREATE INDEX idx_name ON table(col);\né¢‘ç¹å†™å…¥\tæ‰‹åŠ¨ç»Ÿè®¡\tä½¿ç”¨äº‹åŠ¡ï¼šdb.beginTransaction(); ... db.setTransactionSuccessful(); db.endTransaction();\nUI é˜»å¡\tä¸¥æ ¼æ¨¡å¼\tRoom çš„ suspend å‡½æ•° / åç¨‹å¼‚æ­¥æŸ¥è¯¢\næ•°æ®åºåˆ—åŒ–æ…¢\tæ€§èƒ½æµ‹è¯•\tä½¿ç”¨ JSON æ›¿ä»£ XMLï¼Œæˆ–ä½¿ç”¨ protobuf\n\nğŸ” å…«ã€æ€§èƒ½æ£€æµ‹å·¥å…·æ±‡æ€»\nå·¥å…·\tåŠŸèƒ½\nAndroid Profiler\tå†…å­˜ã€CPUã€ç½‘ç»œå…¨å±€åˆ†æ\nLeakCanary\tè‡ªåŠ¨æ£€æµ‹å†…å­˜æ³„æ¼\nStrictMode\tæ£€æµ‹ä¸»çº¿ç¨‹I/Oè¿è§„\nSystrace / Perfetto\tå…¨å±€æ€§èƒ½è¿½è¸ªåˆ†æ\nBattery Historian\tç”µæ± ä¸è€—ç”µç»Ÿè®¡\nProfileable Manifest\tAndroid 10+ åŸç”Ÿæ€§èƒ½è·Ÿè¸ª\nGPU Rendering\tUIç»˜åˆ¶å¸§ç‡æ£€æµ‹\nFrameMetrics API\tç»Ÿè®¡æ‰å¸§æ—¶é—´ï¼ˆAndroid 24+ï¼‰\n\nğŸ§° ä¹ã€å»ºè®®é¡¹ç›®å®æˆ˜é…ç½®ï¼ˆæ¨èï¼‰\næ”¾åˆ° Application é‡Œåˆå§‹åŒ–ï¼š\nif (BuildConfig.DEBUG) {\n    StrictMode.setThreadPolicy(\n        new StrictMode.ThreadPolicy.Builder()\n            .detectAll()\n            .penaltyLog()\n            .build()\n    );\n    StrictMode.setVmPolicy(\n        new StrictMode.VmPolicy.Builder()\n            .detectLeakedSqlLiteObjects()\n            .detectLeakedClosableObjects()\n            .penaltyLog()\n            .build()\n    );\n}\næ·»åŠ æ€§èƒ½ç›‘æ§å…¥å£ï¼ˆè°ƒè¯•å¼€å…³ï¼‰ï¼š\nLooper.getMainLooper().setMessageLogging(msg -> {\n    long now = System.currentTimeMillis();\n    // æ£€æµ‹å¸§è€—æ—¶\n});\n\nğŸ§  åã€ç»¼åˆä¼˜åŒ–å»ºè®®\nâœ… â€œå…ˆé‡åŒ–ï¼Œåä¼˜åŒ–â€â€”â€”ç”¨æ•°æ®æ‰¾ç“¶é¢ˆ\nâœ… â€œå¼‚æ­¥+ç¼“å­˜+å»¶è¿ŸåŠ è½½â€â€”â€”ä¸»çº¿ç¨‹å‡è´Ÿä¸‰æ³•å®\nâœ… â€œå‡å°‘ç»˜åˆ¶å±‚çº§ã€å‡å°‘å†…å­˜å¯¹è±¡ã€å‡å°‘ç½‘ç»œè¯·æ±‚â€\nâœ… â€œå·¥å…·ä¼˜å…ˆï¼šProfiler > LeakCanary > TraceView > Systraceâ€\n\næ˜¯å¦å¸Œæœ›æˆ‘ä¸‹ä¸€æ­¥å¸®ä½ ç”Ÿæˆä¸€ä»½\nğŸ‘‰ ã€Android æ€§èƒ½ä¼˜åŒ–ä»£ç æ¨¡æ¿åŒ…ã€‘\nåŒ…å«å¯åŠ¨ä¼˜åŒ–ç±»ã€LeakCanary åˆå§‹åŒ–ç±»ã€StrictMode å·¥å…·ç±»ã€RecyclerView ä¼˜åŒ–å°è£…ï¼Ÿ\nè¿™æ ·ä½ å¯ä»¥ç›´æ¥å¤åˆ¶åˆ°é¡¹ç›®ä¸­ä½¿ç”¨ã€‚",
      "detail": ""
    },
    {
      "question": "å‡ºç° anr  ï¼Ÿ",
      "answer": "",
      "detail": "ANR (Application Not Responding) æ˜¯ Android å¼€å‘ä¸­**æœ€ä¸¥é‡ã€ç”¨æˆ·ä½“éªŒæœ€å·®**çš„é—®é¢˜ä¹‹ä¸€ï¼Œæˆ‘ä»¬ä¿—ç§°â€œ**åº”ç”¨æ— å“åº”**â€ã€‚\n\nå½“ä½ çš„ App å‡ºç° ANR æ—¶ï¼Œç³»ç»Ÿä¼šå¼¹å‡ºä¸€ä¸ªå¯¹è¯æ¡†ï¼Œå‘Šè¯‰ç”¨æˆ·â€œxxx åº”ç”¨æœªå“åº”â€ï¼Œå¹¶è®©ç”¨æˆ·é€‰æ‹©â€œç­‰å¾…â€æˆ–â€œå…³é—­â€ã€‚è¿™å¯¹ App æ¥è¯´æ˜¯**è‡´å‘½**çš„ã€‚\n\né¢è¯•å®˜é—® ANRï¼Œæ˜¯æƒ³è€ƒå¯Ÿä½ å¯¹ **Android ä¸»çº¿ç¨‹ï¼ˆUI çº¿ç¨‹ï¼‰**å·¥ä½œæœºåˆ¶çš„ç†è§£ï¼Œä»¥åŠä½ **åˆ†æå’Œè§£å†³å¤æ‚çº¿ä¸Šé—®é¢˜**çš„èƒ½åŠ›ã€‚\n\n### ğŸš€ æ ¸å¿ƒå£è¯€ï¼šå¸®ä½ ç§’æ‡‚ ANR\n\n> **â€œä¸»çº¿ä¸€å¡ï¼ŒANRå°±ç‚¸ï¼›â€**\n> **â€œ5ç§’ç‚¹ä¸åŠ¨ï¼ˆè¾“å…¥ï¼‰ï¼Œ10ç§’æ”¶ä¸åˆ°ï¼ˆå¹¿æ’­ï¼‰ï¼›â€**\n> **â€œIO å’Œ CPUï¼Œå…¨æ˜¯â€œæ ¸å¼¹â€ï¼›â€**\n> **â€œæŸ¥æ¡ˆå°±å» `/data/anr`ï¼Œ`traces.txt` æ˜¯ç­”æ¡ˆã€‚â€**\n\n---\n\n### 1. ä»€ä¹ˆæ˜¯ ANRï¼Ÿ\n\nANR çš„**å”¯ä¸€åŸå› **ï¼š**ä¸»çº¿ç¨‹ï¼ˆUI çº¿ç¨‹ï¼‰è¢«é˜»å¡**äº†å¤ªé•¿æ—¶é—´ã€‚\n\nAndroid ç³»ç»Ÿè¦æ±‚ App å¿…é¡»èƒ½åŠæ—¶å“åº”ç”¨æˆ·çš„æ“ä½œã€‚å¦‚æœä¸»çº¿ç¨‹è¢«å¡ä½ï¼Œå®ƒå°±æ— æ³•å¤„ç†æ–°çš„è¾“å…¥äº‹ä»¶ï¼ˆå¦‚ç‚¹å‡»ï¼‰ã€æ— æ³•ç»˜åˆ¶ UIã€ä¹Ÿæ— æ³•å“åº”ç³»ç»Ÿçš„å¹¿æ’­ã€‚ç³»ç»Ÿä¼šè®¤ä¸ºè¿™ä¸ª Appâ€œå¡æ­»äº†â€ï¼Œäºæ˜¯å°±è§¦å‘ ANRã€‚\n\n### 2. ANR çš„â€œè§¦å‘çº¢çº¿â€ï¼ˆè¶…æ—¶æ—¶é—´ï¼‰\n\nç³»ç»Ÿæ˜¯æœ‰â€œè€å¿ƒâ€çš„ï¼Œä½†è€å¿ƒæœ‰é™ã€‚ä¸»è¦æœ‰ä¸‰ä¸ªâ€œçº¢çº¿â€ï¼š\n\n1.  **è¾“å…¥äº‹ä»¶ (Input Events) - 5 ç§’**\n    * **æœ€å¸¸è§ï¼** å½“ç”¨æˆ·**ç‚¹å‡»å±å¹•ã€æŒ‰é”®**ç­‰è¾“å…¥äº‹ä»¶å‘ç”Ÿåï¼Œå¦‚æœä½ çš„ App åœ¨ **5 ç§’**å†…æ²¡æœ‰å¤„ç†å®Œæ¯•ï¼ˆ`InputDispatcher` æ— æ³•åˆ†å‘ï¼‰ï¼ŒANR å°±ä¼šå‘ç”Ÿã€‚\n    * è¿™å°±æ˜¯â€œ5ç§’ç‚¹ä¸åŠ¨â€ã€‚\n\n2.  **å¹¿æ’­æ¥æ”¶å™¨ (BroadcastReceiver) - 10 ç§’**\n    * å½“ `BroadcastReceiver` çš„ `onReceive()` æ–¹æ³•æ‰§è¡Œæ—¶é—´ï¼Œ**åœ¨å‰å°è¶…è¿‡ 10 ç§’**ï¼ˆåœ¨åå°æ˜¯ 60 ç§’ï¼‰ï¼Œç³»ç»Ÿä¼šè®¤ä¸ºå®ƒ ANR äº†ã€‚\n    * è¿™å°±æ˜¯â€œ10ç§’æ”¶ä¸åˆ°â€ã€‚\n\n3.  **æœåŠ¡ (Service) - 20 ç§’**\n    * `Service` ä¹Ÿæ˜¯è¿è¡Œåœ¨ä¸»çº¿ç¨‹çš„ã€‚å¦‚æœ `Service` çš„å„ä¸ªç”Ÿå‘½å‘¨æœŸæ–¹æ³•ï¼ˆå¦‚ `onStartCommand`ï¼‰**åœ¨å‰å°è¶…è¿‡ 20 ç§’**ï¼ˆåå° 200 ç§’ï¼‰æ²¡æœ‰æ‰§è¡Œå®Œï¼Œå°±ä¼š ANRã€‚\n\n---\n\n### 3. â€œçœŸå‡¶â€ï¼šä¸ºä»€ä¹ˆä¸»çº¿ç¨‹ä¼šå¡ä½ï¼Ÿ\n\nâ€œå£è¯€â€é‡Œè¯´äº†ï¼šâ€œIO å’Œ CPUï¼Œå…¨æ˜¯â€˜æ ¸å¼¹â€™â€ã€‚æ‰€æœ‰ä¼šå¯¼è‡´ ANR çš„åŸå› ï¼Œéƒ½å¯ä»¥å½’ä¸ºè¿™ä¸¤ç±»ï¼š\n\n#### A. I/O æ“ä½œï¼ˆæœ€å¸¸è§çš„â€œå‡¶æ‰‹â€ï¼‰\n\n**I/O = Input/Outputï¼Œå³è¯»å†™æ“ä½œã€‚** ä¸»çº¿ç¨‹åœ¨ç­‰å¾…æ•°æ®è¿”å›æ—¶è¢«**æŒ‚èµ·ï¼ˆBlockedï¼‰**äº†ã€‚\n\n* **ç½‘ç»œè¯·æ±‚ï¼š** åœ¨ä¸»çº¿ç¨‹**ç›´æ¥**ç”¨ OkHttp/Retrofit å‘èµ·åŒæ­¥çš„ç½‘ç»œè¯·æ±‚ã€‚\n* **æ•°æ®åº“æ“ä½œï¼š** åœ¨ä¸»çº¿ç¨‹å¯¹ Room/SQLite è¿›è¡Œ**å¤§é‡**çš„è¯»å†™ï¼ˆ`db.query(...)`ï¼‰ã€‚\n* **æ–‡ä»¶è¯»å†™ï¼š** åœ¨ä¸»çº¿ç¨‹è¯»å†™ `SharedPreferences`ï¼ˆ`commit()` ä¼šé˜»å¡ä¸»çº¿ç¨‹ï¼Œ`apply()` åœ¨æŸäº›æƒ…å†µä¸‹ä¹Ÿä¼šï¼‰ã€æˆ–è¯»å†™SDå¡ä¸Šçš„å¤§æ–‡ä»¶ã€‚\n\n#### B. CPU å¯†é›†å‹è®¡ç®—\n\n**CPU è¢«å æ»¡**ï¼Œå¯¼è‡´ä¸»çº¿ç¨‹æ²¡æœ‰â€œç©ºé—²â€å»å¤„ç† UI äº‹ä»¶ã€‚\n\n* **å›¾ç‰‡å¤„ç†ï¼š** åœ¨ä¸»çº¿ç¨‹å¯¹ä¸€ä¸ªè¶…å¤§çš„ `Bitmap` è¿›è¡Œè§£ç ã€ç¼©æ”¾ã€æˆ–é«˜æ–¯æ¨¡ç³Šã€‚\n* **å¤æ‚ `onDraw`ï¼š** åœ¨ `View` çš„ `onDraw()` æ–¹æ³•é‡Œè¿›è¡Œäº†**å¤§é‡çš„å¾ªç¯**ã€å¤æ‚çš„è·¯å¾„è®¡ç®—æˆ–åˆ›å»ºæ–°çš„ `Paint` å¯¹è±¡ã€‚\n* **å¤§æ•°æ®å¤„ç†ï¼š** åœ¨ä¸»çº¿ç¨‹è§£æä¸€ä¸ªéå¸¸åºå¤§ï¼ˆæ¯”å¦‚å‡ MBï¼‰çš„ JSON æ–‡ä»¶ã€‚\n\n#### C. é”ç«äº‰ / æ­»é” (Deadlock)\n\nè¿™æ˜¯**æœ€éšè”½ã€æœ€éš¾æŸ¥**çš„â€œå‡¶æ‰‹â€ã€‚\n\n* **åœºæ™¯ï¼š**\n    1.  **ä¸»çº¿ç¨‹ (A)** æ‹¿åˆ°äº† `é”1`ï¼Œç„¶åè¯•å›¾å»æ‹¿ `é”2`ã€‚\n    2.  **å­çº¿ç¨‹ (B)** æ‹¿åˆ°äº† `é”2`ï¼Œç„¶åè¯•å›¾å»æ‹¿ `é”1`ã€‚\n* **ç»“æœï¼š** A ç­‰ B é‡Šæ”¾ `é”2`ï¼ŒB ç­‰ A é‡Šæ”¾ `é”1`ã€‚ä¸¤ä¸ªçº¿ç¨‹äº’ç›¸ç­‰å¾…ï¼Œ**æ­»é”**å‘ç”Ÿã€‚\n* ä¸»çº¿ç¨‹è¢«**æ°¸ä¹…æŒ‚èµ·**ï¼Œ5 ç§’åï¼Œç”¨æˆ·ä¸€ç‚¹å‡»å±å¹•ï¼ŒANR å¿…ç°ã€‚\n\n---\n\n### 4. å¦‚ä½•â€œç ´æ¡ˆâ€ï¼Ÿï¼ˆåˆ†æä¸å®šä½ï¼‰\n\nå½“ ANR å‘ç”Ÿæ—¶ï¼Œç³»ç»Ÿä¼šåšä¸€ä»¶éå¸¸é‡è¦çš„äº‹ï¼š**ç”Ÿæˆä¸€ä»½â€œéªŒå°¸æŠ¥å‘Šâ€**ã€‚\n\nâ€œå£è¯€â€é‡Œè¯´äº†ï¼šâ€œ`æŸ¥æ¡ˆå°±å» /data/anrï¼Œtraces.txt æ˜¯ç­”æ¡ˆã€‚`â€\n\n1.  **å¼€å‘ä¸­ï¼šçœ‹ Logcat**\n    * åœ¨ ANR å‘ç”Ÿæ—¶ï¼ŒLogcat ä¼šæ‰“å°å‡º ANR çš„ç›¸å…³æ—¥å¿—ï¼Œè¿™æ˜¯æœ€ç›´è§‚çš„ã€‚\n\n2.  **çº¿ä¸Š/çœŸæœºï¼šåˆ†æ `traces.txt` (ANR æŠ¥å‘Š)**\n    * **è¿™æ˜¯â€œç ´æ¡ˆâ€çš„é»„é‡‘æ ‡å‡†ï¼**\n    * **å¦‚ä½•è·å–ï¼š**\n        * ï¼ˆæœ‰ Root æƒé™ï¼‰é€šè¿‡ `adb bugreport` å¯¼å‡ºä¸€ä¸ª zipï¼Œé‡Œé¢åŒ…å« `/data/anr/traces.txt`ã€‚\n        * ï¼ˆæ—  Root æƒé™ï¼‰åœ¨ Android 11+ ä¸Šï¼ŒApp å¯ä»¥é€šè¿‡ `ApplicationExitInfo` API æ•è·åˆ° ANR ä¿¡æ¯ã€‚\n        * ï¼ˆæœ€å¸¸ç”¨ï¼‰**Google Play Console (Android Vitals)** ä¼šè‡ªåŠ¨æ”¶é›†å¹¶ä¸ŠæŠ¥ `traces.txt`ï¼Œæ˜¯åˆ†æçº¿ä¸Š ANR çš„ä¸»è¦é˜µåœ°ã€‚\n    * **å¦‚ä½•é˜…è¯» `traces.txt`ï¼š**\n        1.  è¿™ä»½æ–‡ä»¶æ˜¯ä¸€ä¸ª**â€œANR å‘ç”Ÿç¬é—´ï¼ŒApp æ‰€æœ‰çº¿ç¨‹çš„å †æ ˆå¿«ç…§â€**ã€‚\n        2.  ä½ **ç¬¬ä¸€ä»¶äº‹**å°±æ˜¯æ‰¾åˆ° `thread=\"main\"`ï¼ˆä¸»çº¿ç¨‹ï¼‰çš„éƒ¨åˆ†ã€‚\n        3.  æŸ¥çœ‹ä¸»çº¿ç¨‹çš„**å †æ ˆ (Stack Trace)**ï¼Œçœ‹å®ƒ**æ­£å¡åœ¨å“ªä¸€è¡Œä»£ç **ã€‚\n        4.  **åˆ†æï¼š**\n            * å¦‚æœå¡åœ¨ `Network.read()` æˆ– `SQLite.query()`ï¼Œè¯´æ˜æ˜¯ **I/O ANR**ã€‚\n            * å¦‚æœå¡åœ¨ `Bitmap.decode()` æˆ–ä¸€ä¸ªå¤æ‚çš„ `for` å¾ªç¯é‡Œï¼Œè¯´æ˜æ˜¯ **CPU ANR**ã€‚\n            * å¦‚æœå¡åœ¨ `Object.wait()` æˆ– `waiting for lock`ï¼Œè¯´æ˜æ˜¯**é” ANR**ã€‚ä½ å°±éœ€è¦å»çœ‹ `traces.txt` é‡Œçš„å…¶ä»–çº¿ç¨‹ï¼Œçœ‹æ˜¯è°æŒæœ‰äº†ä¸»çº¿ç¨‹æ­£åœ¨ç­‰å¾…çš„é‚£ä¸ªé”ã€‚\n\n---\n\n### 5. å¦‚ä½•â€œä¿®å¤â€ï¼Ÿï¼ˆè§£å†³æ–¹æ¡ˆï¼‰\n\n**é»„é‡‘æ³•åˆ™ï¼šæ°¸è¿œä¸è¦é˜»å¡ä¸»çº¿ç¨‹ï¼**\n\n1.  **I/O ä»»åŠ¡ -> åˆ‡æ¢åˆ° `IO` çº¿ç¨‹**\n    * **ï¼ˆæœ€ä½³ï¼‰Kotlin åç¨‹ï¼š** ä½¿ç”¨ `viewModelScope.launch`ï¼Œå¹¶åœ¨ `Repository` å±‚ä½¿ç”¨ `withContext(Dispatchers.IO) { ... }` æ¥æ‰§è¡Œç½‘ç»œå’Œæ•°æ®åº“æ“ä½œã€‚\n    * **ï¼ˆä¼ ç»Ÿï¼‰RxJavaï¼š** ä½¿ç”¨ `subscribeOn(Schedulers.io())`ã€‚\n\n2.  **CPU è®¡ç®—ä»»åŠ¡ -> åˆ‡æ¢åˆ° `Default` çº¿ç¨‹**\n    * **ï¼ˆæœ€ä½³ï¼‰Kotlin åç¨‹ï¼š** ä½¿ç”¨ `withContext(Dispatchers.Default) { ... }` æ¥æ‰§è¡Œ CPU å¯†é›†å‹è®¡ç®—ï¼ˆå¦‚è§£æ JSONã€å¤„ç†å›¾ç‰‡ï¼‰ã€‚\n\n3.  **BroadcastReceiver ä¼˜åŒ–**\n    * `onReceive()` å¿…é¡»åœ¨ 10 ç§’å†…å®Œæˆã€‚\n    * **ä¸è¦**åœ¨ `onReceive` é‡Œåšè€—æ—¶æ“ä½œã€‚å¦‚æœå¿…é¡»åšï¼Œåº”è¯¥**æŠŠä»»åŠ¡äº¤ç»™ `WorkManager`** å»å¤„ç†ï¼Œæˆ–è€…è°ƒç”¨ `goAsync()` æ¥å»¶é•¿ç”Ÿå‘½å‘¨æœŸï¼ˆä½†ä¹Ÿæœ‰é™ï¼‰ã€‚\n\n4.  **`onDraw` ä¼˜åŒ–**\n    * **é¿å…**åœ¨ `onDraw` é‡Œåˆ›å»ºæ–°å¯¹è±¡ï¼ˆå¦‚ `new Paint()`ï¼‰æˆ–æ‰§è¡Œå¾ªç¯ã€‚\n    * **é¿å…**è¿‡åº¦çš„ `invalidate()` è°ƒç”¨ã€‚\n\nä½ å¸Œæœ›æˆ‘å†è¯¦ç»†è®²è®²å¦‚ä½•ä½¿ç”¨åç¨‹ï¼ˆ`withContext`ï¼‰æ¥è§£å†³ ANR å—ï¼Ÿ"
    },
    {
      "question": "å†…å­˜æŠ–åŠ¨ ä½ æ€ä¹ˆæŸ¥ï¼Ÿ",
      "answer": "ä½ è¿™ä¸ªé—®é¢˜é—®åˆ°ç‚¹å­ä¸Šäº†ï¼â€œå†…å­˜æŠ–åŠ¨â€ (Memory Churn) æ˜¯ Android ä¸­å¯¼è‡´**å¡é¡¿ (Jank)** çš„**å¤´å·å…ƒå‡¶**ä¹‹ä¸€ï¼Œå®ƒæ¯”å†…å­˜æ³„æ¼ï¼ˆOOMï¼‰æ›´å¸¸è§ã€æ›´éšè”½ã€‚\n\né¢è¯•å®˜é—®è¿™ä¸ªï¼Œæ˜¯æƒ³è€ƒå¯Ÿä½ å¯¹ **GC (åƒåœ¾å›æ”¶)** å’Œ **UI æ¸²æŸ“** ä¹‹é—´å…³ç³»çš„ç†è§£ã€‚\n\n### ğŸš€ æ ¸å¿ƒå£è¯€\n\nè¿™ä¸ªå£è¯€ä½ ä¸€å®šè¦è®°ä½ï¼Œå®ƒæ¦‚æ‹¬äº†â€œæŠ–åŠ¨â€çš„**åŸå› ã€åæœã€å’Œæ’æŸ¥**ï¼š\n\n> **â€œé¢‘ç¹åˆ›å»ºå°å¯¹è±¡ï¼ŒGC å¿™åˆ°ä¸»çº¿å´©ï¼›â€**\n> **â€œProfiler çœ‹â€˜é”¯é½¿â€™ï¼ŒLogcat çœ‹â€˜GCâ€™ï¼›â€**\n> **â€œ`onDraw` å’Œ `onBind`ï¼Œï¼ˆåˆ›å»ºï¼‰å¯¹è±¡æ˜¯â€œå†…é¬¼â€ã€‚â€**\n\n-----\n\n### 1\\. ä»€ä¹ˆæ˜¯â€œå†…å­˜æŠ–åŠ¨â€ï¼Ÿ\n\né¦–å…ˆï¼Œè¦å’Œé¢è¯•å®˜æ˜ç¡®ä½ æ‡‚è¿™ä¸ªæ¦‚å¿µï¼š\n\n  * **å†…å­˜æŠ–åŠ¨ (Memory Churn)ï¼š** æŒ‡çš„æ˜¯åœ¨**å¾ˆçŸ­çš„æ—¶é—´å†…ï¼Œå¤§é‡åœ°ã€é¢‘ç¹åœ°åˆ›å»ºå’Œé”€æ¯å¯¹è±¡**ã€‚\n  * **å®ƒä¸ºä»€ä¹ˆå (åæœ)ï¼š**\n    1.  ä½ **é¢‘ç¹åˆ›å»º**å°å¯¹è±¡ï¼Œå†…å­˜ï¼ˆæ–°ç”Ÿä»£ï¼‰å¾ˆå¿«å°±æ»¡äº†ã€‚\n    2.  ç³»ç»Ÿ**è¢«è¿«**è¦**é¢‘ç¹åœ°æ‰§è¡Œ GC** (Garbage Collection) æ¥å›æ”¶è¿™äº›åˆšåˆ›å»ºå®Œå°±æ²¡ç”¨çš„å¯¹è±¡ã€‚\n    3.  **ï¼ˆæœ€è‡´å‘½çš„ï¼‰** GCï¼ˆå°¤å…¶æ˜¯æ–°ç”Ÿä»£ GCï¼‰è™½ç„¶å¾ˆå¿«ï¼Œä½†å®ƒä¾ç„¶æ˜¯ä¸€ä¸ª **\"Stop-the-World\"** çš„äº‹ä»¶ã€‚å®ƒä¼š**æš‚åœä½ çš„ä¸»çº¿ç¨‹**ï¼ˆUI çº¿ç¨‹ï¼‰ã€‚\n    4.  Android çš„ UI æ¸²æŸ“è¦æ±‚æ¯ 16.6 æ¯«ç§’ï¼ˆ60fpsï¼‰ç»˜åˆ¶ä¸€å¸§ã€‚å¦‚æœåœ¨è¿™ 16.6ms å†…ï¼ŒGC æš‚åœäº†ä¸»çº¿ç¨‹ï¼ˆå“ªæ€•åªæš‚åœäº† 5msï¼‰ï¼Œè¿™ä¸€å¸§å°±**æ— æ³•æŒ‰æ—¶å®Œæˆ**ã€‚\n    5.  **ç»“æœï¼š** ç”¨æˆ·çœ‹åˆ°äº†**æ‰å¸§**ï¼Œæ„Ÿè§‰åˆ°çš„å°±æ˜¯\\*\\*â€œå¡é¡¿ (Jank)â€\\*\\*ã€‚\n\n> **ä¸€å¥è¯æ€»ç»“ï¼š** æŠ–åŠ¨ -\\> é¢‘ç¹ GC -\\> æš‚åœä¸»çº¿ç¨‹ -\\> æ‰å¸§ï¼ˆå¡é¡¿ï¼‰ã€‚\n\n-----\n\n### 2\\. æˆ‘æ˜¯æ€ä¹ˆâ€œæŸ¥â€çš„ï¼Ÿï¼ˆå·¥å…·å’Œæ–¹æ³•ï¼‰\n\nè¿™æ˜¯é—®é¢˜çš„æ ¸å¿ƒã€‚æˆ‘ä¼šç”¨â€œä¸¤æ­¥èµ°â€ç­–ç•¥ï¼š**1. å‘ç°ç°è±¡ï¼›2. å®šä½ä»£ç ã€‚**\n\n#### æ­¥éª¤ä¸€ï¼šå‘ç°â€œæŠ–åŠ¨â€ç°è±¡\n\næˆ‘æœ‰ä¸¤ä¸ªå·¥å…·å¯ä»¥å®è§‚åœ°çœ‹åˆ°â€œæŠ–åŠ¨â€ï¼š\n\n**A. (é¦–é€‰) Android Studio Profiler**\n\n1.  æ‰“å¼€ **Profiler** å·¥å…·æ ï¼Œé€‰æ‹© **\"Memory\"**ã€‚\n2.  **ï¼ˆå…³é”®ï¼‰çœ‹ï¿½ï¿½å­˜æ›²çº¿å›¾ï¼š**\n      * å¦‚æœå†…å­˜ä½¿ç”¨**å¹³ç¨³**æˆ–**ç¼“æ…¢å¢é•¿**ï¼ˆæœ‰æ³„æ¼ï¼‰ï¼Œé‚£ä¸æ˜¯æŠ–åŠ¨ã€‚\n      * å¦‚æœå†…å­˜æ›²çº¿å‘ˆç°å‡º**éå¸¸å°–é”ã€å¯†é›†çš„â€œé”¯é½¿çŠ¶â€ (Sawtooth Pattern)**ï¼Œ**è¿™å°±æ˜¯å†…å­˜æŠ–åŠ¨ï¼**\n      * \n      * æ¯ä¸€ä¸ªâ€œé”¯é½¿â€çš„**å¿«é€Ÿä¸Šå‡**ï¼Œä»£è¡¨â€œ**æ­£åœ¨ç–¯ç‹‚åˆ›å»ºå¯¹è±¡**â€ï¼›ç´§æ¥ç€çš„**å‚ç›´ä¸‹é™**ï¼Œä»£è¡¨â€œ**GC åˆšåˆšæŠŠå®ƒä»¬éƒ½å›æ”¶äº†**â€ã€‚\n\n**B. (è¾…åŠ©) Logcat**\n\n1.  æ‰“å¼€ **Logcat**ï¼Œåœ¨è¿‡æ»¤æ é‡Œè¾“å…¥ `tag:art` æˆ–è€… `GC`ã€‚\n2.  **ï¼ˆå…³é”®ï¼‰çœ‹æ—¥å¿—åˆ·æ–°é¢‘ç‡ï¼š**\n      * åœ¨ä½ æ“ä½œ Appï¼ˆæ¯”å¦‚æ»‘åŠ¨åˆ—è¡¨ï¼‰æ—¶ï¼Œå¦‚æœ Logcat **ç–¯ç‹‚åœ°**åˆ·å±ï¼ˆæ¯ç§’å¥½å‡ æ¬¡ï¼‰`GC_FOR_ALLOC` æˆ– `Alloc concurrent` è¿™æ ·çš„æ—¥å¿—...\n      * **è¿™å°±æ˜¯å†…å­˜æŠ–åŠ¨ï¼** è¿™è¯´æ˜ GC æ­£åœ¨â€œç–²äºå¥”å‘½â€åœ°å¸®ä½ æ”¶æ‹¾â€œæ®‹å±€â€ã€‚\n\n#### æ­¥éª¤äºŒï¼šå®šä½â€œå†…é¬¼â€ä»£ç \n\nå¥½äº†ï¼Œæˆ‘çŸ¥é“æœ‰æŠ–åŠ¨äº†ã€‚æ˜¯å“ªè¡Œä»£ç åœ¨â€œæ£ä¹±â€ï¼Ÿ\n\n**ï¼ˆå”¯ä¸€ç­”æ¡ˆï¼‰Profiler çš„â€œAllocation Trackingâ€ (åˆ†é…è·Ÿè¸ª)**\n\n1.  åœ¨ Memory Profiler ä¸­ï¼Œç‚¹å‡» **â€œRecord allocationsâ€**ï¼ˆå½•åˆ¶å†…å­˜åˆ†é…ï¼‰ã€‚\n2.  **å¤ç°å¡é¡¿æ“ä½œ**ï¼ˆæ¯”å¦‚ï¼Œç–¯ç‹‚æ»‘åŠ¨é‚£ä¸ªå¡é¡¿çš„ `RecyclerView`ï¼‰ã€‚\n3.  åœæ­¢å½•åˆ¶ã€‚\n4.  **ï¼ˆå…³é”®ï¼‰åˆ†æç»“æœï¼š**\n      * Profiler ä¼šå±•ç¤ºä¸€ä¸ªåˆ—è¡¨ï¼Œæ˜¾ç¤ºåœ¨å½•åˆ¶æœŸé—´ï¼Œ**å“ªäº›å¯¹è±¡è¢«åˆ›å»ºäº†å¤šå°‘æ¬¡**ã€‚\n      * æˆ‘ä¼šç«‹åˆ»ç‚¹å‡»è¡¨å¤´çš„ **\"Allocation Count\" (åˆ†é…è®¡æ•°) è¿›è¡Œé™åºæ’åº**ã€‚\n      * **â€œç ´æ¡ˆäº†â€**ï¼šä½ é©¬ä¸Šä¼šçœ‹åˆ°ï¼Œæ¯”å¦‚ `String` å¯¹è±¡è¢«åˆ›å»ºäº† 10000 æ¬¡ï¼Œ`Paint` å¯¹è±¡è¢«åˆ›å»ºäº† 5000 æ¬¡ã€‚\n      * **ï¼ˆå®šä½ï¼‰** ç‚¹å‡»è¿™ä¸ª `String`ï¼ŒProfiler çš„å³ä¾§ä¼šæ˜¾ç¤º **\"Allocation Stack Trace\" (åˆ†é…å †æ ˆ)**ã€‚\n      * è¿™ä¸ªå †æ ˆä¼š**ç²¾ç¡®åœ°**å‘Šè¯‰ä½ ï¼Œè¿™ 10000 ä¸ª `String` æ˜¯ç”±å“ªä¸€è¡Œä»£ç åˆ›å»ºçš„ã€‚æ¯”å¦‚ï¼š`com.example.MyAdapter.onBindViewHolder (line: 85)`ã€‚\n\n-----\n\n### 3\\. â€œå†…é¬¼â€é€šå¸¸è—åœ¨å“ªé‡Œï¼Ÿ(ç»éªŒ)\n\næ ¹æ®â€œå£è¯€â€ï¼ŒæŠ–åŠ¨ 90% å‘ç”Ÿåœ¨è¿™å‡ ä¸ªâ€œçƒ­ç‚¹â€å‡½æ•°é‡Œï¼Œå› ä¸ºå®ƒä»¬è¢«**é«˜é¢‘è°ƒç”¨**ï¼š\n\n  * **1. `onDraw(Canvas canvas)`**\n\n      * **è¿™æ˜¯â€œé‡ç¾åŒºâ€ï¼** `onDraw` ä¸€ç§’é’Ÿä¼šè¢«è°ƒç”¨ 60 æ¬¡ã€‚\n      * **é”™è¯¯ä»£ç ï¼š** `canvas.drawText(\"åˆ†æ•°: \" + score, ...)`ã€`Paint p = new Paint()`ã€`Rect r = new Rect()`ã€‚\n      * **åˆ†æï¼š** æ¯ç§’é’Ÿåˆ›å»ºäº† 60 ä¸ª `String`ã€60 ä¸ª `Paint`ã€60 ä¸ª `Rect`ã€‚è¿™å°±æ˜¯**ç–¯ç‹‚çš„æŠ–åŠ¨**ï¼\n\n  * **2. `RecyclerView.Adapter` çš„ `onBindViewHolder()`**\n\n      * å½“ä½ å¿«é€Ÿæ»‘åŠ¨åˆ—è¡¨æ—¶ï¼Œè¿™ä¸ªæ–¹æ³•ä¼šè¢«**é«˜é¢‘è°ƒç”¨**ã€‚\n      * **é”™è¯¯ä»£ç ï¼š**\n        ```kotlin\n        // æŠ–åŠ¨ï¼šæ¯æ¬¡ bind éƒ½ä¼šåˆ›å»ºæ–°çš„ String\n        holder.textView.text = \"ä»·æ ¼: Â¥\" + item.price \n        // æŠ–åŠ¨ï¼šæ¯æ¬¡ bind éƒ½ä¼šåˆ›å»ºæ–°çš„ Listener å®ä¾‹\n        holder.button.setOnClickListener { ... } \n        ```\n\n  * **3. ä»»ä½•é«˜é¢‘æ‰§è¡Œçš„å¾ªç¯ï¼ˆ`for`/`while`ï¼‰**\n\n      * **é”™è¯¯ä»£ç ï¼š**\n        ```kotlin\n        for (int i = 0; i < 1000; i++) {\n            String s = String.valueOf(i); // æŠ–åŠ¨ï¼šå¾ªç¯å†…åˆ›å»ºäº† 1000 ä¸ª String\n            // ...\n        }\n        ```\n\n-----\n\n### 4\\. æ€ä¹ˆâ€œä¿®å¤â€ï¼Ÿ\n\n**æ ¸å¿ƒæ€æƒ³ï¼šå¤ç”¨ï¼æŠŠâ€œåˆ›å»ºâ€ç§»å‡ºâ€œçƒ­ç‚¹å‡½æ•°â€ã€‚**\n\n1.  **ä¿®å¤ `onDraw`ï¼š**\n\n      * æŠŠ `Paint`, `Rect` ç­‰å¯¹è±¡å®šä¹‰ä¸º `View` çš„**æˆå‘˜å˜é‡**ï¼Œåœ¨**æ„é€ å‡½æ•°**ï¼ˆ`init`ï¼‰ä¸­ `new` ä¸€æ¬¡ã€‚\n      * `onDraw` ä¸­**åªå¤ç”¨**è¿™äº›å¯¹è±¡ï¼Œ**ç»å¯¹ä¸è¦**åœ¨ `onDraw` é‡Œ `new` ä»»ä½•ä¸œè¥¿ã€‚\n      * `String` æ‹¼æ¥ï¼Ÿåœ¨ `onDraw` ä¹‹å¤–å…ˆæ‹¼å¥½ã€‚\n\n2.  **ä¿®å¤ `onBindViewHolder`ï¼š**\n\n      * **å¤ç”¨ Listenerï¼š** æŠŠ `OnClickListener` å®šä¹‰ä¸º `Adapter` çš„æˆå‘˜å˜é‡ï¼ˆæˆ–åœ¨ `onCreateViewHolder` ä¸­åˆ›å»ºï¼‰ï¼Œåœ¨ `onBind` ä¸­åª `set` å®ƒï¼Œè€Œä¸æ˜¯ `new` å®ƒã€‚ï¼ˆ*P.S. Kotlin Lambda ä¼šè‡ªåŠ¨ä¼˜åŒ–ä¸€äº›ï¼Œä½†ä»éœ€æ³¨æ„*ï¼‰\n      * **å¤ç”¨ `StringBuilder`ï¼š** å¯¹äº `String` æ‹¼æ¥ï¼Œå¯ä»¥åœ¨ `ViewHolder` ä¸­æŒæœ‰ä¸€ä¸ª `StringBuilder`ï¼Œæ¯æ¬¡ `bind` æ—¶ `clear()` å¹¶ `append()`ã€‚\n\nä½ å¸Œæœ›æˆ‘å†è¯¦ç»†è®²è®² `onDraw` é‡Œçš„ä¼˜åŒ–æŠ€å·§ï¼Œè¿˜æ˜¯å¯¹è±¡æ± ï¼ˆObject Poolï¼‰çš„å®ç°å—ï¼Ÿ",
      "detail": ""
    },
    {
      "question": "RecyclerView çš„ä¼˜åŒ–?",
      "answer": "RecyclerView ä¼˜åŒ–çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼šå‡å°‘ä¸å¿…è¦çš„è®¡ç®—ã€æµ‹é‡ã€ç»˜åˆ¶å’Œå¯¹è±¡åˆ›å»ºã€‚\nä½ å¯ä»¥ä»æœ€åŸºç¡€çš„ ç®€åŒ–å¸ƒå±€ å’Œ æ­£ç¡®å®ç° ViewHolder åšèµ·ï¼Œç„¶åé€æ­¥å¼•å…¥\n\n DiffUtil å’Œ å›¾ç‰‡åŠ è½½åº“ã€‚å½“ä½ çš„åˆ—è¡¨æ•°æ®é‡å˜å¤§æ—¶ï¼Œåˆ†é¡µåŠ è½½ å°±æˆäº†å¿…éœ€å“ã€‚",
      "detail": "`RecyclerView` çš„ä¼˜åŒ–æ˜¯ä¸€ä¸ªå¾ˆå¤§çš„è¯é¢˜ï¼Œæ¶‰åŠåˆ°å¸ƒå±€ã€æ•°æ®å¤„ç†ã€è§†å›¾ç¼“å­˜ã€å›¾ç‰‡åŠ è½½ç­‰å¤šä¸ªæ–¹é¢ã€‚é€šè¿‡ä¼˜åŒ–ï¼Œå¯ä»¥æ˜¾è‘—æå‡åˆ—è¡¨çš„æ»‘åŠ¨æµç•…æ€§å’Œåº”ç”¨æ€§èƒ½ã€‚\n\nä»¥ä¸‹æ˜¯ä¸€äº›æ ¸å¿ƒçš„ä¼˜åŒ–ç­–ç•¥å’Œå®è·µæ–¹æ³•ï¼š\n\n---\n\n### ä¸€ã€ å¸ƒå±€ä¼˜åŒ– (Layout Optimization)\n\nå¸ƒå±€æ˜¯ `RecyclerView` æ€§èƒ½çš„åŸºçŸ³ã€‚ä¸€ä¸ªå¤æ‚æˆ–ä¸åˆç†çš„å¸ƒå±€ä¼šä¸¥é‡å½±å“æ»‘åŠ¨æµç•…åº¦ã€‚\n\n1.  **ç®€åŒ– Item Layout**\n    *   **å‡å°‘å±‚çº§**ï¼šå°½é‡ä½¿ç”¨æ‰å¹³åŒ–çš„å¸ƒå±€ç»“æ„ã€‚é¿å…åœ¨ `RelativeLayout` ä¸­åµŒå¥— `LinearLayout`ï¼Œæˆ–è€…åä¹‹ã€‚å¯ä»¥ä¼˜å…ˆè€ƒè™‘ä½¿ç”¨ `ConstraintLayout`ï¼Œå®ƒèƒ½åœ¨ä¸€ä¸ªå±‚çº§å†…å®ç°å¤æ‚çš„å¸ƒå±€å…³ç³»ï¼Œä»è€Œå‡å°‘è§†å›¾æ ‘çš„æ·±åº¦ã€‚\n    *   **é¿å…è¿‡åº¦ç»˜åˆ¶ (Overdraw)**ï¼š\n        *   ç§»é™¤ Item Layout ä¸­ä¸å¿…è¦çš„èƒŒæ™¯è‰²ã€‚å¦‚æœçˆ¶å¸ƒå±€å·²ç»æœ‰èƒŒæ™¯ï¼Œå­è§†å›¾çš„èƒŒæ™¯å¯èƒ½ä¼šå¯¼è‡´é‡å¤ç»˜åˆ¶ã€‚\n        *   ä½¿ç”¨ `tools:visibility=\"gone\"` æ¥é¢„è§ˆå¸ƒå±€ï¼Œè€Œä¸æ˜¯åœ¨è¿è¡Œæ—¶è®¾ç½® `View.GONE` æ¥éšè—åˆå§‹ä¸å¯è§çš„è§†å›¾ï¼Œè¿™ä¼šå‡å°‘æµ‹é‡å’Œç»˜åˆ¶çš„å¼€é”€ã€‚\n    *   **ä½¿ç”¨ `ViewStub` å»¶è¿ŸåŠ è½½**ï¼šå¯¹äºåˆ—è¡¨é¡¹ä¸­ä¸æ˜¯æ¯æ¬¡éƒ½æ˜¾ç¤ºçš„å¤æ‚è§†å›¾ï¼ˆä¾‹å¦‚ï¼Œå±•å¼€è¯¦æƒ…ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ `ViewStub` è¿›è¡Œæ‡’åŠ è½½ã€‚åªæœ‰å½“éœ€è¦æ˜¾ç¤ºæ—¶ï¼Œæ‰ä¼šå°†å…¶ inflated åˆ°è§†å›¾ä¸­ã€‚\n\n2.  **ä¼˜åŒ– `onMeasure` å’Œ `onLayout`**\n    *   **å›ºå®š Item é«˜åº¦/å®½åº¦**ï¼šå¦‚æœä½ çš„åˆ—è¡¨é¡¹é«˜åº¦æ˜¯å›ºå®šçš„ï¼Œåœ¨ `RecyclerView` çš„å¸ƒå±€ç®¡ç†å™¨ä¸­è®¾ç½® `setHasFixedSize(true)`ã€‚è¿™ä¼šå‘Šè¯‰ `RecyclerView` å®ƒçš„å°ºå¯¸ä¸ä¼šå› ä¸ºæ•°æ®çš„å˜åŒ–è€Œæ”¹å˜ï¼Œä»è€Œé¿å…ä¸å¿…è¦çš„ `requestLayout()` è°ƒç”¨ï¼Œæå‡æ€§èƒ½ã€‚\n    *   ```java\n        recyclerView.setHasFixedSize(true);\n        ```\n\n---\n\n### äºŒã€ ViewHolder ä¼˜åŒ–\n\n`ViewHolder` æ¨¡å¼æœ¬èº«å°±æ˜¯ä¸ºäº†æ€§èƒ½è€Œç”Ÿï¼Œä½†ä»æœ‰ä¼˜åŒ–ç©ºé—´ã€‚\n\n1.  **å‡å°‘ `findViewById` è°ƒç”¨**\n    *   è¿™æ˜¯æœ€åŸºæœ¬ä¹Ÿæ˜¯æœ€é‡è¦çš„ä¸€ç‚¹ã€‚åœ¨ `ViewHolder` çš„æ„é€ å‡½æ•°ä¸­ï¼Œé€šè¿‡ `itemView.findViewById()` æ‰¾åˆ°æ‰€æœ‰éœ€è¦æ“ä½œçš„å­è§†å›¾ï¼Œå¹¶å°†å…¶ä½œä¸º `ViewHolder` çš„æˆå‘˜å˜é‡ä¿å­˜èµ·æ¥ã€‚è¿™æ ·ï¼Œåœ¨ `onBindViewHolder` ä¸­å°±å¯ä»¥ç›´æ¥è®¿é—®è¿™äº›è§†å›¾ï¼Œé¿å…äº†åœ¨æ¯æ¬¡ç»‘å®šæ•°æ®æ—¶éƒ½å»æŸ¥æ‰¾ã€‚\n\n2.  **é¿å…åœ¨ `onBindViewHolder` ä¸­è¿›è¡Œè€—æ—¶æ“ä½œ**\n    *   `onBindViewHolder` ä¼šåœ¨åˆ—è¡¨æ»šåŠ¨æ—¶è¢«é¢‘ç¹è°ƒç”¨ã€‚ä»»ä½•è€—æ—¶æ“ä½œï¼Œå¦‚å¤æ‚çš„è®¡ç®—ã€æ•°æ®åº“æŸ¥è¯¢ã€ç½‘ç»œè¯·æ±‚ï¼ˆè™½ç„¶ä¸åº”è¯¥åœ¨è¿™é‡Œå‘ç”Ÿï¼‰ï¼Œéƒ½åº”è¯¥é¿å…ã€‚è¿™äº›æ“ä½œåº”æå‰å¤„ç†å¥½ï¼Œ`onBindViewHolder` åªè´Ÿè´£å°†å·²ç»å‡†å¤‡å¥½çš„æ•°æ®ç»‘å®šåˆ°è§†å›¾ä¸Šã€‚\n\n3.  **ä½¿ç”¨ `DiffUtil` é«˜æ•ˆæ›´æ–°æ•°æ®**\n    *   å½“åˆ—è¡¨æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œå¦‚æœä½ ç›´æ¥è°ƒç”¨ `adapter.notifyDataSetChanged()`ï¼Œ`RecyclerView` ä¼šç›²ç›®åœ°é‡æ–°ç»‘å®šæ‰€æœ‰å¯è§çš„ `ViewHolder`ï¼Œå³ä½¿åªæœ‰ä¸€ä¸ª item å‘ç”Ÿäº†å˜åŒ–ã€‚è¿™ä¼šé€ æˆå¾ˆå¤§çš„æ€§èƒ½æµªè´¹ã€‚\n    *   `DiffUtil` æ˜¯ä¸€ä¸ªå·¥å…·ç±»ï¼Œå®ƒå¯ä»¥è®¡ç®—å‡ºæ–°æ—§æ•°æ®é›†ä¹‹é—´çš„å·®å¼‚ï¼ˆå“ªäº› item è¢«æ·»åŠ ã€åˆ é™¤ã€ç§»åŠ¨æˆ–æ›´æ”¹ï¼‰ï¼Œå¹¶è‡ªåŠ¨è°ƒç”¨ç›¸åº”çš„ `notify` æ–¹æ³•ï¼ˆå¦‚ `notifyItemInserted`, `notifyItemChanged` ç­‰ï¼‰ã€‚è¿™ä½¿å¾— `RecyclerView` å¯ä»¥åªæ›´æ–°é‚£äº›çœŸæ­£å‘ç”Ÿå˜åŒ–çš„è§†å›¾ï¼Œæå¤§åœ°æå‡äº†æ•°æ®åˆ·æ–°æ—¶çš„æ€§èƒ½ï¼Œå°¤å…¶æ˜¯åœ¨å¤§æ•°æ®é›†çš„æƒ…å†µä¸‹ã€‚\n    *   **å¦‚ä½•ä½¿ç”¨**ï¼šåˆ›å»ºä¸€ä¸ª `DiffUtil.Callback` çš„å®ç°ç±»ï¼Œé‡å†™ `areItemsTheSame`, `areContentsTheSame` ç­‰æ–¹æ³•ï¼Œç„¶ååœ¨ `Adapter` ä¸­ä½¿ç”¨ `DiffUtil.calculateDiff()` è®¡ç®—å·®å¼‚å¹¶ dispatchã€‚\n\n---\n\n### ä¸‰ã€ å›¾ç‰‡åŠ è½½ä¼˜åŒ–\n\nåˆ—è¡¨ä¸­å›¾ç‰‡æ˜¯æ€§èƒ½å¼€é”€æœ€å¤§çš„éƒ¨åˆ†ä¹‹ä¸€ã€‚\n\n1.  **ä½¿ç”¨å›¾ç‰‡åŠ è½½åº“**\n    *   ä¸è¦è‡ªå·±æ‰‹åŠ¨å¤„ç†å›¾ç‰‡çš„ä¸‹è½½ã€ç¼“å­˜å’Œç¼©æ”¾ã€‚ä½¿ç”¨æˆç†Ÿçš„å›¾ç‰‡åŠ è½½åº“ï¼Œå¦‚ **Glide**, **Picasso**, **Coil** (Jetpack Compose æ¨è) æˆ– **Fresco**ã€‚\n    *   è¿™äº›åº“å†…ç½®äº†å¼ºå¤§çš„ç¼“å­˜æœºåˆ¶ï¼ˆå†…å­˜ç¼“å­˜å’Œç£ç›˜ç¼“å­˜ï¼‰ã€å›¾ç‰‡å‹ç¼©ã€å†…å­˜ç®¡ç†å’Œæ·¡å…¥æ·¡å‡ºç­‰åŠ¨ç”»æ•ˆæœï¼Œå¯ä»¥æå¤§åœ°ç®€åŒ–ä»£ç å¹¶æå‡æ€§èƒ½ã€‚\n\n2.  **åŠ è½½åˆé€‚å°ºå¯¸çš„å›¾ç‰‡**\n    *   **è‡³å…³é‡è¦**ï¼šæ°¸è¿œä¸è¦åŠ è½½æ¯” `ImageView` æ˜¾ç¤ºå°ºå¯¸å¤§å¾—å¤šçš„åŸå›¾ã€‚è¿™ä¼šæµªè´¹å¤§é‡å†…å­˜å’Œ CPU èµ„æºè¿›è¡Œç¼©æ”¾ã€‚\n    *   ä¼˜ç§€çš„å›¾ç‰‡åŠ è½½åº“éƒ½æ”¯æŒåœ¨åŠ è½½æ—¶æŒ‡å®šç›®æ ‡å°ºå¯¸ã€‚ä¾‹å¦‚ï¼ŒGlide å¯ä»¥é€šè¿‡ `.override(width, height)` æ¥æŒ‡å®šåŠ è½½å›¾ç‰‡çš„å¤§å°ã€‚\n    *   ä¸ºäº†è·å– `ImageView` çš„å‡†ç¡®å°ºå¯¸ï¼Œä½ å¯èƒ½éœ€è¦åœ¨ `onBindViewHolder` ä¸­ä½¿ç”¨ `ViewTreeObserver` æ¥ç›‘å¬è§†å›¾çš„ç»˜åˆ¶ã€‚\n\n3.  **å®ç°å›¾ç‰‡å ä½ç¬¦å’Œæ·¡å…¥æ•ˆæœ**\n    *   ä½¿ç”¨å ä½ç¬¦ï¼ˆPlaceholderï¼‰å¯ä»¥æå‡ç”¨æˆ·ä½“éªŒï¼ŒåŒæ—¶ä¹Ÿèƒ½é¿å…åœ¨å›¾ç‰‡åŠ è½½å®Œæˆå‰ `ImageView` ä¸ºç©ºã€‚\n    *   æ·¡å…¥æ•ˆæœï¼ˆCrossFadeï¼‰å¯ä»¥è®©å›¾ç‰‡çš„å‡ºç°æ›´å¹³æ»‘ï¼Œæ©ç›–åŠ è½½è¿‡ç¨‹ä¸­çš„å»¶è¿Ÿã€‚\n\n---\n\n### å››ã€ æ•°æ®å¤„ç†å’Œåˆ†é¡µåŠ è½½\n\n1.  **åˆ†é¡µåŠ è½½ (Pagination)**\n    *   å¦‚æœä½ çš„åˆ—è¡¨æ•°æ®é‡éå¸¸å¤§ï¼ˆæ¯”å¦‚ hundreds æˆ– thousands æ¡ï¼‰ï¼Œä¸€æ¬¡æ€§å°†æ‰€æœ‰æ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­ä¼šå¯¼è‡´åº”ç”¨å¡é¡¿ç”šè‡³ OOM (OutOfMemoryError)ã€‚\n    *   å®ç°åˆ†é¡µåŠ è½½ï¼Œå³åªåŠ è½½å½“å‰å±å¹•å’Œå³å°†è¿›å…¥å±å¹•çš„æ•°æ®ã€‚å½“ç”¨æˆ·æ»šåŠ¨åˆ°åˆ—è¡¨åº•éƒ¨æ—¶ï¼Œå†å»åŠ è½½ä¸‹ä¸€é¡µçš„æ•°æ®ã€‚\n    *   å¯ä»¥é€šè¿‡ç›‘å¬ `RecyclerView` çš„æ»šåŠ¨äº‹ä»¶ï¼ˆ`OnScrollListener`ï¼‰æ¥å®ç°ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨ Jetpack çš„ `Paging` åº“ï¼Œå®ƒæä¾›äº†æ›´ä¼˜é›…å’Œå¥å£®çš„åˆ†é¡µè§£å†³æ–¹æ¡ˆã€‚\n\n2.  **æ•°æ®é¢„å– (Prefetching)**\n    *   åœ¨åˆ†é¡µçš„åŸºç¡€ä¸Šï¼Œå¯ä»¥ç¨å¾®æå‰ä¸€ç‚¹å¼€å§‹åŠ è½½ä¸‹ä¸€é¡µæ•°æ®ã€‚ä¾‹å¦‚ï¼Œå½“ç”¨æˆ·æ»šåŠ¨åˆ°åˆ—è¡¨çš„å€’æ•°ç¬¬ N ä¸ª item æ—¶ï¼Œå°±å¼€å§‹è¯·æ±‚ä¸‹ä¸€é¡µæ•°æ®ã€‚è¿™æ ·å¯ä»¥åœ¨ç”¨æˆ·æµè§ˆåˆ°å½“å‰é¡µæœ«å°¾æ—¶ï¼Œä¸‹ä¸€é¡µæ•°æ®å·²ç»å‡†å¤‡å¥½äº†ï¼Œå®ç°æ— ç¼è¡”æ¥ã€‚\n\n---\n\n### äº”ã€ å…¶ä»–æ€§èƒ½ä¼˜åŒ–å»ºè®®\n\n1.  **é¿å…åœ¨ Item ä¸­ä½¿ç”¨ `wrap_content`**\n    *   åœ¨ `RecyclerView` çš„ item å¸ƒå±€ä¸­ï¼Œå°½é‡é¿å…ä½¿ç”¨ `wrap_content` ä½œä¸º `width` æˆ– `height`ï¼Œå°¤å…¶æ˜¯åœ¨ `ScrollView` ä¸­åµŒå¥— `RecyclerView` çš„åœºæ™¯ï¼ˆè¿™ç§åœºæ™¯æœ¬èº«å°±ä¸æ¨èï¼‰ã€‚`wrap_content` ä¼šè¿«ä½¿ `RecyclerView` æµ‹é‡æ‰€æœ‰ item çš„é«˜åº¦ï¼Œè¿™åœ¨å¤§æ•°æ®é›†ä¸‹æ˜¯éå¸¸è€—æ—¶çš„ã€‚\n\n2.  **ä½¿ç”¨ `RecyclerViewPool` å…±äº« ViewHolders**\n    *   å¦‚æœä½ çš„åº”ç”¨ä¸­æœ‰å¤šä¸ª `RecyclerView`ï¼Œå¹¶ä¸”å®ƒä»¬çš„ item ç±»å‹ç›¸åŒæˆ–ç›¸ä¼¼ï¼Œå¯ä»¥ä½¿ç”¨ `RecyclerView.RecycledViewPool` æ¥å…±äº« `ViewHolder`ã€‚è¿™æ ·å¯ä»¥å‡å°‘ `ViewHolder` çš„åˆ›å»ºå’Œé”€æ¯æ¬¡æ•°ï¼Œæé«˜å†…å­˜åˆ©ç”¨ç‡ã€‚\n    *   ```java\n        RecyclerView.RecycledViewPool sharedPool = new RecyclerView.RecycledViewPool();\n        recyclerView1.setRecycledViewPool(sharedPool);\n        recyclerView2.setRecycledViewPool(sharedPool);\n        ```\n\n3.  **å…³é—­ç¡¬ä»¶åŠ é€Ÿï¼ˆç‰¹å®šæƒ…å†µï¼‰**\n    *   è™½ç„¶ç¡¬ä»¶åŠ é€Ÿé€šå¸¸èƒ½æå‡æ€§èƒ½ï¼Œä½†åœ¨æŸäº›å¤æ‚çš„è‡ªå®šä¹‰è§†å›¾æˆ–åŠ¨ç”»åœºæ™¯ä¸‹ï¼Œå¯èƒ½ä¼šå‡ºç°æ¸²æŸ“é”™è¯¯æˆ–æ€§èƒ½é—®é¢˜ã€‚ä½œä¸ºæœ€åçš„è°ƒè¯•æ‰‹æ®µï¼Œå¯ä»¥å°è¯•ä¸º `RecyclerView` æˆ–å…¶ item å…³é—­ç¡¬ä»¶åŠ é€Ÿï¼š\n    *   ```xml\n        android:layerType=\"software\"\n        ```\n\n### æ€»ç»“\n\n`RecyclerView` ä¼˜åŒ–çš„æ ¸å¿ƒæ€æƒ³æ˜¯ï¼š**å‡å°‘ä¸å¿…è¦çš„è®¡ç®—ã€æµ‹é‡ã€ç»˜åˆ¶å’Œå¯¹è±¡åˆ›å»º**ã€‚\n\nä½ å¯ä»¥ä»æœ€åŸºç¡€çš„ **ç®€åŒ–å¸ƒå±€** å’Œ **æ­£ç¡®å®ç° ViewHolder** åšèµ·ï¼Œç„¶åé€æ­¥å¼•å…¥ **`DiffUtil`** å’Œ **å›¾ç‰‡åŠ è½½åº“**ã€‚å½“ä½ çš„åˆ—è¡¨æ•°æ®é‡å˜å¤§æ—¶ï¼Œ**åˆ†é¡µåŠ è½½** å°±æˆäº†å¿…éœ€å“ã€‚\n\né€šè¿‡ç»„åˆä½¿ç”¨è¿™äº›ç­–ç•¥ï¼Œä½ å¯ä»¥æ„å»ºå‡ºä¸€ä¸ªæ»‘åŠ¨æµç•…ã€æ€§èƒ½å“è¶Šçš„åˆ—è¡¨ç•Œé¢ã€‚"
    }
  ],
  "kotlin": [
    {
      "question": "kotlin ä¸­æœ‰å¦‚ä½•å®šä¹‰å˜é‡ï¼Ÿæ€ä¹ˆåŒºåˆ†ï¼Ÿ",
      "answer": "var å¯å˜ï¼Œval ä¸å˜ï¼›lateinit å…ˆå£°æ˜åèµ‹å€¼ï¼›lazy ç¬¬ä¸€æ¬¡ç”¨æ‰æ‰§è¡Œã€‚â€\n\nKotlin å®šä¹‰å˜é‡æœ‰å››ç§ï¼š\n> â‘  `val`ï¼šåªè¯»å˜é‡ï¼Œå¿…é¡»ç«‹å³åˆå§‹åŒ–ï¼›\n> â‘¡ `var`ï¼šå¯å˜å˜é‡ï¼Œä¹Ÿå¿…é¡»ç«‹å³åˆå§‹åŒ–ï¼›\n> â‘¢ `lateinit var`ï¼šå…ˆå£°æ˜ï¼Œååˆå§‹åŒ–ï¼Œé€‚åˆä¾èµ–æ³¨å…¥æˆ– Viewï¼›\n> â‘£ `lazy val`ï¼šå»¶è¿Ÿåˆå§‹åŒ–ï¼Œç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶æ‰æ‰§è¡Œï¼Œé€‚åˆåªåœ¨éœ€è¦æ—¶åˆå§‹åŒ–çš„å˜é‡ã€‚\n> è®°å¿†å£è¯€ï¼š**var å¯å˜ï¼Œval ä¸å˜ï¼›lateinit å…ˆå£°æ˜åèµ‹å€¼ï¼›lazy ç¬¬ä¸€æ¬¡ç”¨æ‰æ‰§è¡Œã€‚**",
      "detail": "Kotlin ä¸­å˜é‡å®šä¹‰æ–¹å¼ä¸»è¦æœ‰ **4ç§**ï¼Œæ ¸å¿ƒæ˜¯ **`val` / `var` / `lateinit` / `lazy`**ï¼Œç†è§£å®ƒä»¬çš„**åŒºåˆ«å’Œä½¿ç”¨åœºæ™¯**éå¸¸é‡è¦ï¼\n\n---\n\n# ğŸš€ Kotlin å˜é‡å®šä¹‰æ–¹å¼æ€»ç»“ï¼ˆè®°å¿†å£è¯€ï¼‰\n\n| æ–¹å¼             | æ˜¯å¦å¯å˜  | æ˜¯å¦ç«‹å³åˆå§‹åŒ–  | æ˜¯å¦åªè¯» | ä½¿ç”¨åœºæ™¯             |\n| -------------- | ----- | -------- | ---- | ---------------- |\n| `val`          | âŒ ä¸å¯å˜ | âœ” å¿…é¡»åˆå§‹åŒ–  | âœ” æ˜¯  | å¸¸é‡ã€ä¸å¯ä¿®æ”¹æ•°æ®        |\n| `var`          | âœ” å¯å˜  | âœ” å¿…é¡»åˆå§‹åŒ–  | âŒ å¦  | æ™®é€šå˜é‡             |\n| `lateinit var` | âœ” å¯å˜  | âŒ ä¸ç«‹å³åˆå§‹åŒ– | âŒ å¦  | ä¾èµ–æ³¨å…¥ã€Viewã€åˆå§‹åŒ–åèµ‹å€¼ |\n| `lazy val`     | âŒ ä¸å¯å˜ | âŒ å»¶è¿Ÿåˆå§‹åŒ–  | âœ” æ˜¯  | åªåœ¨ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶åˆå§‹åŒ–      |\n\nè®°å¿†å£è¯€ï¼š\nğŸ‘‰ **â€œvar å¯å˜ï¼Œval ä¸å˜ï¼›lateinit å…ˆå£°æ˜åèµ‹å€¼ï¼›lazy ç¬¬ä¸€æ¬¡ç”¨æ‰æ‰§è¡Œã€‚â€**\n\n---\n\n## ğŸ“Œ ä¸€ã€`val` ä¸ `var`\n\n```kotlin\nval name = \"Tom\"      // åªè¯»ï¼Œä¸å¯é‡æ–°èµ‹å€¼\nvar age = 18          // å¯è¯»å†™ï¼Œå¯ä¿®æ”¹\nage = 20              // OK\nname = \"Jack\"         // âŒ æŠ¥é”™\n```\n\nâš ï¸ æ³¨æ„ï¼š\n`val` åªæ˜¯ **å¼•ç”¨ä¸èƒ½å˜**ï¼Œä½†å¯¹è±¡å†…å®¹ **å¯ä»¥æ”¹å˜**ï¼š\n\n```kotlin\nval list = mutableListOf(1, 2, 3)\nlist.add(4)   // âœ” OKï¼Œå†…å®¹æ”¹å˜\n// list = mutableListOf(5,6) âŒ ä¸å…è®¸\n```\n\n---\n\n## ğŸ“Œ äºŒã€`lateinit var`ï¼ˆå»¶è¿Ÿåˆå§‹åŒ–ï¼‰\n\nåªèƒ½ç”¨äº **å¯å˜ç±»å‹ `var`**ï¼Œå¹¶ç”¨äº **éç©ºç±»å‹ & class æˆå‘˜å˜é‡**ã€‚\n\n```kotlin\nlateinit var view: TextView\n\nfun initView() {\n    view = findViewById(R.id.tv_question)  // åæœŸèµ‹å€¼\n}\n\n```\n\n### âš ï¸ é™åˆ¶\n\n| é™åˆ¶                                  | è¯´æ˜       |\n| ----------------------------------- | -------- |\n| ä¸èƒ½ç”¨äº `val`                          | åªèƒ½ `var` |\n| ä¸èƒ½ç”¨äº `Int / Double / Boolean` ç­‰åŸºæœ¬ç±»å‹ |          |\n| å¿…é¡»æ˜¯éç©ºç±»å‹ (`String?` ä¸è¡Œ)              |          |\n\n---\n\n## ğŸ“Œ ä¸‰ã€`lazy val`ï¼ˆæƒ°æ€§åˆå§‹åŒ–ï¼‰\n\n**ç¬¬ä¸€æ¬¡è®¿é—®æ—¶æ‰èµ‹å€¼**ï¼Œä¹‹åä¸ä¼šå†æ‰§è¡Œã€‚\n\n```kotlin\nval userName by lazy {\n    println(\"åˆå§‹åŒ–æ‰§è¡Œäº†ï¼\")\n    \"Jack\"\n}\n```\n\nä½¿ç”¨åœºæ™¯ï¼š\nâœ” ç½‘ç»œè¯·æ±‚åçš„æ•°æ®\nâœ” åªåœ¨ç”¨åˆ°æ—¶æ‰åˆ›å»ºï¼ˆèŠ‚çœå†…å­˜ï¼‰\nâœ” Fragment ViewBinding\n\n---\n\n## ğŸ“Œ å››ã€å¸¸è§å˜é‡å®šä¹‰æ–¹å¼æ±‡æ€»\n\n```kotlin\nval name: String = \"Tom\"   // åªè¯» & ç«‹å³åˆå§‹åŒ–\nvar age: Int = 18          // å¯ä¿®æ”¹\n\nlateinit var context: Context  // åˆå§‹åŒ–å‰å£°æ˜\n\nval result by lazy { getDataFromNetwork() }  // ç”¨åˆ°æ—¶å†åˆå§‹åŒ–\n```\n\n---\n\n# ğŸ§  é¢è¯•å›ç­”æ¨¡æ¿ï¼ˆèƒŒå°±èƒ½è¿‡ï¼‰\n\n> Kotlin å®šä¹‰å˜é‡æœ‰å››ç§ï¼š\n> â‘  `val`ï¼šåªè¯»å˜é‡ï¼Œå¿…é¡»ç«‹å³åˆå§‹åŒ–ï¼›\n> â‘¡ `var`ï¼šå¯å˜å˜é‡ï¼Œä¹Ÿå¿…é¡»ç«‹å³åˆå§‹åŒ–ï¼›\n> â‘¢ `lateinit var`ï¼šå…ˆå£°æ˜ï¼Œååˆå§‹åŒ–ï¼Œé€‚åˆä¾èµ–æ³¨å…¥æˆ– Viewï¼›\n> â‘£ `lazy val`ï¼šå»¶è¿Ÿåˆå§‹åŒ–ï¼Œç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶æ‰æ‰§è¡Œï¼Œé€‚åˆåªåœ¨éœ€è¦æ—¶åˆå§‹åŒ–çš„å˜é‡ã€‚\n> è®°å¿†å£è¯€ï¼š**var å¯å˜ï¼Œval ä¸å˜ï¼›lateinit å…ˆå£°æ˜åèµ‹å€¼ï¼›lazy ç¬¬ä¸€æ¬¡ç”¨æ‰æ‰§è¡Œã€‚**\n\n---\n\néœ€è¦æˆ‘ç»™ä½ æ•´ç†æˆ PDF æˆ–åˆ·é¢˜å°å¡ç‰‡å½¢å¼æ–¹ä¾¿å¤ä¹ å—ï¼ŸğŸ“ŒğŸ’¡\n"
    },
    {
      "question": "é«˜é˜¶å‡½æ•°çŸ¥é“å— ï¼Ÿ ä½ åœ¨å¼€å‘ä¸­ç”¨è¿™ä¸ªåšäº†ä»€ä¹ˆï¼Ÿ",
      "answer": "å‡½æ•°å½“å‚æ•°ï¼Œæˆ–æŠŠå‡½æ•°å½“Cä½ï¼ˆè¿”å›å€¼ï¼‰",
      "detail": "å½“ç„¶çŸ¥é“ï¼\n\n**é«˜é˜¶å‡½æ•° (Higher-Order Function)** æ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ä¸ªåŸºçŸ³ï¼Œä¹Ÿæ˜¯ Kotlin è¯­è¨€çš„ç²¾é«“ä¹‹ä¸€ã€‚\n\nç”¨ä¸€ä¸ªâ€œå£è¯€â€æ¥æ¦‚æ‹¬å®ƒå°±æ˜¯ï¼š\n\n> **â€œå‡½æ•°å½“å‚æ•°ï¼Œæˆ–æŠŠå‡½æ•°å½“Cä½ï¼ˆè¿”å›å€¼ï¼‰ï¼›â€**\n> **â€œåªè¦æ²¾ä¸Šè¾¹ï¼Œå°±æ˜¯é«˜é˜¶å‡½æ•°ã€‚â€**\n\nç®€å•æ¥è¯´ï¼Œä¸€ä¸ªå‡½æ•°åªè¦æ»¡è¶³ä»¥ä¸‹**ä¸¤ä¸ªæ¡ä»¶ä¸­çš„ä»»æ„ä¸€ä¸ª**ï¼Œå®ƒå°±æ˜¯é«˜é˜¶å‡½æ•°ï¼š\n\n1.  **æ¥å—ä¸€ä¸ªæˆ–å¤šä¸ªâ€œå‡½æ•°â€ä½œä¸ºâ€œå‚æ•°â€ã€‚**\n2.  **â€œè¿”å›â€ä¸€ä¸ªâ€œå‡½æ•°â€ã€‚**\n\n-----\n\n### ğŸ”¥ æˆ‘ï¼ˆä½œä¸ºå¼€å‘è€…ï¼‰åœ¨å¼€å‘ä¸­ç”¨å®ƒåšä»€ä¹ˆï¼Ÿ\n\né¢è¯•å®˜é—®è¿™ä¸ªé—®é¢˜ï¼Œå…¶å®æ˜¯æƒ³çŸ¥é“ä½ æœ‰æ²¡æœ‰â€œ**å°è£…**â€å’Œâ€œ**æŠ½è±¡**â€çš„æ€ç»´ã€‚ä½ é—®çš„å¤ªå¥½äº†ï¼Œé«˜é˜¶å‡½æ•°**ä¸æ˜¯**ä»€ä¹ˆèŠ±å“¨çš„ç†è®ºï¼Œå®ƒåœ¨æˆ‘çš„æ—¥å¸¸å¼€å‘ä¸­**æ— å¤„ä¸åœ¨**ï¼Œä¸»è¦ç”¨æ¥è§£å†³\\*\\*â€œé‡å¤â€**å’Œ**â€œæ¨¡æ¿ä»£ç â€\\*\\*çš„é—®é¢˜ã€‚\n\nä»¥ä¸‹æ˜¯æˆ‘æœ€å¸¸ç”¨å®ƒçš„å‡ ä¸ªåœºæ™¯ï¼š\n\n#### 1\\. (æœ€å¸¸è§çš„) å›è°ƒå’Œç›‘å¬å™¨ï¼š`setOnClickListener`\n\nä½ å¯èƒ½æ¯å¤©éƒ½åœ¨ç”¨é«˜é˜¶å‡½æ•°ï¼Œåªæ˜¯æ²¡æ„è¯†åˆ°ï¼\n\n```kotlin\n// setOnClickListener å°±æ˜¯ä¸€ä¸ªæœ€ç»å…¸çš„é«˜é˜¶å‡½æ•°\n// ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºå®ƒæ¥å—äº†ä¸€ä¸ªâ€œå‡½æ•°â€ { ... } ä½œä¸ºå‚æ•°\nmyButton.setOnClickListener {\n    // è¿™é‡Œçš„ lambda { ... } å°±æ˜¯ä¸€ä¸ªå‡½æ•°\n    // ä½ æŠŠâ€œç‚¹å‡»ååšä»€ä¹ˆâ€è¿™ä¸ªâ€œè¡Œä¸ºâ€ä¼ ç»™äº† setOnClickListener\n    viewModel.onButtonClicked()\n}\n```\n\n**æˆ‘ç”¨å®ƒåšä»€ä¹ˆï¼Ÿ**\n\n  * **è§£è€¦ã€‚** æˆ‘ä¸éœ€è¦å…³å¿ƒ `setOnClickListener` å†…éƒ¨æ˜¯æ€ä¹ˆå¤„ç†ç‚¹å‡»äº‹ä»¶ï¼ˆæ¯”å¦‚è§¦æ‘¸ã€åˆ†å‘ï¼‰çš„ï¼Œæˆ‘åªå…³å¿ƒ\\*\\*â€œåšä»€ä¹ˆâ€\\*\\*ï¼ˆ`{ ... }` é‡Œçš„é€»è¾‘ï¼‰ã€‚\n\n#### 2\\. (æœ€çœå¿ƒçš„) Kotlin æ ‡å‡†åº“ï¼š`let`, `filter`, `map`...\n\næˆ‘ä»¬ä¹‹å‰èŠçš„ `let`, `run`, `apply`, `also`, `with` **å…¨éƒ½æ˜¯é«˜é˜¶å‡½æ•°**ï¼\n\næ­¤å¤–ï¼Œ**é›†åˆæ“ä½œ**æ˜¯é«˜é˜¶å‡½æ•°æœ€é—ªäº®çš„èˆå°ï¼š\n\n```kotlin\nval numbers = listOf(1, 2, 3, 4, 5)\n\n// éœ€æ±‚ï¼šæ‰¾å‡ºæ‰€æœ‰å¶æ•°ï¼Œå¹¶æŠŠå®ƒä»¬å˜æˆå­—ç¬¦ä¸²\n// âŒ ä»¥å‰çš„å†™æ³•ï¼ˆå‘½ä»¤å¼ï¼‰ï¼š\nval result = mutableListOf<String>()\nfor (num in numbers) {\n    if (num % 2 == 0) {\n        result.add(\"Number: $num\")\n    }\n}\n\n// âœ… é«˜é˜¶å‡½æ•°çš„å†™æ³•ï¼ˆå£°æ˜å¼ï¼‰ï¼š\nval highOrderResult = numbers\n    .filter { it % 2 == 0 } // filter æ˜¯é«˜é˜¶å‡½æ•°ï¼Œä¼ å…¥ä¸€ä¸ªâ€œåˆ¤æ–­â€å‡½æ•°\n    .map { \"Number: $it\" }    // map æ˜¯é«˜é˜¶å‡½æ•°ï¼Œä¼ å…¥ä¸€ä¸ªâ€œè½¬æ¢â€å‡½æ•°\n```\n\n**æˆ‘ç”¨å®ƒåšä»€ä¹ˆï¼Ÿ**\n\n  * **è®©ä»£ç â€œä¼šè¯´è¯â€ã€‚** `filter`+`map` çš„å†™æ³•ï¼Œ**ä»£ç å³æ³¨é‡Š**ï¼Œæˆ‘ä¸€çœ¼å°±çŸ¥é“å®ƒåœ¨â€œè¿‡æ»¤â€ç„¶åâ€œæ˜ å°„â€ã€‚è€Œ `for` å¾ªç¯æˆ‘å¿…é¡»è¯»å®Œæ‰€æœ‰é€»è¾‘æ‰èƒ½çŒœå‡ºå®ƒçš„æ„å›¾ã€‚\n\n#### 3\\. (æœ€å®ç”¨çš„) å°è£…é‡å¤çš„â€œæ¨¡æ¿ä»£ç â€\n\nè¿™æ˜¯é«˜é˜¶å‡½æ•°**æœ€å¼ºå¤§**çš„åœ°æ–¹ï¼Œä¹Ÿæ˜¯æˆ‘ï¼ˆä½œä¸ºå¼€å‘è€…ï¼‰**çœŸæ­£â€œåˆ›é€ â€ä»·å€¼**çš„åœ°æ–¹ã€‚\n\n**åœºæ™¯ï¼šé˜²æ­¢æŒ‰é’®é‡å¤ç‚¹å‡»ï¼ˆDebounceï¼‰**\n\nåœ¨ Android å¼€å‘ä¸­ï¼Œæœ€çƒ¦äººçš„ Bug ä¹‹ä¸€å°±æ˜¯ç”¨æˆ·ç–¯ç‹‚ç‚¹å‡»æŒ‰é’®ï¼Œå¯¼è‡´æ‰“å¼€äº†ä¸¤ä¸ª Activity æˆ–å‘é€äº†ä¸¤æ¬¡ç½‘ç»œè¯·æ±‚ã€‚\n\n**âŒ ä»¥å‰çš„å†™æ³•ï¼š**\næ¯ä¸ªç‚¹å‡»äº‹ä»¶é‡Œéƒ½å»å†™ä¸€éâ€œåˆ¤æ–­æ—¶é—´å·®â€çš„é€»è¾‘ï¼Œéå¸¸æ¶å¿ƒã€‚\n\n**âœ… é«˜é˜¶å‡½æ•°çš„å†™æ³•ï¼š**\næˆ‘**å°è£…**ä¸€ä¸ªâ€œé˜²æŠ–â€çš„é«˜é˜¶å‡½æ•°ï¼Œ**ä¸€æ¬¡æ€§è§£å†³**æ‰€æœ‰é—®é¢˜ã€‚\n\n**ç¬¬1æ­¥ï¼šå®šä¹‰æˆ‘çš„é«˜é˜¶å‡½æ•°** (æ¯”å¦‚å®šä¹‰æˆä¸€ä¸ª View çš„æ‰©å±•å‡½æ•°)\n\n```kotlin\n// å®šä¹‰ä¸€ä¸ªé«˜é˜¶å‡½æ•°å« 'onClickDebounced'\n// å®ƒæ¥å—ä¸€ä¸ªâ€œå‡½æ•°â€ (action) ä½œä¸ºå‚æ•°\nfun View.onClickDebounced(debounceTime: Long = 600L, action: (View) -> Unit) {\n    var lastClickTime: Long = 0\n\n    this.setOnClickListener { view ->\n        val now = System.currentTimeMillis()\n        if (now - lastClickTime > debounceTime) {\n            // åªæœ‰æ—¶é—´å·®è¶³å¤Ÿï¼Œæ‰çœŸæ­£æ‰§è¡Œä½ ä¼ è¿›æ¥çš„â€œè¡Œä¸ºâ€\n            action(view) \n            lastClickTime = now\n        }\n    }\n}\n```\n\n**ç¬¬2æ­¥ï¼šåœ¨å¼€å‘ä¸­â€œäº«å—â€å®ƒ**\n\n```kotlin\n// ä»¥å‰\n// myButton.setOnClickListener { ... } // å¯èƒ½ä¼šè¢«è¿ç‚¹\n\n// ç°åœ¨\nmyButton.onClickDebounced {\n    // æ— è®ºç”¨æˆ·ç‚¹å¤šå¿«ï¼Œè¿™é‡Œçš„ä»£ç  600ms å†…åªä¼šæ‰§è¡Œä¸€æ¬¡\n    viewModel.submitOrder()\n}\n\notherButton.onClickDebounced {\n    // å¤ç”¨ï¼\n    viewModel.loadData()\n}\n```\n\n**æˆ‘ç”¨å®ƒåšä»€ä¹ˆï¼Ÿ**\n\n  * **æŠ½è±¡ï¼** æˆ‘æŠŠâ€œå¦‚ä½•é˜²æŠ–â€è¿™ä¸ª\\*\\*â€œé‡å¤çš„æ¨¡æ¿â€**æŠ½ç¦»åˆ° `onClickDebounced` ä¸­ï¼ŒæŠŠâ€œå…·ä½“åšä»€ä¹ˆâ€ï¼ˆ`{...}`ï¼‰è¿™ä¸ª**â€œå˜åŒ–çš„éƒ¨åˆ†â€\\*\\*ä½œä¸ºå‚æ•°ä¼ è¿›å»ã€‚\n\n#### 4\\. (æ›´è¿›ä¸€æ­¥) å‡½æ•°å·¥å‚ï¼šè¿”å›ä¸€ä¸ªå‡½æ•°\n\né«˜é˜¶å‡½æ•°çš„ç¬¬äºŒç§ç”¨æ³•ï¼ˆè¿”å›ä¸€ä¸ªå‡½æ•°ï¼‰åœ¨æ—¥å¸¸å¼€å‘ä¸­ä¸é‚£ä¹ˆå¸¸è§ï¼Œä½†åœ¨åšä¸€äº›é…ç½®æ—¶å¾ˆæœ‰ç”¨ã€‚\n\n```kotlin\n// è¿™æ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œå› ä¸ºå®ƒâ€œè¿”å›â€äº†ä¸€ä¸ªå‡½æ•°\nfun getPermissionChecker(activity: Activity, permission: String): () -> Boolean {\n    // è¿”å›ä¸€ä¸ªâ€œå‡½æ•°â€ï¼š () -> Boolean\n    return {\n        ContextCompat.checkSelfPermission(activity, permission) == PackageManager.PERMISSION_GRANTED\n    }\n}\n\n// ä½¿ç”¨\nval checkCameraPermission = getPermissionChecker(this, Manifest.permission.CAMERA)\nval checkStoragePermission = getPermissionChecker(this, Manifest.permission.WRITE_EXTERNAL_STORAGE)\n\n// ...\nif (checkCameraPermission()) {\n    // ...\n}\n```\n\n**æˆ‘ç”¨å®ƒåšä»€ä¹ˆï¼Ÿ**\n\n  * **â€œé¢„é…ç½®â€ã€‚** æˆ‘åˆ›å»ºäº†ä¸€ä¸ªâ€œå‡½æ•°å·¥å‚â€ï¼Œå®ƒå¸®æˆ‘æ‰¹é‡ç”Ÿäº§â€œå®šåˆ¶åŒ–â€çš„æ£€æŸ¥å‡½æ•°ã€‚\n\n-----\n\n### æ€»ç»“\n\né¢è¯•æ—¶ï¼Œå¦‚æœä½ èƒ½ç­”å‡ºï¼š\n\n1.  `setOnClickListener` æ˜¯é«˜é˜¶å‡½æ•°ï¼ˆå› ä¸ºå®ƒæ¥å—å‡½æ•°ï¼‰ã€‚\n2.  `filter` / `map` æ˜¯é«˜é˜¶å‡½æ•°ï¼ˆå®ƒè®©ä»£ç æ›´æ˜“è¯»ï¼‰ã€‚\n3.  **ï¼ˆé«˜å…‰æ—¶åˆ»ï¼‰** æˆ‘è‡ªå·±å°è£…äº† `onClickDebounced`ï¼ˆé˜²æŠ–ï¼‰æˆ– `safeExecute`ï¼ˆç»Ÿä¸€ try-catchï¼‰è¿™æ ·çš„é«˜é˜¶å‡½æ•°ï¼Œæ¥**æŠ½è±¡æ¨¡æ¿ä»£ç **ã€‚\n\né¢è¯•å®˜ä¸€å®šä¼šå¯¹ä½ åˆ®ç›®ç›¸çœ‹ã€‚\n\nä½ å¸Œæœ›æˆ‘å†ä¸¾ä¸€ä¸ªâ€œç»Ÿä¸€å¤„ç† `try-catch`â€çš„é«˜é˜¶å‡½æ•°å°è£…ç¤ºä¾‹å—ï¼Ÿ"
    },
    {
      "question": "kotlinä¸­ç±»æœ‰å“ªäº›ç§ç±» ï¼Ÿ",
      "answer": "Kotlin çš„ç±»ä¸€å…±å¯ä»¥åˆ†ä¸ºå››å¤§ç±»ï¼š\næ™®é€šç±»ã€æŠ½è±¡ä¸æ¥å£ã€ç‰¹æ®Šç±»ï¼ˆdata / enum / sealedï¼‰ã€å¯¹è±¡ç±»ï¼ˆobject / companionï¼‰ã€‚\næ•°æ®ç±»å’Œæšä¸¾ç±»ä¸»è¦ç”¨äºæ•°æ®å­˜å‚¨å’ŒçŠ¶æ€ç®¡ç†ï¼›å¯†å°ç±»ç”¨äºå—é™ç»§æ‰¿å’Œç¼–è¯‘å™¨çº¦æŸï¼›\nObject ç”¨äºå•ä¾‹æ¨¡å¼ï¼ŒCompanion ç”¨äºé™æ€æˆå‘˜ã€‚\nKotlin æ²¡æœ‰ staticï¼Œæ‰€ä»¥ä¼´ç”Ÿå¯¹è±¡æ˜¯ Java static çš„æ›¿ä»£æ–¹æ¡ˆã€‚",
      "detail": "Kotlin ä¸­çš„ **ç±»çš„ç§ç±»éå¸¸ä¸°å¯Œ**ï¼Œä½†æ˜¯æœ‰è§„å¾‹å¯è®°ï¼\næˆ‘å¸®ä½ æ•´ç†æˆ **è®°å¿†ç»“æ„å›¾ + é¢è¯•ç­”é¢˜æ¨¡æ¿**ï¼Œéå¸¸å®¹æ˜“èƒŒğŸ‘‡\n\n---\n\n# ğŸ§© Kotlin ç±»çš„ç§ç±»ï¼ˆæ€»è§ˆï¼‰\n\n> è®°å¿†å£è¯€ï¼š\n> **æ™®é€šç±» + ç‰¹æ®Šç±»ï¼ˆæ•°æ®ã€æšä¸¾ã€å¯†å°ï¼‰+ å¯¹è±¡ç±»ï¼ˆå•ä¾‹/ä¼´ç”Ÿï¼‰+ æŠ½è±¡ä¸æ¥å£**\n\n---\n\n## ğŸ“Œ 1. æ™®é€šç±»ï¼ˆClassï¼‰\n\n```kotlin\nclass Person(val name: String, var age: Int)\n```\n\næœ€åŸºç¡€çš„ç±»ï¼Œå¯ç»§æ‰¿ã€å¯å®šä¹‰å±æ€§å’Œæ–¹æ³•ã€‚\n\n---\n\n## âš™ 2. æŠ½è±¡ç±»ï¼ˆAbstract Classï¼‰\n\n```kotlin\nabstract class Animal {\n    abstract fun sound()\n}\n```\n\nâœ” å¯æœ‰å®ç°\nâœ” å¯ä»¥æœ‰æŠ½è±¡æ–¹æ³•\nâœ” ä¸å¯å®ä¾‹åŒ–\nâœ” å­ç±»å¿…é¡»å®ç°æŠ½è±¡æ–¹æ³•\n\n---\n\n## ğŸ”Œ 3. æ¥å£ï¼ˆInterfaceï¼‰\n\n```kotlin\ninterface ClickListener {\n    fun onClick()\n}\n```\n\nâœ” åªèƒ½å®šä¹‰è¡Œä¸º\nâœ” Kotlin æ¥å£å¯ä»¥æœ‰é»˜è®¤å®ç°\nâœ” å¯å®ç°å¤šä¸ªæ¥å£ï¼ˆå¤šç»§æ‰¿ï¼‰\n\n---\n\n## ğŸ“¦ 4. æ•°æ®ç±»ï¼ˆData Classï¼‰\n\nè‡ªåŠ¨ç”Ÿæˆï¼š`toString()`ã€`equals()`ã€`copy()`ã€\n\n```kotlin\ndata class User(val name: String, val age: Int)\n```\n\nâœ” åªç”¨äºå­˜æ•°æ®\nâœ” é»˜è®¤å®ç° `equals / hashcode / toString / copy`\nâœ” æ„é€ å‡½æ•°**å¿…é¡»æœ‰è‡³å°‘ä¸€ä¸ªå‚æ•°**\n\n---\n\n## ğŸ§¾ 5. æšä¸¾ç±»ï¼ˆEnum Classï¼‰\n\n```kotlin\nenum class Direction { NORTH, SOUTH, EAST, WEST }\n```\n\nâœ” å¸¸ç”¨çŠ¶æ€å®šä¹‰\nâœ” å¯å®šä¹‰å‡½æ•°å’Œå±æ€§\n\n---\n\n## ğŸªŸ 6. å¯†å°ç±»ï¼ˆSealed Classï¼‰\n\n> **å—é™ç»§æ‰¿ç±»ï¼Œåªèƒ½åœ¨åŒä¸€ä¸ªæ–‡ä»¶ä¸­ç»§æ‰¿ã€‚** å¸¸ç”¨äºåç¨‹çŠ¶æ€ã€UI çŠ¶æ€ã€‚\n\n```kotlin\nsealed class Result {\n    data class Success(val data: String): Result()\n    object Error: Result()\n}\n```\n\nâœ” æšä¸¾çš„å‡çº§ç‰ˆ\nâœ” å¸¸é…åˆ `when` ä½¿ç”¨\nâœ” Kotlin 1.5 åæ”¯æŒ **sealed interface**\n\n---\n\n## ğŸ’ 7. å¯¹è±¡ç±»ï¼ˆObjectï¼‰â€”â€”å•ä¾‹æ¨¡å¼\n\n```kotlin\nobject Logger {\n    fun log(msg: String) {}\n}\n```\n\nâœ” å…¨å±€å•ä¾‹\nâœ” çº¿ç¨‹å®‰å…¨\nâœ” è‡ªåŠ¨ INSTANCE\n\n---\n\n## ğŸ¤ 8. ä¼´ç”Ÿå¯¹è±¡ï¼ˆCompanion Objectï¼‰\n\n> Kotlin æ²¡æœ‰ `static`ï¼Œç”¨å®ƒä»£æ›¿ï¼\n\n```kotlin\nclass Utils {\n    companion object {\n        const val TAG = \"Utils\"\n        fun log(msg: String) {}\n    }\n}\n```\n\nâœ” ç±»çº§åˆ«æˆå‘˜\nâœ” ç±»ä¼¼ Java `static`\nâœ” ä¸€ä¸ªç±»åªèƒ½æœ‰ä¸€ä¸ª companion\n\n---\n\n## ğŸ§ª 9. åŒ¿åå¯¹è±¡ï¼ˆObject Expressionï¼‰\n\n```kotlin\nval listener = object : View.OnClickListener {\n    override fun onClick(v: View?) { }\n}\n```\n\nâœ” ä¸´æ—¶åˆ›å»ºå¯¹è±¡\nâœ” ç±»ä¼¼ Java çš„åŒ¿åå†…éƒ¨ç±»\nâœ” ç”¨äºå›è°ƒã€æ¥å£å®ç°\n\n---\n\n## ğŸ› 10. å†…éƒ¨ç±»ï¼ˆInner Class & Nested Classï¼‰\n\n```kotlin\nclass A {\n    class Nested     // é™æ€å†…éƒ¨ç±»\n    inner class Inner // æŒæœ‰å¤–éƒ¨å¼•ç”¨\n}\n```\n\n| ç±»å‹           | æ˜¯å¦æŒæœ‰å¤–éƒ¨ç±»å¼•ç”¨ |\n| ------------ | --------- |\n| Nested Class | âŒ ä¸æŒæœ‰     |\n| inner Class  | âœ” æŒæœ‰      |\n\n---\n\n# ğŸ“Œ Kotlin ç±»ç§ç±»æ€»ç»“è¡¨ï¼ˆè®°å¿†ç¥å™¨ï¼‰\n\n| ç±»ç±»å‹  | æ˜¯å¦å¯å®ä¾‹åŒ– | æ˜¯å¦æœ‰æ„é€  | æ˜¯å¦å¯ç»§æ‰¿ | å…¸å‹ç”¨é€” |\n| ---- | ------ | ----- | ----- | ---- |\n| æ™®é€šç±»  | âœ”      | âœ”     | âœ”     | ä¸€èˆ¬ä¸šåŠ¡ |\n| æŠ½è±¡ç±»  | âŒ      | âœ”     | âœ”     | æ¨¡æ¿æ¨¡å¼ |\n| æ¥å£   | âŒ      | âŒ     | âœ”     | è¡Œä¸ºè§„èŒƒ |\n| æ•°æ®ç±»  | âœ”      | âœ”     | âœ”     | æ•°æ®ç»“æ„ |\n| æšä¸¾ç±»  | âœ”      | âœ”     | âœ”     | çŠ¶æ€è¡¨ç¤º |\n| å¯†å°ç±»  | âœ”      | âœ”     | âœ”     | çŠ¶æ€åˆ†æ”¯ |\n| å¯¹è±¡ç±»  | âœ”      | âŒ     | âŒ     | å•ä¾‹   |\n| ä¼´ç”Ÿå¯¹è±¡ | âŒ      | âŒ     | âŒ     | é™æ€æˆå‘˜ |\n| åŒ¿åå¯¹è±¡ | âœ”      | âŒ     | âœ”     | å›è°ƒå®ç° |\n| å†…éƒ¨ç±»  | âœ”      | âœ”     | âœ”     | åµŒå¥—ç»“æ„ |\n\n---\n\n# ğŸ§  é¢è¯•å›ç­”æ¨¡æ¿ï¼ˆèƒŒå°±èƒ½è¯´ï¼‰\n\n> Kotlin çš„ç±»ä¸€å…±å¯ä»¥åˆ†ä¸ºå››å¤§ç±»ï¼š\n> **æ™®é€šç±»ã€æŠ½è±¡ä¸æ¥å£ã€ç‰¹æ®Šç±»ï¼ˆdata / enum / sealedï¼‰ã€å¯¹è±¡ç±»ï¼ˆobject / companionï¼‰ã€‚**\n> æ•°æ®ç±»å’Œæšä¸¾ç±»ä¸»è¦ç”¨äºæ•°æ®å­˜å‚¨å’ŒçŠ¶æ€ç®¡ç†ï¼›å¯†å°ç±»ç”¨äºå—é™ç»§æ‰¿å’Œç¼–è¯‘å™¨çº¦æŸï¼›\n> Object ç”¨äºå•ä¾‹æ¨¡å¼ï¼ŒCompanion ç”¨äºé™æ€æˆå‘˜ã€‚\n> Kotlin æ²¡æœ‰ staticï¼Œæ‰€ä»¥ä¼´ç”Ÿå¯¹è±¡æ˜¯ Java static çš„æ›¿ä»£æ–¹æ¡ˆã€‚\n\n---\n\nå¦‚æœä½ æ„¿æ„ï¼Œæˆ‘å¯ä»¥ç»™ä½  **å…¨éƒ¨ç±»å†™ä¸€ä¸ªå¯¹ç…§ Demo é¡¹ç›®**ï¼Œå¸®ä½ è®°å¿†+ç»ƒä¹ ã€‚è¦ä¸è¦ï¼ŸğŸ“ğŸ’¡\n"
    },
    {
      "question": "æˆ‘æä¸æ¸…æ¥š å¯¹è±¡å£°æ˜ ï¼Œ å¯¹è±¡è¡¨è¾¾å¼ ã€‚ ä¼´ç”Ÿå¯¹è±¡ ï¼Œ é—­åŒ… ï¼Ÿ",
      "answer": "    æ¦‚å¿µ,                                    å…³é”®å­—,                                              æœ¬è´¨,                                       æ¯”å–»\nå¯¹è±¡å£°æ˜,                     object Name,                                  æœ‰åå­—çš„å•ä¾‹,                          ç™¾å¹´è€åº—ï¼ˆå…¨Appå”¯ä¸€ï¼‰\nå¯¹è±¡è¡¨è¾¾å¼                ,object : Interface,                            æ²¡åå­—çš„åŒ¿åå¯¹è±¡,                  ä¸€æ¬¡æ€§é¤ç›’ï¼ˆç”¨å®Œå°±æ‰”ï¼‰\nä¼´ç”Ÿå¯¹è±¡,                    companion object,                      ç±»å†…éƒ¨çš„é™æ€ç®¡å®¶,ç®¡å®¶é˜¿ç¦      ï¼ˆ ç®¡ç†ç±»çš„é™æ€æˆå‘˜ï¼‰\né—­åŒ…,\"(æ— , æ˜¯ä¸ªæ¦‚å¿µ)\" ,èƒ½è®¿é—®å¤–éƒ¨å˜é‡çš„å‡½æ•°(Lambda),          èƒŒç€èƒŒåŒ…çš„å­©å­                  ï¼ˆèƒ½ç”¨â€œå®¶é‡Œâ€çš„å˜é‡ï¼‰",
      "detail": "è¿™å‡ ä¸ªæ¦‚å¿µç¡®å®æ˜¯ Kotlin ä¸­æœ€å®¹æ˜“æ··æ·†çš„çŸ¥è¯†ç‚¹ä¹‹ä¸€ï¼Œå°¤å…¶æ˜¯å‰ä¸‰ä¸ªéƒ½å¸¦â€œå¯¹è±¡â€äºŒå­—ã€‚\n\nåˆ«æ‹…å¿ƒï¼Œæˆ‘å¸®ä½ ç”¨â€œä¸€å¥è¯æ€»ç»“â€å’Œâ€œç»ä½³æ¯”å–»â€æ¥å½»åº•æ‹†è§£å®ƒä»¬ã€‚\n\n-----\n\n### 1\\. å¯¹è±¡å£°æ˜ (Object Declaration)\n\n  * **ä¸€å¥è¯æ€»ç»“ï¼š** å®ƒæ˜¯ä¸€ä¸ª**æœ‰åå­—çš„å•ä¾‹** (Singleton)ã€‚\n  * **æ ¸å¿ƒå…³é”®å­—ï¼š** `object MySingleton`\n  * **è¯¦ç»†è§£é‡Šï¼š**\n    `object` å…³é”®å­—ç”¨æ¥**å®šä¹‰ä¸€ä¸ªç±»å¹¶åŒæ—¶åˆ›å»ºä¸€ä¸ªè¯¥ç±»çš„å”¯ä¸€å®ä¾‹**ã€‚å®ƒå°±æ˜¯ Kotlin å†…ç½®çš„ã€çº¿ç¨‹å®‰å…¨çš„â€œé¥¿æ±‰å¼â€å•ä¾‹ã€‚ä½ ç»™å®ƒä¸€ä¸ªåå­—ï¼Œä¹‹åå°±å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹é€šè¿‡è¿™ä¸ªåå­—æ¥è®¿é—®å®ƒã€‚\n  * **ä»£ç ç¤ºä¾‹ï¼š**\n    ```kotlin\n    // å®šä¹‰ä¸€ä¸ªå« AppConfig çš„å•ä¾‹\n    object AppConfig {\n        val apiUrl = \"https://api.example.com\"\n        var versionCode = 1\n\n        fun loadConfig() {\n            println(\"åŠ è½½é…ç½®...\")\n        }\n    }\n\n    // åœ¨ä»£ç ä¸­ä»»ä½•åœ°æ–¹ä½¿ç”¨ï¼š\n    println(AppConfig.apiUrl) // è®¿é—®å±æ€§\n    AppConfig.loadConfig()   // è°ƒç”¨æ–¹æ³•\n    ```\n  * **ç»ä½³æ¯”å–»ï¼š**\n    `AppConfig` å°±åƒä¸€å®¶\\*\\*â€œç™¾å¹´è€åº—â€\\*\\*ã€‚\n      * å®ƒæœ‰è‡ªå·±çš„æ‹›ç‰Œï¼ˆåå­— `AppConfig`ï¼‰ã€‚\n      * å…¨åŸï¼ˆä½ çš„æ•´ä¸ª Appï¼‰**åªæœ‰è¿™ä¸€å®¶**ï¼ˆå•ä¾‹ï¼‰ã€‚\n      * ä»»ä½•äººéƒ½å¯ä»¥é€šè¿‡æ‹›ç‰Œï¼ˆ`AppConfig.apiUrl`ï¼‰æ¥æ‰¾åˆ°å®ƒä¹°ä¸œè¥¿ã€‚\n\n-----\n\n### 2\\. å¯¹è±¡è¡¨è¾¾å¼ (Object Expression)\n\n  * **ä¸€å¥è¯æ€»ç»“ï¼š** å®ƒæ˜¯ä¸€ä¸ª**æ²¡æœ‰åå­—çš„ä¸€æ¬¡æ€§å¯¹è±¡**ã€‚\n  * **æ ¸å¿ƒå…³é”®å­—ï¼š** `object : SomeInterface` æˆ– `object : SomeClass`\n  * **è¯¦ç»†è§£é‡Šï¼š**\n    `object : ...` å…³é”®å­—ç”¨äºåˆ›å»ºä¸€ä¸ª**åŒ¿åå¯¹è±¡**ã€‚è¿™å’Œ Java ä¸­çš„â€œåŒ¿åå†…éƒ¨ç±»â€ (`new OnClickListener() { ... }`) æ˜¯**å®Œå…¨ä¸€æ ·**çš„ä¸œè¥¿ã€‚å®ƒä¸»è¦ç”¨äºâ€œä¸´æ—¶â€å®ç°ä¸€ä¸ªæ¥å£æˆ–ç»§æ‰¿ä¸€ä¸ªç±»ï¼Œä½ åªæƒ³ç”¨è¿™ä¸€æ¬¡ï¼Œä¸éœ€è¦ç»™å®ƒèµ·ä¸ªåå­—ã€‚\n  * **ä»£ç ç¤ºä¾‹ï¼š**\n    è¿™æ˜¯ Android å¼€å‘ä¸­æœ€å¸¸è§çš„ç”¨æ³•ï¼š\n    ```kotlin\n    val button = Button(this)\n\n    // ä½¿ç”¨â€œå¯¹è±¡è¡¨è¾¾å¼â€æ¥å®ç°ä¸€ä¸ªç‚¹å‡»ç›‘å¬å™¨\n    button.setOnClickListener(object : View.OnClickListener {\n        override fun onClick(v: View?) {\n            println(\"æŒ‰é’®è¢«ç‚¹å‡»äº†ï¼\")\n        }\n    })\n\n    // é¡ºä¾¿è¯´ä¸€å¥ï¼šå¦‚æœæ¥å£åªæœ‰ä¸€ä¸ªæ–¹æ³•ï¼ŒKotlin å…è®¸ä½ ç®€å†™ä¸º Lambdaï¼ˆè¿™å°±æ˜¯é—­åŒ…çš„åº”ç”¨ï¼‰\n    // button.setOnClickListener { v -> println(\"æŒ‰é’®è¢«ç‚¹å‡»äº†ï¼\") }\n    ```\n  * **ç»ä½³æ¯”å–»ï¼š**\n    å®ƒå°±åƒä¸€ä¸ª\\*\\*â€œè·¯è¾¹æ‘Šçš„ä¸€æ¬¡æ€§é¤ç›’â€\\*\\*ã€‚\n      * ä½ ä¸ºäº†è£…ä¸€ä»½ç‚’é¢ï¼ˆ`onClick` é€»è¾‘ï¼‰è€Œ**å½“åœºåˆ¶é€ **äº†å®ƒã€‚\n      * å®ƒ**æ²¡æœ‰å“ç‰Œ**ï¼ˆåŒ¿åï¼‰ã€‚\n      * ä½ **ç”¨å®Œå°±æ‰”**ï¼ˆä¸€æ¬¡æ€§ï¼‰ï¼Œä½ ä¸ä¼šåœ¨åˆ«çš„åœ°æ–¹å¤ç”¨è¿™ä¸ªé¤ç›’ã€‚\n\n-----\n\n### 3\\. ä¼´ç”Ÿå¯¹è±¡ (Companion Object)\n\n  * **ä¸€å¥è¯æ€»ç»“ï¼š** å®ƒæ˜¯ä¸€ä¸ª**å¯„ç”Ÿåœ¨ç±»å†…éƒ¨çš„â€œé™æ€ç®¡å®¶â€**ã€‚\n  * **æ ¸å¿ƒå…³é”®å­—ï¼š** `companion object`\n  * **è¯¦ç»†è§£é‡Šï¼š**\n    Kotlin çš„ç±»ï¼ˆ`class`ï¼‰æœ¬èº«æ²¡æœ‰â€œé™æ€â€ï¼ˆ`static`ï¼‰æˆå‘˜ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒKotlin å…è®¸ä½ åœ¨ä¸€ä¸ªç±»å†…éƒ¨å®šä¹‰ä¸€ä¸ª**ä¼´ç”Ÿå¯¹è±¡**ã€‚\n    è¿™ä¸ªä¼´ç”Ÿå¯¹è±¡ï¼ˆå®ƒæœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ª`object`å£°æ˜ï¼Œæ‰€ä»¥æ˜¯å•ä¾‹ï¼‰é‡Œçš„æ‰€æœ‰æˆå‘˜ï¼Œå¯ä»¥\\*\\*â€œå‡è£…â€æ˜¯å¤–éƒ¨ç±»çš„é™æ€æˆå‘˜\\*\\*ï¼Œè®©ä½ å¯ä»¥ç›´æ¥é€šè¿‡â€œ`å¤–éƒ¨ç±».æˆå‘˜`â€çš„æ–¹å¼è°ƒç”¨ã€‚\n  * **ä»£ç ç¤ºä¾‹ï¼š**\n    ```kotlin\n    class MyFragment {\n        // ... fragment å®ä¾‹çš„ä»£ç  ...\n\n        // è¿™æ˜¯ MyFragment ç±»çš„â€œä¼´ç”Ÿå¯¹è±¡â€\n        companion object {\n            // è¿™åœ¨ Java ä¸­ç­‰åŒäºï¼špublic static final String TAG = \"MyFragment\";\n            const val TAG = \"MyFragment\"\n\n            // è¿™åœ¨ Java ä¸­ç­‰åŒäºï¼špublic static MyFragment newInstance() { ... }\n            fun newInstance(id: String): MyFragment {\n                // ... åˆ›å»º Fragment å®ä¾‹çš„å·¥å‚æ–¹æ³• ...\n                return MyFragment()\n            }\n        }\n    }\n\n    // åœ¨å¤–éƒ¨è°ƒç”¨ï¼š\n    println(MyFragment.TAG) // åƒè°ƒç”¨é™æ€å±æ€§\n    val fragment = MyFragment.newInstance(\"user123\") // åƒè°ƒç”¨é™æ€æ–¹æ³•\n    ```\n  * **ç»ä½³æ¯”å–»ï¼š**\n    `MyFragment` æ˜¯è™è ä¾ ï¼ˆ`class`ï¼‰ï¼Œ`companion object` å°±æ˜¯ç®¡å®¶\\*\\*â€œé˜¿ç¦â€\\*\\*ã€‚\n      * é˜¿ç¦ï¼ˆ`companion object`ï¼‰æ˜¯**ç‹¬ä¸€æ— äºŒ**çš„ï¼ˆå•ä¾‹ï¼‰ï¼Œå¹¶ä¸”**ä¾é™„äº**è™è ä¾ ï¼ˆåœ¨ç±»å†…éƒ¨ï¼‰ã€‚\n      * é˜¿ç¦**ç®¡ç†ç€**è™è ä¾ çš„â€œé™æ€èµ„äº§â€ï¼ˆå¦‚ `TAG`ï¼‰ã€‚\n      * é˜¿ç¦**æä¾›**â€œå·¥å‚æœåŠ¡â€ï¼ˆå¦‚ `newInstance()`ï¼‰ï¼Œå¸®ä½ â€œåˆ¶é€ â€ä¸€ä¸ªæ–°çš„è™è ä¾ å®ä¾‹ã€‚\n\n-----\n\n### 4\\. é—­åŒ… (Closure)\n\n  * **ä¸€å¥è¯æ€»ç»“ï¼š** å®ƒæ˜¯ä¸€ä¸ª\\*\\*â€œèƒŒç€èƒŒåŒ…â€çš„ Lambda\\*\\*ã€‚\n  * **æ ¸å¿ƒå…³é”®å­—ï¼š** ï¼ˆæ— ï¼Œè¿™æ˜¯ä¸€ä¸ª**æ¦‚å¿µ**ï¼‰\n  * **è¯¦ç»†è§£é‡Šï¼š**\n    â€œé—­åŒ…â€ä¸æ˜¯ä¸€ä¸ªå…³é”®å­—ï¼Œè€Œæ˜¯ä¸€ç§**ç¼–ç¨‹æ¦‚å¿µ**ã€‚å®ƒæŒ‡çš„æ˜¯ä¸€ä¸ª**å‡½æ•°ï¼ˆåœ¨ Kotlin ä¸­é€šå¸¸æ˜¯ Lambda è¡¨è¾¾å¼ï¼‰æœ‰èƒ½åŠ›è®¿é—®å’Œæ“ä½œå®ƒâ€œå‡ºç”Ÿåœ°â€ï¼ˆå®šä¹‰å®ƒçš„é‚£ä¸ªèŒƒå›´ï¼‰çš„å˜é‡**ï¼Œå³ä½¿é‚£ä¸ªèŒƒå›´å·²ç»æ‰§è¡Œå®Œæ¯•ã€‚\n  * **ä»£ç ç¤ºä¾‹ï¼š**\n    ```kotlin\n    fun setupClickListener(): View.OnClickListener {\n        var clickCount = 0 // \"å‡ºç”Ÿåœ°\"çš„å˜é‡\n\n        // è¿™ä¸ª Lambda å°±æ˜¯ä¸€ä¸ªé—­åŒ…\n        val listener = View.OnClickListener {\n            // å®ƒå¯ä»¥è®¿é—®å’Œä¿®æ”¹â€œå‡ºç”Ÿåœ°â€çš„ clickCount\n            clickCount++ \n            println(\"è¿™ä¸ªæŒ‰é’®è¢«ç‚¹å‡»äº† $clickCount æ¬¡\")\n        }\n        \n        return listener\n        // å³ä½¿ setupClickListener() å‡½æ•°å·²ç»è¿”å›äº†ï¼Œ\n        // listener ä¾ç„¶â€œæ´»ç€â€ï¼Œå¹¶ä¸”â€œè®°ä½â€äº† clickCount\n    }\n\n    val myListener = setupClickListener()\n    myListener.onClick(null) // è¾“å‡ºï¼šè¿™ä¸ªæŒ‰é’®è¢«ç‚¹å‡»äº† 1 æ¬¡\n    myListener.onClick(null) // è¾“å‡ºï¼šè¿™ä¸ªæŒ‰é’®è¢«ç‚¹å‡»äº† 2 æ¬¡\n    ```\n  * **ç»ä½³æ¯”å–»ï¼š**\n    Lambda å°±åƒä¸€ä¸ª\\*\\*â€œå³å°†å‡ºè¿œé—¨çš„å­©å­â€\\*\\*ã€‚\n      * `clickCount` å˜é‡æ˜¯\\*\\*â€œå®¶é‡Œçš„é£Ÿç‰©â€\\*\\*ã€‚\n      * è¿™ä¸ªå­©å­ï¼ˆLambdaï¼‰åœ¨ç¦»å¼€å®¶ï¼ˆ`setupClickListener` å‡½æ•°ï¼‰æ—¶ï¼ŒæŠŠé£Ÿç‰©ï¼ˆ`clickCount`ï¼‰\\*\\*æ‰“åŒ…æ”¾è¿›äº†è‡ªå·±çš„èƒŒåŒ…ï¼ˆé—­åŒ…ï¼‰\\*\\*é‡Œã€‚\n      * æ— è®ºä»–èµ°åˆ°å“ªé‡Œï¼ˆè¢«è°è°ƒç”¨ï¼‰ï¼Œä»–éƒ½èƒ½ä»èƒŒåŒ…é‡Œæ‹¿å‡ºé£Ÿç‰©æ¥åƒï¼ˆè®¿é—®å’Œä¿®æ”¹ `clickCount`ï¼‰ã€‚\n\n-----\n\n### å¿«é€Ÿå¯¹æ¯”è¡¨\n\n| æ¦‚å¿µ | å…³é”®å­— | æœ¬è´¨ | æ¯”å–» |\n| :--- | :--- | :--- | :--- |\n| **å¯¹è±¡å£°æ˜** | `object Name` | æœ‰åå­—çš„**å•ä¾‹** | ç™¾å¹´è€åº—ï¼ˆå…¨Appå”¯ä¸€ï¼‰ |\n| **å¯¹è±¡è¡¨è¾¾å¼** | `object : Interface` | æ²¡åå­—çš„**åŒ¿åå¯¹è±¡** | ä¸€æ¬¡æ€§é¤ç›’ï¼ˆç”¨å®Œå°±æ‰”ï¼‰ |\n| **ä¼´ç”Ÿå¯¹è±¡** | `companion object` | ç±»å†…éƒ¨çš„**é™æ€ç®¡å®¶** | ç®¡å®¶é˜¿ç¦ï¼ˆç®¡ç†ç±»çš„é™æ€æˆå‘˜ï¼‰ |\n| **é—­åŒ…** | (æ— , æ˜¯ä¸ªæ¦‚å¿µ) | èƒ½è®¿é—®å¤–éƒ¨å˜é‡çš„**å‡½æ•°(Lambda)** | èƒŒç€èƒŒåŒ…çš„å­©å­ï¼ˆèƒ½ç”¨â€œå®¶é‡Œâ€çš„å˜é‡ï¼‰ |\n\nå¸Œæœ›è¿™äº›æ¯”å–»èƒ½å¸®ä½ å½»åº•åˆ†æ¸…æ¥šå®ƒä»¬ï¼"
    },
    {
      "question": "3ï¼ŒÂ ç©ºå®‰å…¨ç¬¦å·ï¼Ÿ",
      "answer": "Kotlin ä¸å…è®¸å˜é‡é»˜è®¤ä¸º nullï¼Œå¿…é¡»æ˜ç¡®å£°æ˜å¯ç©ºç±»å‹ã€‚â€\n\né—®å· å£°æ˜ç©º ï¼Œ é—®å·ç‚¹ å®‰å…¨è°ƒç”¨ï¼ˆä¸ºç©ºä¸è°ƒï¼‰ ï¼Œé—®å·å†’å· ä¸ºç©ºé»˜è®¤èµ‹å€¼  ï¼ŒåŒæ„Ÿå¹å· å¼ºåˆ¶éç©ºï¼ˆå¯èƒ½å´©ï¼‰ï¼Œ as? å®‰å…¨ç±»å‹è½¬æ¢ã€‚\n\n> Kotlin çš„ç©ºå®‰å…¨ä¸»è¦é€šè¿‡ 5 ä¸ªç¬¦å·ï¼š\n> `?` å£°æ˜å¯ç©ºç±»å‹ï¼›\n> `?.` å®‰å…¨è°ƒç”¨ï¼›\n> `?:` Elvis é»˜è®¤å€¼ï¼›\n> `!!` å¼ºåˆ¶éç©ºï¼›\n> `as?` å®‰å…¨ç±»å‹è½¬æ¢ã€‚",
      "detail": "Kotlin ç©ºå®‰å…¨ï¼ˆNull Safetyï¼‰æ˜¯å®ƒæœ€é‡è¦çš„ç‰¹æ€§ä¹‹ä¸€ï¼Œä¸“é—¨ç”¨æ¥é˜²æ­¢ **ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼ˆNullPointerExceptionï¼‰**ã€‚\nè®°ä½è¿™å¥è¯ï¼š**â€œKotlin ä¸å…è®¸å˜é‡é»˜è®¤ä¸º nullï¼Œå¿…é¡»æ˜ç¡®å£°æ˜å¯ç©ºç±»å‹ã€‚â€**\n\n---\n\n# ğŸŒŸ Kotlin ç©ºå®‰å…¨ç¬¦å·æ±‡æ€»ï¼ˆè®°å¿†è¡¨ï¼‰\n\n| ç¬¦å·    | ä½œç”¨                | ç¤ºä¾‹                         |\n| ----- | ----------------- | -------------------------- |\n| `?`   | å¯ç©ºç±»å‹å£°æ˜            | `var name: String? = null` |\n| `?.`  | å®‰å…¨è°ƒç”¨              | `name?.length`             |\n| `?:`  | Elvis æ“ä½œç¬¦ï¼ˆç©ºåˆ™èµ‹å€¼é»˜è®¤ï¼‰ | `name ?: \"Unknown\"`        |\n| `!!`  | å¼ºåˆ¶éç©ºï¼ˆå¯èƒ½å´©ï¼‰         | `name!!.length`            |\n| `as?` | å®‰å…¨ç±»å‹è½¬æ¢            | `val a = obj as? String`   |\n\n---\n\n## ğŸ”¹ 1. `?` â€”â€” å¯ç©ºç±»å‹\n\n```kotlin\nvar name: String? = null  // âœ” æ­£ç¡®\nvar name2: String = null  // âŒ æŠ¥é”™ï¼å¿…é¡»åŠ  ?\n```\n\n---\n\n## ğŸ”¹ 2. `?.` â€”â€” å®‰å…¨è°ƒç”¨ç¬¦\n\n```kotlin\nval len = name?.length // å¦‚æœ name ä¸º nullï¼Œä¸ä¼šæŠ¥é”™ï¼Œè¿”å› null\n```\n\nâœ” é¿å…ç©ºæŒ‡é’ˆå¼‚å¸¸\nâœ” æ¨èä½¿ç”¨\nâœ” è·Ÿ `let` ç»“åˆæ›´å¼ºå¤§\n\n```kotlin\nperson?.let {\n    println(it.name)   // it != null æ—¶æ‰æ‰§è¡Œ\n}\n```\n\n---\n\n## ğŸ”¹ 3. `?:` â€”â€” Elvisï¼ˆé»˜è®¤å€¼ï¼‰\n\n**ç©ºå°±ç”¨é»˜è®¤å€¼**ğŸ‘‡ï¼š\n\n```kotlin\nval result = name ?: \"é»˜è®¤åå­—\"\n```\n\n---\n\n## ğŸ”¹ 4. `!!` â€”â€” å¼ºåˆ¶éç©ºï¼ˆå±é™©ï¼‰\n\n```kotlin\nval len = name!!.length  // name æ˜¯ null å°±å´©æºƒï¼âŒ\n```\n\nâš ï¸ é¢è¯•å¸¸é—®ï¼š\n\n> â€œKotlin å¦‚ä½•é¿å… NPEï¼Ÿä¸ºä»€ä¹ˆ !! å°‘ç”¨ï¼Ÿâ€\n\nç­”ï¼š\n\n> Kotlin é»˜è®¤ç¦æ­¢ nullï¼Œåªæœ‰ä½¿ç”¨ `ï¼ï¼` æ—¶å¯èƒ½å‡ºç° NPEï¼Œæ‰€ä»¥ `!!` è¦å°½é‡é¿å…ã€‚\n\n---\n\n## ğŸ”¹ 5. `as?` â€”â€” å®‰å…¨ç±»å‹è½¬æ¢\n\n```kotlin\nval str: String? = obj as? String  // ç±»å‹ä¸å¯¹å°±è¿”å› null\n```\n\n---\n\n# ğŸ§  é¢è¯•å›ç­”æ¨¡æ¿ï¼ˆèƒŒå°±èƒ½è¯´ï¼‰\n\n> Kotlin çš„ç©ºå®‰å…¨ä¸»è¦é€šè¿‡ 5 ä¸ªç¬¦å·ï¼š\n> `?` å£°æ˜å¯ç©ºç±»å‹ï¼›\n> `?.` å®‰å…¨è°ƒç”¨ï¼›\n> `?:` Elvis é»˜è®¤å€¼ï¼›\n> `!!` å¼ºåˆ¶éç©ºï¼›\n> `as?` å®‰å…¨ç±»å‹è½¬æ¢ã€‚\n> Kotlin é€šè¿‡è¿™äº›æœºåˆ¶å½»åº•å‡å°‘ NullPointerExceptionï¼Œåªæœ‰ä½¿ç”¨ `!!` æ—¶æ‰æœ‰å¯èƒ½å´©ã€‚\n\n---\n\néœ€è¦æˆ‘å¸®ä½ å†™ä¸ª **ç©ºå®‰å…¨å®æˆ˜ Demo** ç»ƒä¹ ä¸€ä¸‹å—ï¼Ÿæ¯”å¦‚ API è¿”å›ç©ºæ•°æ®ã€ç”¨æˆ·è¾“å…¥ä¸ºç©ºè¿™ç§åœºæ™¯ï¼ŸğŸ“±ğŸš€\n"
    },
    {
      "question": "4ï¼ŒÂ åç¨‹ä¸­æ€ä¹ˆå¯åŠ¨ ï¼Œ å¯åŠ¨æ–¹å¼æœ‰ä»€ä¹ˆä¸åŒ ï¼Ÿè°ƒåº¦å™¨æ˜¯æ€ä¹ˆæ ·çš„ï¼ŸJob æ˜¯ä»€ä¹ˆï¼Ÿå¹¶å‘ ï¼ŸæŒ‚èµ·æ˜¯æ€ä¹ˆå›äº‹ï¼Ÿ",
      "answer": "Kotlin åç¨‹æœ‰å››ç§å¯åŠ¨æ–¹å¼ï¼šlaunchã€asyncã€runBlockingã€withContextã€‚\nè°ƒåº¦å™¨ç”¨æ¥åˆ‡æ¢çº¿ç¨‹ï¼šMainã€IOã€Default æœ€å¸¸ç”¨ï¼Œå…¶ä¸­ IO åšç½‘ç»œï¼ŒMain åš UIã€‚\næ¯ä¸ªåç¨‹éƒ½æœ‰ä¸€ä¸ª Jobï¼Œç”¨äºå–æ¶ˆå’Œç®¡ç†ç”Ÿå‘½å‘¨æœŸã€‚\nåç¨‹è§£å†³çš„æ˜¯å¹¶å‘é—®é¢˜ï¼Œä¸æ˜¯å¹¶è¡Œã€‚æŒ‚èµ·å‡½æ•°ä¸ä¼šé˜»å¡çº¿ç¨‹ï¼Œsuspend + delay æ˜¯éé˜»å¡å¼çš„ã€‚\nAndroid ä¸­æ¨èä½¿ç”¨ lifecycleScope å’Œ viewModelScopeï¼Œå®ç°ç»“æ„åŒ–å¹¶å‘ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚",
      "detail": "éå¸¸å¥½ ğŸ‘â€”â€”â€œAndroid é‡Œçš„åç¨‹ (Coroutines)â€ æ˜¯ç°åœ¨ Android é¢è¯•çš„é«˜é¢‘å¿…è€ƒç‚¹ä¹‹ä¸€ã€‚\næˆ‘æ¥ç»™ä½ è®²ä¸€ä¸ª é¢è¯•å®˜å–œæ¬¢çš„ç³»ç»ŸåŒ–å›ç­”ç»“æ„ï¼š\nğŸ‘‰ ä» æ˜¯ä»€ä¹ˆ â†’ ä¸ºä»€ä¹ˆç”¨ â†’ æ€ä¹ˆç”¨ â†’ åŸç†æœºåˆ¶ â†’ å¸¸è§é—®é¢˜ äº”ä¸ªæ–¹é¢è®²æ¸…æ¥šã€‚\n\nğŸ§© ä¸€ã€åç¨‹æ˜¯ä»€ä¹ˆï¼ˆWhatï¼‰\nKotlin åç¨‹ï¼ˆCoroutineï¼‰æ˜¯ä¸€ç§è½»é‡çº§çš„å¹¶å‘æ–¹å¼ï¼Œç”¨æ¥æ›¿ä»£ä¼ ç»Ÿçš„ Thread æˆ– AsyncTaskã€‚\nä¸€å¥è¯æ€»ç»“ï¼š\nåç¨‹æ˜¯ä¸€ç§èƒ½â€œæŒ‚èµ·â€ä¸â€œæ¢å¤â€çš„å‡½æ•°æ‰§è¡Œæœºåˆ¶ï¼Œè®©å¼‚æ­¥ä»£ç å†™èµ·æ¥åƒåŒæ­¥ä¸€æ ·ã€‚\nå®ƒä¸æ˜¯çº¿ç¨‹ï¼Œè€Œæ˜¯è¿è¡Œåœ¨ çº¿ç¨‹ä¹‹ä¸Š çš„æ›´é«˜å±‚æŠ½è±¡ã€‚\n\nğŸš€ äºŒã€ä¸ºä»€ä¹ˆç”¨åç¨‹ï¼ˆWhyï¼‰\nåœ¨ Android é‡Œï¼Œå¸¸è§çš„å¼‚æ­¥æ“ä½œï¼š\nç½‘ç»œè¯·æ±‚ï¼ˆRetrofitã€OkHttpï¼‰\næ•°æ®åº“æ“ä½œï¼ˆRoomï¼‰\næ–‡ä»¶è¯»å†™\nå»¶æ—¶ä»»åŠ¡\nä»¥å‰ç”¨ï¼š\nThread\nHandler\nAsyncTask\nRxJava\nè¿™äº›æ–¹æ¡ˆéƒ½éº»çƒ¦ã€å›è°ƒå±‚å±‚åµŒå¥—ã€ç”Ÿå‘½å‘¨æœŸéš¾ç®¡ç†ã€‚\nåç¨‹è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼š\nå¯¹æ¯”é¡¹\tä¼ ç»Ÿæ–¹å¼\tåç¨‹æ–¹å¼\nè¯­æ³•\tå›è°ƒåœ°ç‹±\tåƒå†™åŒæ­¥ä»£ç ä¸€æ ·\næ€§èƒ½\tçº¿ç¨‹å¼€é”€å¤§\tåç¨‹è¶…è½»é‡ï¼ˆå‡ ç™¾ä¸ªä¹Ÿæ²¡é—®é¢˜ï¼‰\né”™è¯¯å¤„ç†\ttry-catch éš¾ç®¡ç†\tæ”¯æŒç»“æ„åŒ–å¼‚å¸¸\nç”Ÿå‘½å‘¨æœŸ\téœ€æ‰‹åŠ¨å–æ¶ˆ\tå¯è‡ªåŠ¨è·Ÿéš Activity/Fragment é”€æ¯\n\nâš™ï¸ ä¸‰ã€æ€ä¹ˆç”¨ï¼ˆHowï¼‰\nâœ… åŸºæœ¬è¯­æ³•\n// å¯åŠ¨ä¸€ä¸ªåç¨‹\nGlobalScope.launch {\n    delay(1000) // æŒ‚èµ·1ç§’ï¼Œä¸é˜»å¡çº¿ç¨‹\n    println(\"Hello from coroutine!\")\n}\nlaunchï¼šå¯åŠ¨ä¸€ä¸ªä¸è¿”å›ç»“æœçš„åç¨‹\nasyncï¼šå¯åŠ¨ä¸€ä¸ªè¿”å›ç»“æœçš„åç¨‹\nawait()ï¼šç­‰å¾…ç»“æœï¼ˆæŒ‚èµ·ï¼Œä¸é˜»å¡ï¼‰\n\n\nâœ… å®é™…åœºæ™¯ï¼ˆAndroid ViewModel ä¸­ï¼‰\nclass MainViewModel : ViewModel() {\n\n    fun loadData() {\n        viewModelScope.launch {\n            val data = withContext(Dispatchers.IO) {\n                // æ¨¡æ‹Ÿç½‘ç»œè¯·æ±‚\n                fetchDataFromNetwork()\n            }\n            // æ›´æ–°UIï¼ˆMainçº¿ç¨‹ï¼‰\n            _uiState.value = data\n        }\n    }\n\n    private suspend fun fetchDataFromNetwork(): String {\n        delay(1000)\n        return \"Network Result\"\n    }\n}\nè§£é‡Šï¼š\nviewModelScopeï¼šåç¨‹ä½œç”¨åŸŸï¼Œè‡ªåŠ¨åœ¨ ViewModel é”€æ¯æ—¶å–æ¶ˆåç¨‹ï¼›\nDispatchers.IOï¼šåˆ‡æ¢åˆ° IO çº¿ç¨‹ï¼›\nwithContextï¼šæŒ‚èµ·å‡½æ•°ï¼Œç”¨äºçº¿ç¨‹åˆ‡æ¢ï¼›\ndelayï¼šæŒ‚èµ·å»¶æ—¶ï¼Œä¸é˜»å¡çº¿ç¨‹ã€‚\n\nğŸ§  å››ã€åŸç†æœºåˆ¶ï¼ˆé¢è¯•æ ¸å¿ƒï¼‰\né¢è¯•å®˜å–œæ¬¢é—®çš„åº•å±‚ç‚¹ğŸ‘‡\n1ï¸âƒ£ æŒ‚èµ· (suspend)\nsuspend å…³é”®å­—è¡¨ç¤ºå‡½æ•°å¯ä»¥æŒ‚èµ·æ‰§è¡Œï¼›\nå®ƒä¸ä¼šé˜»å¡çº¿ç¨‹ï¼Œè€Œæ˜¯ä¿å­˜å½“å‰æ‰§è¡ŒçŠ¶æ€ï¼›\nç­‰å¾…æ—¶æœºåˆé€‚ï¼ˆå¦‚ç½‘ç»œè¿”å›ï¼‰åï¼Œå†æ¢å¤æ‰§è¡Œã€‚\nsuspend fun getUser(): User {\n    val response = api.getUser()  // æŒ‚èµ·ç‚¹\n    return response.body\n}\n2ï¸âƒ£ Dispatcherï¼ˆè°ƒåº¦å™¨ï¼‰\næ§åˆ¶åç¨‹åœ¨å“ªä¸ªçº¿ç¨‹æ‰§è¡Œï¼š\nè°ƒåº¦å™¨\tçº¿ç¨‹ç±»å‹\tå¸¸ç”¨åœºæ™¯\nDispatchers.Main\tä¸»çº¿ç¨‹\tæ›´æ–° UI\nDispatchers.IO\tIO çº¿ç¨‹æ± \tç½‘ç»œã€æ–‡ä»¶ã€æ•°æ®åº“\nDispatchers.Default\tCPU å¯†é›†\tè®¡ç®—ã€è§£æ\nDispatchers.Unconfined\tå½“å‰çº¿ç¨‹\tè°ƒè¯•\n3ï¸âƒ£ Scopeï¼ˆä½œç”¨åŸŸï¼‰\næ§åˆ¶åç¨‹ç”Ÿå‘½å‘¨æœŸï¼š\n\nç”Ÿå‘½å‘¨æœŸç»‘å®š\tå¸¸ç”¨åœºæ™¯\nåº”ç”¨çº§\tä¸€èˆ¬ä¸ç”¨ï¼ˆå®¹æ˜“æ³„æ¼ï¼‰\nActivity / Fragment\tè·Ÿéš UI ç”Ÿå‘½å‘¨æœŸ\nViewModel\tè·Ÿéš ViewModel é”€æ¯\nè‡ªå®šä¹‰\tè‡ªå®šä¹‰æ§åˆ¶èŒƒå›´\n4ï¸âƒ£ Structured Concurrencyï¼ˆç»“æ„åŒ–å¹¶å‘ï¼‰\nåç¨‹çš„ç”Ÿå‘½å‘¨æœŸè‡ªåŠ¨å— Scope ç®¡ç†ã€‚\nviewModelScope.launch {\n    val a = async { loadA() }\n    val b = async { loadB() }\n    val result = a.await() + b.await()\n}\nâ†’ å¦‚æœçˆ¶åç¨‹å–æ¶ˆï¼Œå­åç¨‹ä¹Ÿä¼šå…¨éƒ¨å–æ¶ˆï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚\n\nâš¡ äº”ã€å¸¸è§é¢è¯•é—®é¢˜ï¼ˆQ&Aï¼‰\nğŸŸ© Q1: åç¨‹å’Œçº¿ç¨‹çš„åŒºåˆ«ï¼Ÿ\nå¯¹æ¯”\tåç¨‹\tçº¿ç¨‹\nå¼€é”€\tå‡ KB\tå‡ MB\næ•°é‡\tå¯ä¸Šåƒä¸ª\tå‡ åä¸ª\nè°ƒåº¦\tç”¨æˆ·æ€\tå†…æ ¸æ€\nåˆ‡æ¢\tæ— ä¸Šä¸‹æ–‡åˆ‡æ¢\tä¸Šä¸‹æ–‡åˆ‡æ¢æˆæœ¬é«˜\næœ¬è´¨\té€»è¾‘åä½œä»»åŠ¡\tæ“ä½œç³»ç»Ÿçº§æ‰§è¡Œå•å…ƒ\n\nğŸŸ© Q2: suspend æ˜¯å¦‚ä½•å®ç°æŒ‚èµ·çš„ï¼Ÿ\né€šè¿‡ç¼–è¯‘å™¨è‡ªåŠ¨ç”ŸæˆçŠ¶æ€æœºï¼ˆstate machineï¼‰ï¼Œ\næŠŠå‡½æ•°æ‹†æˆå¤šä¸ªâ€œçŠ¶æ€â€ï¼Œæ¯ä¸ªæŒ‚èµ·ç‚¹ä¿å­˜æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œæ¢å¤æ—¶ä»ä¸Šæ¬¡çŠ¶æ€ç»§ç»­æ‰§è¡Œã€‚\n\nğŸŸ© Q3: åç¨‹å¦‚ä½•å–æ¶ˆï¼Ÿ\nè°ƒç”¨ job.cancel() æˆ–è‡ªåŠ¨åœ¨ Scope é”€æ¯æ—¶å–æ¶ˆã€‚\nval job = viewModelScope.launch {\n    delay(5000)\n}\njob.cancel() // æå‰ç»“æŸ\næ³¨æ„ï¼šå¿…é¡»åœ¨æŒ‚èµ·ç‚¹æ£€æŸ¥ isActive æ‰çœŸæ­£åœæ­¢ã€‚\n\nğŸŸ© Q4: withContext vs launch vs async åŒºåˆ«ï¼Ÿ\nç”¨æ³•\tæ˜¯å¦è¿”å›ç»“æœ\tæ˜¯å¦é˜»å¡å½“å‰åç¨‹\tå¸¸ç”¨åœºæ™¯\nlaunch\tâŒ\tâœ…ï¼ˆæŒ‚èµ·çˆ¶ï¼‰\tå¯åŠ¨ä»»åŠ¡ï¼Œä¸å…³å¿ƒç»“æœ\nasync\tâœ…ï¼ˆé€šè¿‡ await()ï¼‰\tâœ…\tå¹¶è¡Œæ‰§è¡Œå¤šä¸ªä»»åŠ¡\nwithContext\tâœ…\tâœ…\tåˆ‡æ¢çº¿ç¨‹ã€æ‰§è¡Œä»»åŠ¡åè¿”å›ç»“æœ\n\nğŸŸ© Q5: å¦‚ä½•é¿å…åç¨‹å†…å­˜æ³„æ¼ï¼Ÿ\nä½¿ç”¨ viewModelScope æˆ– lifecycleScope\nä¸ä½¿ç”¨ GlobalScope\né¿å…åç¨‹å¼•ç”¨ Activity / Fragment å¯¹è±¡\n\nâœ… å…­ã€ç®€æ˜æ€»ç»“ï¼ˆå¯ç›´æ¥èƒŒï¼‰\nKotlin åç¨‹æ˜¯è½»é‡çº§çº¿ç¨‹ï¼Œé€šè¿‡æŒ‚èµ·å‡½æ•°å®ç°éé˜»å¡å¼‚æ­¥ã€‚\nAndroid å¸¸ç”¨ viewModelScopeã€lifecycleScope æ¥ç®¡ç†åç¨‹ç”Ÿå‘½å‘¨æœŸã€‚\nåº•å±‚é€šè¿‡çŠ¶æ€æœºå®ç°æŒ‚èµ·ä¸æ¢å¤ï¼Œæ”¯æŒç»“æ„åŒ–å¹¶å‘ï¼Œé¿å…å†…å­˜æ³„æ¼ã€‚\nå¸¸ç”¨è°ƒåº¦å™¨æœ‰ Mainã€IOã€Defaultã€‚\nåç¨‹æ¯”çº¿ç¨‹è½»ï¼Œè¯­æ³•åŒæ­¥åŒ–ï¼Œé”™è¯¯æ•è·ç®€å•ï¼Œæ˜¯ Android å®˜æ–¹æ¨èçš„å¼‚æ­¥æ–¹æ¡ˆã€‚"
    },
    {
      "question": "Android åç¨‹å®ç°ï¼Ÿ",
      "answer": "â€œåˆ‡çº¿ç¨‹ï¼Œç”¨ withContextï¼›â€ â€œå®šèŒƒå›´ï¼Œç”¨ Scopeï¼›â€ â€œè·‘ä»»åŠ¡ï¼Œç”¨ launch æˆ– asyncã€‚â€",
      "detail": "è¿™æ˜¯ä¸€ä¸ªéå¸¸æ ¸å¿ƒçš„ Android å¼€å‘é—®é¢˜ã€‚åç¨‹ï¼ˆCoroutinesï¼‰ç°åœ¨æ˜¯ Android å®˜æ–¹**é¦–é€‰**çš„å¼‚æ­¥ç¼–ç¨‹è§£å†³æ–¹æ¡ˆã€‚\n\nç®€å•æ¥è¯´ï¼Œåœ¨ Android ä¸Šâ€œå®ç°â€åç¨‹ï¼Œå°±æ˜¯æŒ‡**ä½¿ç”¨å®˜æ–¹æä¾›çš„ã€ä¸ Android ç”Ÿå‘½å‘¨æœŸç»‘å®šçš„åç¨‹ä½œç”¨åŸŸï¼ˆScopesï¼‰ï¼Œæ¥å®‰å…¨ã€é«˜æ•ˆåœ°æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ï¼ˆå¦‚ç½‘ç»œè¯·æ±‚ã€æ•°æ®åº“è¯»å†™ï¼‰**ã€‚\n\nä¸‹é¢æˆ‘å°†ä¸ºä½ è¯¦ç»†æ‹†è§£å¦‚ä½•åœ¨ Android é¡¹ç›®ä¸­æ­£ç¡®åœ°å®ç°åç¨‹ã€‚\n\n### ğŸš€ æ ¸å¿ƒå£è¯€\n\nåœ¨æ·±å…¥ä¹‹å‰ï¼Œå…ˆè®°ä½è¿™ä¸ªåœ¨ Android ä¸­ä½¿ç”¨åç¨‹çš„â€œä¸‰å­—ç»â€ï¼š\n\n> **â€œåˆ‡çº¿ç¨‹ï¼Œç”¨ `withContext`ï¼›â€**\n> **â€œå®šèŒƒå›´ï¼Œç”¨ `Scope`ï¼›â€**\n> **â€œè·‘ä»»åŠ¡ï¼Œç”¨ `launch` æˆ– `async`ã€‚â€**\n\n-----\n\n### 1\\. å‡†å¤‡å·¥ä½œï¼šæ·»åŠ ä¾èµ–\n\né¦–å…ˆï¼Œä½ éœ€è¦åœ¨ `build.gradle (Module: app)` æ–‡ä»¶ä¸­æ·»åŠ å¿…è¦çš„ä¾èµ–ï¼š\n\n```gradle\n// åç¨‹æ ¸å¿ƒåº“\nimplementation 'org.jetbrains.kotlinx:kotlinx-coroutines-core:1.8.0' // (è¯·ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬)\nimplementation 'org.jetbrains.kotlinx:kotlinx-coroutines-android:1.8.0'\n\n// --- ä»¥ä¸‹æ˜¯ Android Jetpack ä¸­æœ€å…³é”®çš„ä¾èµ– ---\n\n// 1. ViewModelScope (åœ¨ ViewModel ä¸­ä½¿ç”¨)\nimplementation 'androidx.lifecycle:lifecycle-viewmodel-ktx:2.8.0' // (è¯·ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬)\n\n// 2. LifecycleScope (åœ¨ Activity/Fragment ä¸­ä½¿ç”¨)\nimplementation 'androidx.lifecycle:lifecycle-runtime-ktx:2.8.0'\n```\n\n### 2\\. Android åç¨‹çš„æ ¸å¿ƒï¼š`CoroutineScope` (åç¨‹ä½œç”¨åŸŸ)\n\nè¿™æ˜¯åœ¨ Android ä¸Šå®ç°åç¨‹**æœ€å…³é”®**çš„ä¸€æ­¥ã€‚\n\n`CoroutineScope`ï¼ˆåç¨‹ä½œç”¨åŸŸï¼‰åƒä¸€ä¸ªâ€œ**ç®¡ç†å‘˜**â€ï¼Œå®ƒç®¡ç†ç€æ‰€æœ‰åœ¨å®ƒå†…éƒ¨å¯åŠ¨çš„åç¨‹ã€‚å®ƒçš„æ ¸å¿ƒèŒè´£æ˜¯ï¼š**åœ¨é€‚å½“çš„æ—¶å€™ï¼ˆæ¯”å¦‚é¡µé¢é”€æ¯æ—¶ï¼‰è‡ªåŠ¨å–æ¶ˆæ‰€æœ‰å®ƒå¯åŠ¨çš„åç¨‹ï¼Œé˜²æ­¢å†…å­˜æ³„æ¼ã€‚**\n\n**ç»å¯¹ä¸è¦**åœ¨ Android ç»„ä»¶ï¼ˆActivity, ViewModelï¼‰ä¸­è‡ªå·±åˆ›å»º `CoroutineScope` æˆ–ä½¿ç”¨ `GlobalScope`ã€‚ä½ åº”è¯¥ä½¿ç”¨ Google å¸®æˆ‘ä»¬å°è£…å¥½çš„ï¼š\n\n#### A. `viewModelScope` (æœ€ä½³å®è·µ)\n\nè¿™æ˜¯åœ¨ `ViewModel` ä¸­æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡çš„**é¦–é€‰æ–¹å¼**ã€‚\n\n  * **ç”Ÿå‘½å‘¨æœŸï¼š** `viewModelScope` ç»‘å®šåˆ° `ViewModel`ã€‚å½“ `ViewModel` è¢«é”€æ¯æ—¶ï¼ˆå³ `onCleared()` è¢«è°ƒç”¨æ—¶ï¼‰ï¼Œ`viewModelScope` ä¼š**è‡ªåŠ¨å–æ¶ˆ**å®ƒå†…éƒ¨çš„æ‰€æœ‰åç¨‹ã€‚\n  * **ç”¨æ³•ï¼š** åœ¨ä½ çš„ `ViewModel` ç±»ä¸­ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ `viewModelScope`ã€‚\n\n<!-- end list -->\n\n```kotlin\nclass MyViewModel : ViewModel() {\n\n    fun fetchData() {\n        // 1. ä½¿ç”¨ viewModelScope.launch å¯åŠ¨ä¸€ä¸ªåç¨‹\n        // 2. è¿™ä¸ªåç¨‹é»˜è®¤è¿è¡Œåœ¨â€œä¸»çº¿ç¨‹â€(Dispatchers.Main)\n        viewModelScope.launch {\n            // ... åœ¨è¿™é‡Œæ‰§è¡Œä½ çš„ä»»åŠ¡ ...\n            // æ¯”å¦‚ï¼Œè°ƒç”¨ä¸€ä¸ª suspend å‡½æ•°\n            val user = repository.getUser() \n            // ... æ›´æ–° LiveData ...\n            _userLiveData.value = user\n        }\n    }\n}\n```\n\n#### B. `lifecycleScope` (æ¬¡é€‰å®è·µ)\n\nè¿™æ˜¯åœ¨ `Activity` æˆ– `Fragment` ä¸­ä½¿ç”¨çš„ä½œç”¨åŸŸã€‚\n\n  * **ç”Ÿå‘½å‘¨æœŸï¼š** `lifecycleScope` ç»‘å®šåˆ° `Activity/Fragment` çš„ç”Ÿå‘½å‘¨æœŸã€‚\n  * **ç”¨æ³•ï¼š** åœ¨ Activity æˆ– Fragment ä¸­ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ `lifecycleScope`ã€‚å®ƒè¿˜æä¾›äº†ä¸€äº›æ›´ç²¾ç»†çš„æ§åˆ¶ï¼Œæ¯”å¦‚ `launchWhenStarted`, `launchWhenResumed`ã€‚\n\n<!-- end list -->\n\n```kotlin\nclass MyActivity : AppCompatActivity() {\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        \n        // å½“ Activity è‡³å°‘æ˜¯ Started çŠ¶æ€æ—¶æ‰§è¡Œï¼ŒStop æ—¶è‡ªåŠ¨æš‚åœ\n        lifecycleScope.launchWhenStarted {\n            // ... æ‰§è¡Œä¸€äº›UIç›¸å…³çš„å¼‚æ­¥ä»»åŠ¡ ...\n        }\n        \n        // æˆ–è€…ç›´æ¥ launch (ç»‘å®šåˆ°\n        lifecycleScope.launch {\n            // ... \n        }\n    }\n}\n```\n\n> **âš ï¸ è­¦å‘Šï¼šå…³äº `GlobalScope`**\n> ä½ å¯èƒ½ä¼šçœ‹åˆ° `GlobalScope`ï¼ˆå…¨å±€ä½œç”¨åŸŸï¼‰ã€‚è¯·**æ°¸è¿œä¸è¦**åœ¨ Android ç»„ä»¶ä¸­ä½¿ç”¨å®ƒã€‚å®ƒä¸å—ä»»ä½•ç”Ÿå‘½å‘¨æœŸæ§åˆ¶ï¼Œä¸€æ—¦å¯åŠ¨ï¼Œåç¨‹ä¼šä¸€ç›´è¿è¡Œç›´åˆ° App è¿›ç¨‹è¢«æ€æ­»ï¼Œè¿™ææ˜“å¯¼è‡´å†…å­˜æ³„æ¼ã€‚\n\n-----\n\n### 3\\. å®ç°åç¨‹ä»»åŠ¡çš„æ ¸å¿ƒï¼š`launch`ã€`async` å’Œ `suspend`\n\n#### A. `launch` (å¯åŠ¨å¹¶å¿˜è®°)\n\n  * **ç”¨é€”ï¼š** å¯åŠ¨ä¸€ä¸ªåç¨‹ï¼Œä½†**ä¸å…³å¿ƒ**å®ƒçš„æ‰§è¡Œç»“æœã€‚è¿™æ˜¯æœ€å¸¸ç”¨çš„æ–¹å¼ï¼Œæ¯”å¦‚è§¦å‘ä¸€æ¬¡ç½‘ç»œè¯·æ±‚ã€å†™å…¥æ•°æ®åº“ã€‚\n  * **è¿”å›ï¼š** è¿”å›ä¸€ä¸ª `Job` å¯¹è±¡ï¼Œä½ å¯ä»¥ç”¨å®ƒæ¥æ‰‹åŠ¨ `cancel()` åç¨‹ã€‚\n  * **ç¤ºä¾‹ï¼š** ï¼ˆè§ä¸Šæ–‡ `viewModelScope.launch`ï¼‰\n\n#### B. `async` (å¯åŠ¨å¹¶ç­‰å¾…ç»“æœ)\n\n  * **ç”¨é€”ï¼š** å¯åŠ¨ä¸€ä¸ªåç¨‹ï¼Œå¹¶ä¸”ä½ éœ€è¦**å®ƒè¿”å›ä¸€ä¸ªç»“æœ**ã€‚\n  * **è¿”å›ï¼š** è¿”å›ä¸€ä¸ª `Deferred<T>` å¯¹è±¡ï¼ˆå®ƒä¹Ÿæ˜¯ä¸€ä¸ª `Job`ï¼‰ã€‚\n  * **å–å€¼ï¼š** ä½ å¿…é¡»è°ƒç”¨ `deferred.await()` æ¥**æŒ‚èµ·**å½“å‰åç¨‹ï¼Œç›´åˆ° `async` å—æ‰§è¡Œå®Œæ¯•å¹¶è¿”å›ç»“æœã€‚\n\n`async` ä¸»è¦ç”¨äº**å¹¶è¡Œæ‰§è¡Œ**å¤šä¸ªä»»åŠ¡ï¼š\n\n```kotlin\nviewModelScope.launch {\n    // 1. ä½¿ç”¨ async å¹¶è¡Œè·å–ä¸¤ä¸ªæ•°æ®\n    val userDeferred = async { repository.getUser() }\n    val newsDeferred = async { repository.getNews() }\n    \n    // 2. ä½¿ç”¨ await() ç­‰å¾…ä¸¤ä¸ªä»»åŠ¡éƒ½å®Œæˆ\n    val user = userDeferred.await()\n    val news = newsDeferred.await()\n    \n    // 3. ä¸¤ä¸ªä»»åŠ¡éƒ½å®Œæˆåï¼Œæ›´æ–°UI\n    showData(user, news)\n}\n```\n\n#### C. `suspend` (æŒ‚èµ·å‡½æ•°)\n\n`suspend` æ˜¯åç¨‹çš„â€œé­”æ³•â€å…³é”®å­—ã€‚\n\n  * **ç”¨é€”ï¼š** å®ƒç”¨æ¥æ ‡è®°ä¸€ä¸ªå‡½æ•°æ˜¯â€œ**å¯æŒ‚èµ·çš„**â€ã€‚è¿™æ„å‘³ç€è¿™ä¸ªå‡½æ•°åœ¨æ‰§è¡Œè€—æ—¶æ“ä½œæ—¶ï¼ˆå¦‚ç½‘ç»œè¯·æ±‚ï¼‰ï¼Œå¯ä»¥**æš‚åœ**è‡ªå·±ï¼Œå¹¶ä¸”**ä¸ä¼šé˜»å¡**å®ƒæ‰€åœ¨çš„çº¿ç¨‹ã€‚\n  * **è§„åˆ™ï¼š** `suspend` å‡½æ•°**åªèƒ½**åœ¨å¦ä¸€ä¸ª `suspend` å‡½æ•°æˆ–åç¨‹ä¸­ï¼ˆå¦‚ `launch` å—ï¼‰è¢«è°ƒç”¨ã€‚\n\n-----\n\n### 4\\. æœ€ä½³å®è·µï¼šç½‘ç»œè¯·æ±‚çš„å®Œæ•´å®ç°\n\nåœ¨ Android ä¸­ï¼Œæœ€ç»å…¸çš„åç¨‹å®ç°å°±æ˜¯â€œ**åœ¨åå°çº¿ç¨‹è¯·æ±‚ç½‘ç»œï¼Œç„¶ååœ¨ä¸»çº¿ç¨‹æ›´æ–° UI**â€ã€‚\n\n**å£è¯€ï¼šâ€œ`suspend` å®šä¹‰ä»»åŠ¡ï¼Œ`withContext` åˆ‡æ¢çº¿ç¨‹ã€‚â€**\n\n#### A. ç¬¬ 1 æ­¥ï¼šå®šä¹‰ `suspend` å‡½æ•° (åœ¨ Repository ä¸­)\n\nä½ çš„ Repository (æ•°æ®ä»“åº“) åº”è¯¥æä¾› `suspend` æ¥å£ï¼Œå¹¶ä½¿ç”¨ `withContext` æ¥ç¡®ä¿è€—æ—¶æ“ä½œåœ¨ **IO çº¿ç¨‹** æ‰§è¡Œã€‚\n\n```kotlin\nimport kotlinx.coroutines.Dispatchers\nimport kotlinx.coroutines.withContext\n\nclass UserRepository(private val api: MyApiService) {\n\n    /**\n     * è¿™å°±æ˜¯ä¸€ä¸ªâ€œæŒ‚èµ·å‡½æ•°â€\n     * å®ƒå°è£…äº†â€œåˆ‡æ¢åˆ°IOçº¿ç¨‹ -> æ‰§è¡Œç½‘ç»œè¯·æ±‚ -> åˆ‡å›åŸçº¿ç¨‹â€çš„é€»è¾‘\n     */\n    suspend fun getUser(id: String): User {\n        // withContext æ˜¯å®ç°çº¿ç¨‹åˆ‡æ¢çš„æ ¸å¿ƒï¼\n        // å®ƒä¼šæ‰§è¡Œå—å†…çš„ä»£ç ï¼Œå¹¶å®‰å…¨åœ°è¿”å›ç»“æœ\n        return withContext(Dispatchers.IO) {\n            // è¿™é‡Œçš„ä»£ç å—è¿è¡Œåœ¨ IO çº¿ç¨‹æ± \n            // api.fetchUser(id) æ˜¯ä¸€ä¸ªæ™®é€šçš„ï¼ˆé˜»å¡çš„ï¼‰ç½‘ç»œè°ƒç”¨\n            api.fetchUser(id)\n        }\n    }\n}\n```\n\n  * **`Dispatchers.IO`**ï¼šä¸“é—¨ç”¨äºç£ç›˜å’Œç½‘ç»œ I/O æ“ä½œçš„çº¿ç¨‹æ± ã€‚\n  * **`Dispatchers.Main`**ï¼šAndroid çš„ä¸»çº¿ç¨‹ï¼ˆUI çº¿ç¨‹ï¼‰ã€‚\n  * **`Dispatchers.Default`**ï¼šä¸“é—¨ç”¨äº CPU å¯†é›†å‹ä»»åŠ¡ï¼ˆå¦‚è§£æ JSONã€è®¡ç®—åˆ—è¡¨å·®å¼‚ï¼‰çš„çº¿ç¨‹æ± ã€‚\n\n#### B. ç¬¬ 2 æ­¥ï¼šè°ƒç”¨ `suspend` å‡½æ•° (åœ¨ ViewModel ä¸­)\n\nä½ çš„ ViewModel ä½¿ç”¨ `viewModelScope`ï¼ˆå®ƒé»˜è®¤åœ¨ `Main` çº¿ç¨‹ï¼‰æ¥è°ƒç”¨è¿™ä¸ª `suspend` å‡½æ•°ã€‚\n\n```kotlin\nclass MyViewModel(private val repository: UserRepository) : ViewModel() {\n\n    private val _userLiveData = MutableLiveData<User>()\n    val userLiveData: LiveData<User> = _userLiveData\n\n    fun loadUser(id: String) {\n        // 1. å¯åŠ¨åç¨‹ï¼ˆåœ¨ Main çº¿ç¨‹ï¼‰\n        viewModelScope.launch {\n            try {\n                // 2. è°ƒç”¨ suspend å‡½æ•°\n                // (åç¨‹åœ¨è¿™é‡Œä¼šâ€œæŒ‚èµ·â€ï¼Œä½† Main çº¿ç¨‹ä¸ä¼šè¢«é˜»å¡)\n                val user = repository.getUser(id) \n                \n                // 3. å½“ getUser() è¿”å›ç»“æœåï¼Œåç¨‹è‡ªåŠ¨åœ¨ Main çº¿ç¨‹æ¢å¤\n                // æ­¤æ—¶å¯ä»¥å®‰å…¨åœ°æ›´æ–° LiveData (UI)\n                _userLiveData.value = user\n                \n            } catch (e: Exception) {\n                // 4. åœ¨ Main çº¿ç¨‹å¤„ç†å¼‚å¸¸\n                _userLiveData.value = null // (æˆ–æ˜¾ç¤ºé”™è¯¯çŠ¶æ€)\n            }\n        }\n    }\n}\n```\n\n### æ€»ç»“\n\nåœ¨ Android ä¸­å®ç°åç¨‹ï¼Œä½ åªéœ€è¦ï¼š\n\n1.  **æ·»åŠ ä¾èµ–** (`lifecycle-viewmodel-ktx`)ã€‚\n2.  åœ¨ **ViewModel** ä¸­ï¼Œä½¿ç”¨ `viewModelScope.launch` æ¥å¯åŠ¨åç¨‹ã€‚\n3.  åœ¨ **Repository** ä¸­ï¼Œåˆ›å»º `suspend` å‡½æ•°ï¼Œå¹¶ä½¿ç”¨ `withContext(Dispatchers.IO)` æ¥æ‰§è¡Œè€—æ—¶æ“ä½œã€‚\n\nåç¨‹çš„é­”åŠ›åœ¨äºï¼š`viewModelScope.launch` å¯åŠ¨åœ¨ `Main` çº¿ç¨‹ -\\> è°ƒç”¨ `suspend` å‡½æ•° -\\> `withContext` è‡ªåŠ¨åˆ‡æ¢åˆ° `IO` çº¿ç¨‹ -\\> è€—æ—¶ä»»åŠ¡å®Œæˆ -\\> `withContext` è‡ªåŠ¨åˆ‡å› `Main` çº¿ç¨‹ -\\> `launch` å—ä¸­çš„å‰©ä½™ä»£ç ï¼ˆå¦‚æ›´æ–°UIï¼‰ç»§ç»­åœ¨ `Main` çº¿ç¨‹æ‰§è¡Œã€‚\n\næ•´ä¸ªè¿‡ç¨‹çš„çº¿ç¨‹åˆ‡æ¢è¢«å®Œç¾åœ°å°è£…äº†ï¼Œä½ çš„ä»£ç çœ‹èµ·æ¥å°±åƒåŒæ­¥ä»£ç ä¸€æ ·ç®€æ´æ˜“è¯»ã€‚\n\nä½ å¸Œæœ›æˆ‘å†è¯¦ç»†è®²è®² `async` å’Œ `await` çš„å¹¶è¡Œæ‰§è¡Œï¼Œè¿˜æ˜¯ `Flow`ï¼ˆåç¨‹çš„æ•°æ®æµï¼‰æ˜¯å¦‚ä½•ä½¿ç”¨çš„ï¼Ÿ"
    },
    {
      "question": "æœ‰ç‚¹æˆ‘ä¸æ˜ç™½ ï¼Œ ä½ è¯´çš„ launch async ï¼Œé‚£ withContext æ€ä¹ˆæ„Ÿè§‰å’Œä»–ä»¬ä¹Ÿå·®ä¸å¤šï¼Ÿ",
      "answer": "ä½ ç”¨ launch **â€œå¼€å§‹â€**ä¸€ä¸ªå·¥ä½œæµç¨‹ï¼ˆæ¯”å¦‚åœ¨ä¸»çº¿ç¨‹ï¼‰ï¼Œåœ¨è¿™ä¸ªæµç¨‹ä¸­ï¼Œå½“ä½ é‡åˆ°éœ€è¦å»åå°å¹²çš„â€œè„æ´»ç´¯æ´»â€æ—¶ï¼Œä½ ç”¨ withContext **â€œä¸´æ—¶åˆ‡æ¢â€**åˆ°åå°å»å¹²ï¼Œå¹²å®Œå†è‡ªåŠ¨åˆ‡å›æ¥ç»§ç»­ã€‚",
      "detail": "ä½ è¿™ä¸ªé—®é¢˜é—®å¾—å¤ªå¥½äº†ï¼**è¿™æ˜¯æ‰€æœ‰ Kotlin åç¨‹åˆå­¦è€…æœ€å®¹æ˜“æ··æ·†çš„åœ°æ–¹**ï¼Œä½ æ„Ÿè§‰å®ƒä»¬â€œå·®ä¸å¤šâ€ï¼Œæ˜¯å› ä¸ºå®ƒä»¬éƒ½å’Œâ€œåˆ‡æ¢çº¿ç¨‹â€æœ‰å…³ï¼Œä½†å®ƒä»¬çš„\\*\\*â€œè§’è‰²â€å’Œâ€œç›®çš„â€\\*\\*æ˜¯å®Œå…¨ä¸åŒçš„ã€‚\n\næˆ‘æ¥ç»™ä½ ä¸€ä¸ªæœ€ç®€å•çš„æ¯”å–»ï¼š\n\n>   * `launch` / `async` æ˜¯\\*\\*â€œå¯åŠ¨ä¸€å°æ–°è½¦â€\\*\\*ï¼ˆåˆ›å»ºæ–°åç¨‹ï¼‰ã€‚\n>   * `withContext` æ˜¯\\*\\*â€œåœ¨ä½ å·²ç»åœ¨å¼€çš„è½¦é‡Œï¼Œåˆ‡æ¢è½¦é“â€\\*\\*ï¼ˆåˆ‡æ¢çº¿ç¨‹ï¼‰ã€‚\n\n-----\n\n### 1\\. æ ¸å¿ƒåŒºåˆ«ï¼šâ€œåˆ›å»ºè€…â€ vs â€œåˆ‡æ¢å™¨â€\n\n#### A. `launch` / `async`ï¼šåç¨‹æ„å»ºå™¨ (Coroutine Builder)\n\n  * **è§’è‰²ï¼š** å®ƒä»¬æ˜¯\\*\\*â€œå°†å†›â€æˆ–â€œå·¥å¤´â€\\*\\*ã€‚\n  * **èŒè´£ï¼š** å®ƒä»¬çš„å”¯ä¸€èŒè´£æ˜¯\\*\\*â€œåˆ›å»ºå¹¶å¯åŠ¨ä¸€ä¸ªæ–°çš„åç¨‹ï¼ˆä»»åŠ¡ï¼‰â€\\*\\*ã€‚\n  * `launch`ï¼šä¸€ä¸ª\\*\\*â€œåªç®¡å¹²æ´»â€**çš„å·¥å¤´ã€‚ä½ ï¼ˆæ¯”å¦‚ `viewModelScope`ï¼‰å¯¹å®ƒè¯´ï¼šâ€œå»ï¼Œç»™æˆ‘å¯åŠ¨ä¸€ä¸ªä»»åŠ¡ï¼ˆæ¯”å¦‚æ›´æ–°UIï¼‰ã€‚â€ å®ƒå¯åŠ¨åï¼Œä½ **ä¸å…³å¿ƒ\\*\\*å®ƒä»€ä¹ˆæ—¶å€™å¹²å®Œï¼Œä¹Ÿä¸éœ€è¦å®ƒçš„â€œå›æŠ¥â€ã€‚\n  * `async`ï¼šä¸€ä¸ª\\*\\*â€œéœ€è¦æ±‡æŠ¥â€**çš„å·¥å¤´ã€‚ä½ å¯¹å®ƒè¯´ï¼šâ€œå»ï¼Œç»™æˆ‘å¯åŠ¨ä¸€ä¸ªä»»åŠ¡ï¼ˆæ¯”å¦‚æ‹¿æ•°æ®ï¼‰ã€‚â€ å®ƒå¯åŠ¨åï¼Œä½ **å¿…é¡»\\*\\*åœ¨æœªæ¥çš„æŸä¸ªæ—¶åˆ»é€šè¿‡ `await()` æ¥â€œ**ç­‰å¾…å®ƒçš„æ±‡æŠ¥ï¼ˆè¿”å›å€¼ï¼‰**â€ã€‚\n\n#### B. `withContext`ï¼šæŒ‚èµ·å‡½æ•° (Suspend Function)\n\n  * **è§’è‰²ï¼š** å®ƒæ˜¯ä¸€ä¸ª\\*\\*â€œè½¦é“åˆ‡æ¢å™¨â€æˆ–â€œä¸´æ—¶å·¥â€\\*\\*ã€‚\n  * **èŒè´£ï¼š** å®ƒçš„èŒè´£**ä¸æ˜¯åˆ›å»ºæ–°åç¨‹**ã€‚å®ƒæ˜¯åœ¨ä¸€ä¸ª**å·²ç»å­˜åœ¨**çš„åç¨‹ï¼ˆæ¯”å¦‚åœ¨ `launch` å—ä¸­ï¼‰å†…éƒ¨ï¼Œ**ä¸´æ—¶**å°†æ‰§è¡Œçš„çº¿ç¨‹ä»Aï¼ˆæ¯”å¦‚ `Main`ï¼‰åˆ‡æ¢åˆ°Bï¼ˆæ¯”å¦‚ `IO`ï¼‰ï¼Œæ‰§è¡Œå®Œä»£ç å—åï¼Œ**è‡ªåŠ¨å†åˆ‡å›**çº¿ç¨‹Aã€‚\n\n-----\n\n### 2\\. å®ƒä»¬æ˜¯å¦‚ä½•ååŒå·¥ä½œçš„ï¼Ÿï¼ˆæœ€ä½³å®è·µï¼‰\n\nåœ¨ Android å¼€å‘ä¸­ï¼Œä½ **å‡ ä¹ä¸ä¼š**åœ¨â€œ`launch` è¿˜æ˜¯ `withContext`â€ä¹‹é—´åšé€‰æ‹©ã€‚\n\nä½ å‡ ä¹**æ€»æ˜¯**ï¼š\n\n1.  ç”¨ `launch` \\*\\*â€œå¯åŠ¨â€\\*\\*ä¸€ä¸ªä»»åŠ¡ï¼ˆé€šå¸¸åœ¨ä¸»çº¿ç¨‹ï¼‰ã€‚\n2.  åœ¨ `launch` å†…éƒ¨ï¼Œç”¨ `withContext` \\*\\*â€œåˆ‡æ¢â€\\*\\*åˆ°åå°çº¿ç¨‹å»æ‰§è¡Œè€—æ—¶æ“ä½œã€‚\n\n**çœ‹è¿™ä¸ªæœ€ç»å…¸çš„ä¾‹å­ï¼š**\n\n```kotlin\n// 1. åœ¨ ViewModel ä¸­...\nfun onButtonClick() {\n    // è§’è‰²1: \"å°†å†›\" (launch)\n    // \"å¯åŠ¨ä¸€å°æ–°è½¦\"ï¼Œè¿™å°è½¦é»˜è®¤åœ¨ \"ä¸»è½¦é“\" (Dispatchers.Main)\n    viewModelScope.launch {\n        \n        // ... (ä»£ç åœ¨ Main çº¿ç¨‹è¿è¡Œ) ...\n        showLoadingSpinner() // æ›´æ–° UI\n\n        // è§’è‰²2: \"è½¦é“åˆ‡æ¢å™¨\" (withContext)\n        // \"ä¿æŒåœ¨è¿™å°è½¦é‡Œï¼Œä½†ä¸´æ—¶åˆ‡æ¢åˆ° 'IO è½¦é“'\"\n        val result = withContext(Dispatchers.IO) {\n            // ... (è¿™é‡Œçš„ä»£ç å—åœ¨ IO çº¿ç¨‹è¿è¡Œ) ...\n            api.fetchData() // æ‰§è¡Œè€—æ—¶çš„ç½‘ç»œè¯·æ±‚\n        }\n        // \"withContext å—ç»“æŸï¼Œè‡ªåŠ¨åˆ‡å› 'ä¸»è½¦é“' (Main)\"\n\n        // ... (ä»£ç åˆå›åˆ°äº† Main çº¿ç¨‹) ...\n        showResult(result) // ç”¨ç»“æœæ›´æ–° UI\n        hideLoadingSpinner()\n    }\n}\n```\n\n**åˆ†æè¿™ä¸ªæµç¨‹ï¼š**\n\n1.  `launch` åˆ›å»ºäº†ä¸€ä¸ª**æ–°çš„åç¨‹**ï¼ˆæ–°è½¦ï¼‰ã€‚\n2.  è¿™ä¸ªåç¨‹ï¼ˆè¿™å°è½¦ï¼‰çš„ç”Ÿå‘½å‘¨æœŸå½’ `viewModelScope` ç®¡ç†ã€‚\n3.  `withContext` **å¹¶æ²¡æœ‰**åˆ›å»ºæ–°åç¨‹ã€‚å®ƒåªæ˜¯â€œ**æš‚åœ**â€äº† `launch` åç¨‹åœ¨ `Main` çº¿ç¨‹çš„æ‰§è¡Œï¼ŒæŠŠä»»åŠ¡â€œ**æ‰”**â€åˆ° `IO` çº¿ç¨‹å»è·‘ï¼Œè·‘å®Œæ‹¿åˆ°ç»“æœåï¼Œå†â€œ**æ¢å¤**â€ `launch` åç¨‹åœ¨ `Main` çº¿ç¨‹çš„æ‰§è¡Œã€‚\n\n-----\n\n### 3\\. ä¸€ä¸ªé”™è¯¯çš„ç”¨æ³•ï¼ˆå¸®ä½ åŠ æ·±ç†è§£ï¼‰\n\n**é—®é¢˜ï¼š** å¦‚æœ `withContext` ä¹Ÿèƒ½åˆ‡æ¢çº¿ç¨‹ï¼Œæˆ‘ä¸ºä»€ä¹ˆä¸ç›´æ¥åœ¨ `onButtonClick` é‡Œç”¨ `withContext`ï¼Ÿ\n\n```kotlin\n// é”™è¯¯ç¤ºèŒƒï¼\nfun onButtonClick_WRONG() {\n    // ç¼–è¯‘é”™è¯¯ï¼\n    // ä¸ºä»€ä¹ˆ? withContext æ˜¯ä¸€ä¸ª suspend å‡½æ•°\n    // suspend å‡½æ•°å¿…é¡»åœ¨â€œåç¨‹â€ä¸­è¢«è°ƒç”¨\n    withContext(Dispatchers.IO) {\n        // ...\n    }\n}\n```\n\n**ç»“è®ºï¼š** `withContext` åªæ˜¯ä¸€ä¸ªâ€œåˆ‡æ¢å™¨â€ï¼Œå®ƒ**ä¸èƒ½å‡­ç©ºå­˜åœ¨**ã€‚ä½ å¿…é¡»å…ˆæœ‰ä¸€ä¸ªâ€œåç¨‹â€ï¼ˆä¸€å°è½¦ï¼‰ï¼Œæ‰èƒ½åœ¨é‡Œé¢â€œåˆ‡æ¢è½¦é“â€ã€‚è€Œ `launch` / `async` å°±æ˜¯é‚£ä¸ªâ€œ**å¯åŠ¨è½¦ï¼ˆåç¨‹ï¼‰**â€çš„äººã€‚\n\n-----\n\n### æ€»ç»“å¯¹æ¯”è¡¨\n\n| å¯¹æ¯”ç»´åº¦ | `launch` / `async` | `withContext` |\n| :--- | :--- | :--- |\n| **æ ¸å¿ƒèŒè´£** | **åˆ›å»ºæ–°åç¨‹**ï¼ˆå¯åŠ¨æ–°ä»»åŠ¡ï¼‰ | **åˆ‡æ¢çº¿ç¨‹ä¸Šä¸‹æ–‡**ï¼ˆåœ¨*å·²æœ‰*åç¨‹ä¸­ï¼‰ |\n| **æ˜¯ä»€ä¹ˆï¼Ÿ** | åç¨‹æ„å»ºå™¨ (Coroutine Builder) | æŒ‚èµ·å‡½æ•° (Suspend Function) |\n| **èƒ½å¦ç‹¬ç«‹è¿è¡Œï¼Ÿ**| **å¯ä»¥**ï¼ˆå¿…é¡»ç”± `CoroutineScope` è°ƒç”¨ï¼‰ | **ä¸è¡Œ**ï¼ˆå¿…é¡»åœ¨åç¨‹æˆ–å¦ä¸€ä¸ª `suspend` å‡½æ•°ä¸­è°ƒç”¨ï¼‰ |\n| **è¿”å›ä»€ä¹ˆï¼Ÿ** | `launch` è¿”å› `Job`ï¼ˆä»»åŠ¡å¥æŸ„ï¼‰<br> `async` è¿”å› `Deferred<T>`ï¼ˆå¸¦ç»“æœçš„ä»»åŠ¡ï¼‰ | è¿”å› `T`ï¼ˆLambda å—**æœ€åä¸€è¡Œ**çš„ç»“æœï¼‰ |\n| **æ¯”å–»** | **å¯åŠ¨æ–°è½¦** | **åœ¨è½¦å†…æ¢é“** |\n| **å…¸å‹ç”¨æ³•** | `scope.launch { ... }` | `val data = withContext(Dispatchers.IO) { ... }` |\n\n**ä¸€å¥è¯æ¦‚æ‹¬ï¼š**\nä½ ç”¨ `launch` \\*\\*â€œå¼€å§‹â€\\*\\*ä¸€ä¸ªå·¥ä½œæµç¨‹ï¼ˆæ¯”å¦‚åœ¨ä¸»çº¿ç¨‹ï¼‰ï¼Œåœ¨è¿™ä¸ªæµç¨‹ä¸­ï¼Œå½“ä½ é‡åˆ°éœ€è¦å»åå°å¹²çš„â€œè„æ´»ç´¯æ´»â€æ—¶ï¼Œä½ ç”¨ `withContext` \\*\\*â€œä¸´æ—¶åˆ‡æ¢â€\\*\\*åˆ°åå°å»å¹²ï¼Œå¹²å®Œå†è‡ªåŠ¨åˆ‡å›æ¥ç»§ç»­ã€‚"
    },
    {
      "question": "ä»€ä¹ˆæ˜¯çŠ¶æ€æœº ï¼Ÿ",
      "answer": "ä½†åœ¨ JVM å­—èŠ‚ç å±‚é¢ï¼Œå®ƒ**æ ¹æœ¬ä¸æ˜¯å‡½æ•°äº†**ï¼Œå®ƒå˜æˆäº†ä¸€ä¸ª**ç±» + çŠ¶æ€æœº**ï¼\n\n\nçœ‹åˆ°æ²¡ï¼ŸåŸæ¥åªæœ‰ä¸€ä¸ªå‡½æ•°ï¼Œç°åœ¨å˜æˆäº†ï¼š\n\n- ä¸€ä¸ªå¯¹è±¡ï¼ˆåç¨‹å®ä¾‹ï¼‰\n- ä¸€ä¸ªæ•´æ•° label è®°å½•â€œæˆ‘ä¹‹å‰åœåœ¨å“ªäº†â€\n- ä¸€ä¸ªå·¨å¤§çš„ switch-caseï¼ˆçŠ¶æ€æœºï¼‰",
      "detail": "éå¸¸å¥½çš„é—®é¢˜ï¼  \nâ€œçŠ¶æ€æœºå®ç°çš„åç¨‹â€ç¡®å®æ˜¯å¾ˆå¤šäººç¬¬ä¸€æ¬¡æ¥è§¦æ—¶æœ€è¿·æƒ‘çš„åœ°æ–¹ï¼Œå› ä¸ºå®ƒçœ‹èµ·æ¥â€œåƒé­”æ³•â€â€”â€”ä¸€ä¸ªæ™®é€šçš„å‡½æ•°ï¼Œæ€ä¹ˆçªç„¶å°±èƒ½æš‚åœå¥½å‡ å¤©ã€å†ç»§ç»­æ‰§è¡Œäº†ï¼Ÿ\n\næˆ‘ç”¨æœ€æœ€ç›´ç™½çš„æ–¹å¼ç»™ä½ æ‹†å¼€è®²æ¸…æ¥šï¼Œ**ä¿è¯ 5 åˆ†é’Ÿå½»åº•æ‡‚**ã€‚\n\n### ç”¨ä¸€ä¸ªçœŸå®çš„ä¾‹å­ï¼Œæ‰‹æŠŠæ‰‹çœ‹ç¼–è¯‘å™¨åˆ°åº•æ˜¯æ€ä¹ˆæŠŠâ€œæš‚åœâ€å˜æˆçŠ¶æ€æœºçš„\n\næˆ‘ä»¬å†™ä¸€ä¸ªå¾ˆç®€å•çš„ Kotlin åç¨‹ï¼š\n\n```kotlin\nsuspend fun getUserName(): String {\n    println(\"ç¬¬1æ­¥ï¼šå¼€å§‹è¯·æ±‚ç½‘ç»œ\")\n    delay(2000)                 // æš‚åœ2ç§’\n    println(\"ç¬¬3æ­¥ï¼šæ‹¿åˆ°æ•°æ®äº†\")\n    return \"å¼ ä¸‰\"\n}\n```\n\nä½ è§‰å¾—å®ƒå°±æ˜¯ä¸€ä¸ªæ™®é€šå‡½æ•°ï¼Œèƒ½æš‚åœè€Œå·²ã€‚  \nä½†åœ¨ JVM å­—èŠ‚ç å±‚é¢ï¼Œå®ƒ**æ ¹æœ¬ä¸æ˜¯å‡½æ•°äº†**ï¼Œå®ƒå˜æˆäº†ä¸€ä¸ª**ç±» + çŠ¶æ€æœº**ï¼\n\nç¼–è¯‘å™¨å·å·å¸®ä½ å¹²äº†è¿™äº›äº‹ï¼š\n\n```java\n// ç¼–è¯‘å™¨è‡ªåŠ¨ç”Ÿæˆçš„ç±»ï¼ˆä¼ªä»£ç ï¼ŒçœŸå®å­—èŠ‚ç é•¿è¿™æ ·ï¼‰\nclass GetUserNameCoroutine extends Continuation<String> {\n    int label = 0;                 // å…³é”®ï¼è®°å½•å½“å‰è·‘åˆ°ç¬¬å‡ æ­¥äº†\n    // ä¸‹é¢è¿™äº›å­—æ®µæ˜¯â€œå±€éƒ¨å˜é‡çš„å¢“åœ°â€\n    String result;\n\n    @Override\n    public Object resume(Object previousResult) {\n        switch (label) {           // â† è¿™å°±æ˜¯çŠ¶æ€æœºï¼ï¼\n            case 0 -> {            // ç¬¬ä¸€æ¬¡è¿›æ¥\n                println(\"ç¬¬1æ­¥ï¼šå¼€å§‹è¯·æ±‚ç½‘ç»œ\");\n                label = 1;         // ä¸‹æ¬¡å›æ¥è¦ä» case 1 å¼€å§‹\n                return delay(2000, this);   // æŠŠå½“å‰åç¨‹å¯¹è±¡ä¼ ç»™ delay\n            }\n            case 1 -> {            // 2ç§’åï¼Œdelay è°ƒç”¨æˆ‘ä»¬å›æ¥ï¼Œè¿›å…¥è¿™é‡Œ\n                println(\"ç¬¬3æ­¥ï¼šæ‹¿åˆ°æ•°æ®äº†\");\n                return \"å¼ ä¸‰\";\n            }\n        }\n        return \"å·²ç»ç»“æŸäº†\";\n    }\n}\n```\n\nçœ‹åˆ°æ²¡ï¼ŸåŸæ¥åªæœ‰ä¸€ä¸ªå‡½æ•°ï¼Œç°åœ¨å˜æˆäº†ï¼š\n\n- ä¸€ä¸ªå¯¹è±¡ï¼ˆåç¨‹å®ä¾‹ï¼‰\n- ä¸€ä¸ªæ•´æ•° label è®°å½•â€œæˆ‘ä¹‹å‰åœåœ¨å“ªäº†â€\n- ä¸€ä¸ªå·¨å¤§çš„ switch-caseï¼ˆçŠ¶æ€æœºï¼‰\n\n### ç”¨ç”Ÿæ´»æ¯”å–»ï¼šå°±åƒè‡ªåŠ¨å­˜æ¡£çš„æ¸¸æˆ\n\n| åç¨‹çŠ¶æ€æœº                      | è‡ªåŠ¨å­˜æ¡£çš„æ¸¸æˆï¼ˆå¡å°”è¾¾/åŸç¥ï¼‰                     |\n|----------------------------------|-------------------------------------------------|\n| label = 0                        | ä½ å­˜æ¡£çš„æ—¶å€™åœ¨æ‘å£                             |\n| delay() æš‚åœåç¨‹                 | ä½ é€€å‡ºæ¸¸æˆ                                     |\n| 2ç§’å delay è°ƒç”¨ resume          | ä½ ç‚¹â€œç»§ç»­æ¸¸æˆâ€                                 |\n| ç¨‹åºçœ‹åˆ° label=1ï¼Œç›´æ¥è·³åˆ° case 1| æ¸¸æˆç›´æ¥æŠŠä½ ä¼ é€åˆ°æ‘å£ï¼Œç»§ç»­å¾€åèµ°             |\n| å±€éƒ¨å˜é‡ä¿å­˜åœ¨åç¨‹å¯¹è±¡é‡Œ         | ä½ çš„è£…å¤‡ã€è¡€é‡ã€ä»»åŠ¡è¿›åº¦éƒ½ä¿å­˜åœ¨å­˜æ¡£é‡Œ         |\n\næ‰€ä»¥ï¼š**åç¨‹çš„â€œæš‚åœ-æ¢å¤â€æ ¹æœ¬ä¸æ˜¯é­”æ³•ï¼Œå°±æ˜¯â€œæŠŠå‡½æ•°æ‰§è¡Œè¿‡ç¨‹å­˜æ¡£ï¼Œå†è¯»æ¡£â€**ï¼\n\n### ä¸ºä»€ä¹ˆå«â€œæ— æ ˆåç¨‹â€ï¼Ÿ\nå› ä¸ºå®ƒ**æ²¡æœ‰ç»™è‡ªå·±åˆ†é…ä¸€ä¸ªç‹¬ç«‹çš„æ ˆ**ï¼Œæ‰€æœ‰å±€éƒ¨å˜é‡éƒ½æ¬åˆ°äº†è¿™ä¸ªå¯¹è±¡é‡Œï¼ˆå †ä¸Šï¼‰ï¼Œæ‰€ä»¥å«â€œæ— æ ˆâ€ï¼ˆstacklessï¼‰ã€‚  \nç›¸æ¯”ä¹‹ä¸‹ï¼ŒGo çš„ goroutine æ¯ä¸ªéƒ½æœ‰å‡  KB çš„ç‹¬ç«‹æ ˆï¼Œæ‰€ä»¥å«â€œæœ‰æ ˆåç¨‹â€ã€‚\n\n### å†æ€»ç»“ä¸€éï¼ˆè¶…ç®€ç‰ˆï¼‰\n\n| ä½ å†™çš„ä»£ç                      | ç¼–è¯‘å™¨å·å·å¹²äº†ä»€ä¹ˆ                              | ä½ æ„Ÿè§‰åˆ°çš„æ•ˆæœ          |\n|--------------------------------|------------------------------------------------|-------------------------|\n| suspend fun + delay()          | æŠŠæ•´ä¸ªå‡½æ•°æ‹†æˆä¸€ä¸ªç±» + label + switch-case     | å‡½æ•°èƒ½æš‚åœå¥½å‡ å¤©å†ç»§ç»­  |\n| å±€éƒ¨å˜é‡                       | å…¨éƒ¨æ¬åˆ°è¿™ä¸ªç±»é‡Œå½“å­—æ®µ                         | æš‚åœåå†å›æ¥è¿˜èƒ½ç”¨      |\n| resume() è°ƒç”¨                  | å…¶å®å°±æ˜¯æ‰§è¡Œ switch-case çš„ä¸‹ä¸€ä¸ª case        | æ„Ÿè§‰åƒä»æš‚åœå¤„ç»§ç»­      |\n\n### ä¸€å¥è¯ç»ˆæç»“è®º\n\n**çŠ¶æ€æœºå®ç°çš„åç¨‹ = ç¼–è¯‘å™¨æŠŠâ€œèƒ½æš‚åœçš„å‡½æ•°â€å·å·æ”¹å†™æˆäº†â€œå¸¦å­˜æ¡£åŠŸèƒ½çš„çŠ¶æ€æœºå¯¹è±¡â€**ã€‚\n\nç°åœ¨ä½ å†çœ‹ Python çš„ `yield`ã€Kotlin çš„ `suspend`ã€C# çš„ `await`ï¼Œå°±å®Œå…¨ä¸ä¼šè§‰å¾—ç¥ç§˜äº†â€”â€”å®ƒä»¬å…¨éƒ½æ˜¯è¿™ä¸ªå¥—è·¯ã€‚\n\nå¦‚æœä½ è¿˜æƒ³çœ‹ï¼š\n- çœŸå®çš„ javap åç¼–è¯‘å­—èŠ‚ç æˆªå›¾\n- æ‰‹ç»˜çš„â€œå­˜æ¡£-è¯»æ¡£â€å›¾è§£\n- æˆ–è€…ç”¨ 10 è¡Œä»£ç è‡ªå·±æ‰‹å†™ä¸€ä¸ªè¿·ä½ åç¨‹çŠ¶æ€æœº\n\néšæ—¶å‘Šè¯‰æˆ‘ï¼Œæˆ‘ç«‹åˆ»ç»™ä½ ï¼ç°åœ¨ä½ åº”è¯¥å½»åº•ä¸è¿·ç³Šäº†å§ï¼Ÿ"
    },
    {
      "question": "5ï¼ŒÂ åç¨‹çš„é«˜çº§ç”¨æ³•ï¼Œflow ?",
      "answer": "Kotlin åç¨‹é«˜çº§ç”¨æ³•ä¸»è¦æ˜¯ Flowï¼Œç”¨äºå¤„ç†å¼‚æ­¥ & æ•°æ®æµã€‚\n\nFlow æ˜¯å†·æµï¼Œä¸ collect ä¸æ‰§è¡Œï¼›\n\nStateFlow æ˜¯çƒ­æµï¼Œæœ‰é»˜è®¤å€¼ï¼Œä¸»è¦ç”¨äº UI çŠ¶æ€ï¼›\n\nSharedFlow ä¹Ÿæ˜¯çƒ­æµï¼Œå¯ç”¨äºå…¨å±€å¹¿æ’­ã€äº‹ä»¶åˆ†å‘ï¼Œç±»ä¼¼ EventBusã€‚\n\nåœ¨é€šä¿¡æ–¹æ¡ˆä¸Šï¼ŒFlow / StateFlow / SharedFlow æ›¿ä»£äº† Channelï¼Œæ›´é€‚åˆ Android MVVM æ¶æ„ã€‚\nFlow é€šè¿‡ mapã€filterã€combine ç­‰æ“ä½œç¬¦ï¼Œæ”¯æŒå¼‚æ­¥ & å¹¶å‘å¤„ç†æ•°æ®æµï¼Œæ˜¯åç¨‹æ—¶ä»£çš„ RxJava æ›¿ä»£æ–¹æ¡ˆã€‚\n",
      "detail": "ä¸‹é¢æ˜¯ **åç¨‹é«˜çº§ç”¨æ³•ï¼šFlowï¼ˆå†·æµï¼‰ã€StateFlow/SharedFlowï¼ˆçƒ­æµï¼‰ã€é€šä¿¡æœºåˆ¶** çš„å®Œæ•´é¢è¯•+å®æˆ˜æ€»ç»“ï¼Œç‰¹åˆ«é€‚åˆ Android å¼€å‘è€…ğŸ‘‡\n\n---\n\n# ğŸš€ ä¸€å›¾æ‡‚åç¨‹ Flow\n\n| ç±»å‹                | æ˜¯å¦ç«‹å³å¼€å§‹           | æ˜¯å¦ä¿å­˜æœ€æ–°å€¼ | æ˜¯å¦æ¥æ”¶å†å²æ•°æ® | ç”¨é€”                   |\n| ----------------- | ---------------- | ------- | -------- | -------------------- |\n| **å†·æµ Flow**       | âŒ éœ€è¦ collect æ‰æ‰§è¡Œ | âŒ       | âŒ        | ç½‘ç»œè¯·æ±‚ã€æ•°æ®æµ             |\n| **çƒ­æµ StateFlow**  | âœ” å¯åŠ¨åç«‹å³æ‰§è¡Œ        | âœ” ä¿ç•™æœ€æ–°å€¼ | ä¿ç•™1ä¸ªå€¼    | UI çŠ¶æ€                |\n| **çƒ­æµ SharedFlow** | âœ” å¯åŠ¨åæ‰§è¡Œ          | âŒ       | å¯è®¾ç½®ç¼“å­˜å®¹é‡  | å¤šäººé€šä¿¡ï¼ˆEventBus/RxBusï¼‰ |\n\n**è®°å¿†å£è¯€ï¼š**\nğŸ‘‰ **Flow å†·ï¼ŒStateFlow çƒ­ï¼ŒSharedFlow å¹¿æ’­**\n\n---\n\n# ğŸ”µ 1. å†·æµï¼ˆFlowï¼‰â€“ ä¸ collect å°±ä¸æ‰§è¡Œ\n\n```kotlin\nfun getUserFlow(): Flow<User> = flow {\n    emit(api.getUser())\n}\n\nlifecycleScope.launch {\n    getUserFlow().collect { user ->\n        tvName.text = user.name\n    }\n}\n```\n\nâœ” collect æ‰å¼€å§‹æ‰§è¡Œ\nâœ” æ¯æ¬¡ collect éƒ½é‡æ–°æ‰§è¡Œæµ\nâœ” é€‚åˆ **ç½‘ç»œè¯·æ±‚ / IO ä»»åŠ¡**\n\n---\n\n# ğŸ”´ 2. çƒ­æµ â€“ StateFlowï¼ˆä¿ï¿½ï¿½ï¿½ï¿½ï¿½æœ€æ–° UI çŠ¶ï¿½ï¿½ï¼‰\n\nâš¡ StateFlow **æ€»æ˜¯æœ‰å€¼**ï¼Œç±»ä¼¼ LiveDataï¼Œæ›´é€‚åˆ **ViewModel + UI**\n\n```kotlin\nclass MyViewModel : ViewModel() {\n    private val _name = MutableStateFlow(\"Unknown\")\n    val name = _name.asStateFlow()\n\n    fun loadName() {\n        _name.value = \"Tom\"\n    }\n}\n```\n\n```kotlin\n// Activity / Fragment\nlifecycleScope.launch {\n    viewModel.name.collect { tv.text = it }\n}\n```\n\nâœ” æœ‰é»˜è®¤å€¼\nâœ” æ€»æ˜¯å‘é€æœ€æ–°æ•°æ®\nâœ” é€‚åˆ UI çŠ¶æ€ç®¡ç†ï¼ˆæ¯” LiveData æ›´å¼ºï¼‰\n\n---\n\n# ğŸŸ  3. SharedFlow â€” å¹¿æ’­ï¼Œå¤šäººé€šä¿¡ (RxBus æ›¿ä»£)\n\n```kotlin\nclass MyViewModel : ViewModel() {\n    private val _event = MutableSharedFlow<String>()\n    val event = _event.asSharedFlow()\n\n    fun sendEvent() {\n        viewModelScope.launch {\n            _event.emit(\"Hello!\")\n        }\n    }\n}\n```\n\n```kotlin\n// Activity Fragment\nlifecycleScope.launch {\n    viewModel.event.collect { toast(it) }\n}\n```\n\nâœ” å¯è®¾ç½® `replay = n`ï¼ˆç¼“å­˜å†å²æ•°æ®ï¼‰\nâœ” é€‚åˆå¤šç»„ä»¶å…±äº«æ•°æ®\nâœ” å¯å®ç° **å…¨å±€é€šä¿¡ / EventBus**\n\n---\n\n# ğŸ§‘â€ğŸ¤â€ğŸ§‘ Flow é€šä¿¡ï¼ˆChannel / Flowï¼‰\n\n| æ–¹å¼                     | æ˜¯å¦æ¨è    | ç”¨é€”             |\n| ---------------------- | ------- | -------------- |\n| Channel                | ä¸å¤ªæ¨è    | æ—©æœŸæ–¹æ¡ˆ           |\n| Flow                   | âœ” æ¨è    | ä¸²è¡Œ/å¹¶è¡Œæ•°æ®æµ       |\n| StateFlow / SharedFlow | âœ”âœ” å¼ºçƒˆæ¨è | UI/é€šä¿¡/EventBus |\n\n### ğŸ“¦ Channel ç¤ºä¾‹\n\n```kotlin\nval channel = Channel<Int>()\n\nlaunch {\n    channel.send(1)\n}\n\nlaunch {\n    val result = channel.receive()\n}\n```\n\nâœ” æ”¯æŒå¹¶å‘\nâŒ ä¸åˆé€‚ UI å±‚ï¼Œå·²ç»è¢« Flow æ›¿ä»£\n\n---\n\n# âœ¨ Flow åˆå¹¶ / è½¬æ¢ / å¼‚æ­¥\n\n```kotlin\nflow1.combine(flow2) { a, b -> \"$a & $b\" }\nmap { it * 2 }\nfilter { it > 10 }\nflatMapMerge { getUserFlow() }\nbuffer() // å¹¶å‘ï¼Œæé«˜æ€§èƒ½\n```\n\n---\n\n# ğŸ”¥ é¢è¯•å›ç­”æ¨¡æ¿ï¼ˆèƒŒå°±èƒ½è¯´ï¼‰\n\n> Kotlin åç¨‹é«˜çº§ç”¨æ³•ä¸»è¦æ˜¯ Flowï¼Œç”¨äºå¤„ç†å¼‚æ­¥ & æ•°æ®æµã€‚\n> Flow æ˜¯å†·æµï¼Œä¸ collect ä¸æ‰§è¡Œï¼›StateFlow æ˜¯çƒ­æµï¼Œæœ‰é»˜è®¤å€¼ï¼Œä¸»è¦ç”¨äº UI çŠ¶æ€ï¼›SharedFlow ä¹Ÿæ˜¯çƒ­æµï¼Œå¯ç”¨äºå…¨å±€å¹¿æ’­ã€äº‹ä»¶åˆ†å‘ï¼Œç±»ä¼¼ EventBusã€‚\n> åœ¨é€šä¿¡æ–¹æ¡ˆä¸Šï¼ŒFlow / StateFlow / SharedFlow æ›¿ä»£äº† Channelï¼Œæ›´é€‚åˆ Android MVVM æ¶æ„ã€‚\n> Flow é€šè¿‡ mapã€filterã€combine ç­‰æ“ä½œç¬¦ï¼Œæ”¯æŒå¼‚æ­¥ & å¹¶å‘å¤„ç†æ•°æ®æµï¼Œæ˜¯åç¨‹æ—¶ä»£çš„ RxJava æ›¿ä»£æ–¹æ¡ˆã€‚\n\n---\n\nå¦‚æœä½ æƒ³ï¼Œæˆ‘å¯ä»¥å¸®ä½ å†™ä¸€ä¸ª**å®Œæ•´ Android MVVM + Flow + UI å®æˆ˜é¡¹ç›®æ¨¡æ¿**\nğŸ”¥ åŒ…æ‹¬ï¼šåŠ è½½æ¥å£ã€æ›´æ–°UIã€å‘é€äº‹ä»¶ã€å¯¼èˆªè·³è½¬ã€‚\n\nè¦ä¸è¦ï¼ŸğŸ“±ğŸ’¡\n"
    },
    {
      "question": "StateFlowã€SharedFlow å’ŒLiveDataåŒºåˆ«ï¼Ÿ",
      "answer": "é¢è¯•è®°å¿†å£è¯€ (ç‹¬å®¶å®šåˆ¶)ä¸ºäº†å¸®ä½ ç¬é—´åˆ†æ¸…ï¼Œé€ä½ ä¸€å¥**â€œä¸‰å­—ç»â€**ï¼š\nâ€œLiveData ç»‘ç³»ç»Ÿï¼ŒStateFlow å­˜çŠ¶æ€ï¼ŒSharedFlow å‘äº‹ä»¶ã€‚â€å£è¯€è¯¦è§£ï¼ˆé¢è¯•è¯æœ¯ï¼‰ï¼š\n\nLiveData ç»‘ç³»ç»Ÿ (Bound to Android):å®ƒæœ€å¤§çš„ä¼˜åŠ¿æ˜¯è‡ªåŠ¨æ„ŸçŸ¥ Android ç”Ÿå‘½å‘¨æœŸã€‚é¡µé¢é”€æ¯äº†å®ƒå°±è‡ªåŠ¨åœï¼Œä¸ä¼šå†…å­˜æ³„æ¼ã€‚ä½†å®ƒæ˜¯ Android ä¸“å±çš„ï¼Œåœ¨çº¯ Java/Kotlin å±‚ï¼ˆå¦‚ Domain å±‚ï¼‰æ²¡æ³•ç”¨ã€‚\n\nStateFlow å­˜çŠ¶æ€ (State Holder):å®ƒæ˜¯ LiveData çš„ç°ä»£åŒ–æ›¿ä»£å“ã€‚å®ƒå¼ºåˆ¶è¦æ±‚æœ‰åˆå§‹å€¼ï¼Œå¹¶ä¸”è‡ªåŠ¨å¿½ç•¥é‡å¤çš„æ–°å€¼ï¼ˆé˜²æŠ–ï¼‰ã€‚å°±åƒä¸€ä¸ªæ€»æ˜¯æŒæœ‰æœ€æ–°çŠ¶æ€çš„â€œç›’å­â€ã€‚\n\n\nSharedFlow å‘äº‹ä»¶ (Event Emitter):å®ƒé«˜åº¦å¯é…ç½®ã€‚æœ€å¸¸ç”¨çš„æ˜¯æŠŠ replay è®¾ä¸º 0ï¼Œç”¨æ¥å‘ä¸€æ¬¡æ€§äº‹ä»¶ï¼ˆOne-shot Eventsï¼‰ï¼Œæ¯”å¦‚â€œç™»å½•æˆåŠŸå¼¹ä¸ª Toastâ€æˆ–è€…â€œè·³è½¬é¡µé¢â€ã€‚",
      "detail": "åœ¨ Android ç°åœ¨çš„å¼€å‘é¢è¯•ä¸­ï¼Œå¼„æ¸…æ¥š **LiveData**ã€**StateFlow** å’Œ **SharedFlow** çš„åŒºåˆ«æ˜¯é‡ä¸­ä¹‹é‡ï¼Œè¿™ç›´æ¥è€ƒå¯Ÿäº†ä½ å¯¹ **MVVM æ¶æ„**ã€**Kotlin åç¨‹**ä»¥åŠ**ç”Ÿå‘½å‘¨æœŸ**çš„ç†è§£æ·±åº¦ã€‚\n\nä»¥ä¸‹æ˜¯ä¸ºä½ å‡†å¤‡çš„é¢è¯•æ”»ç•¥ï¼ŒåŒ…å«æ ¸å¿ƒåŒºåˆ«ã€åœºæ™¯é€‰æ‹©å’Œè®°å¿†å£è¯€ã€‚\n\n-----\n\n### ğŸš€ ä¸€ã€ æ ¸å¿ƒåŒºåˆ«é€Ÿè§ˆè¡¨\n\n| ç‰¹æ€§                           | LiveData | StateFlow | SharedFlow |\n| :---                             | :--- | :--- | :--- |\n| **å½’å±**                    | Android Jetpack (Google) | Kotlin Coroutines (Language) | Kotlin Coroutines (Language) |\n| **ç”Ÿå‘½å‘¨æœŸæ„ŸçŸ¥**       | **è‡ªåŠ¨æ„ŸçŸ¥** (Auto) | **ä¸æ„ŸçŸ¥** (éœ€é…åˆ `repeatOnLifecycle`) | **ä¸æ„ŸçŸ¥** (éœ€é…åˆ `repeatOnLifecycle`) |\n| **åˆå§‹å€¼**                 | ä¸éœ€è¦ | **å¿…é¡»æœ‰** | ä¸éœ€è¦ |\n| **é˜²æŠ– (å»é‡)**          | æ—  (éœ€æ‰‹åŠ¨å®ç°) | **è‡ªåŠ¨å»é‡** (distinctUntilChanged) | æ—  |\n| **æ•°æ®å›æ”¾ (Sticky)**| **æ˜¯** (æ€»æ˜¯æ”¶åˆ°æœ€åä¸€æ¡) | **æ˜¯** (æ€»æ˜¯æ”¶åˆ°æœ€åä¸€æ¡) | **å¯é…ç½®** (é»˜è®¤0ï¼Œå³ä¸å›æ”¾) |\n| **æµç±»å‹**                | - | **çƒ­æµ (Hot)** | **çƒ­æµ (Hot)** |\n| **ä¸»è¦ç”¨é€”**            | ä¼ ç»Ÿçš„ UI çŠ¶æ€æŒæœ‰ | **ç°ä»£çš„ UI çŠ¶æ€æŒæœ‰** (æ›¿ä»£ LiveData) | **ä¸€æ¬¡æ€§äº‹ä»¶** (Toast, å¯¼èˆª) |\n\n-----\n\n### âš¡ äºŒã€ é¢è¯•è®°å¿†å£è¯€ (ç‹¬å®¶å®šåˆ¶)\n\nä¸ºäº†å¸®ä½ ç¬é—´åˆ†æ¸…ï¼Œé€ä½ ä¸€å¥\\*\\*â€œä¸‰å­—ç»â€\\*\\*ï¼š\n\n> **â€œLiveData ç»‘ç³»ç»Ÿï¼ŒStateFlow å­˜çŠ¶æ€ï¼ŒSharedFlow å‘äº‹ä»¶ã€‚â€**\n\n**å£è¯€è¯¦è§£ï¼ˆé¢è¯•è¯æœ¯ï¼‰ï¼š**\n\n1.  **LiveData ç»‘ç³»ç»Ÿ (Bound to Android):**\n      * å®ƒæœ€å¤§çš„ä¼˜åŠ¿æ˜¯**è‡ªåŠ¨æ„ŸçŸ¥ Android ç”Ÿå‘½å‘¨æœŸ**ã€‚é¡µé¢é”€æ¯äº†å®ƒå°±è‡ªåŠ¨åœï¼Œä¸ä¼šå†…å­˜æ³„æ¼ã€‚ä½†å®ƒæ˜¯ Android ä¸“å±çš„ï¼Œåœ¨çº¯ Java/Kotlin å±‚ï¼ˆå¦‚ Domain å±‚ï¼‰æ²¡æ³•ç”¨ã€‚\n2.  **StateFlow å­˜çŠ¶æ€ (State Holder):**\n      * å®ƒæ˜¯ LiveData çš„**ç°ä»£åŒ–æ›¿ä»£å“**ã€‚å®ƒå¼ºåˆ¶è¦æ±‚æœ‰**åˆå§‹å€¼**ï¼Œå¹¶ä¸”è‡ªåŠ¨å¿½ç•¥é‡å¤çš„æ–°å€¼ï¼ˆé˜²æŠ–ï¼‰ã€‚å°±åƒä¸€ä¸ªæ€»æ˜¯æŒæœ‰æœ€æ–°çŠ¶æ€çš„â€œç›’å­â€ã€‚\n3.  **SharedFlow å‘äº‹ä»¶ (Event Emitter):**\n      * å®ƒé«˜åº¦å¯é…ç½®ã€‚æœ€å¸¸ç”¨çš„æ˜¯æŠŠ `replay` è®¾ä¸º 0ï¼Œç”¨æ¥å‘**ä¸€æ¬¡æ€§äº‹ä»¶**ï¼ˆOne-shot Eventsï¼‰ï¼Œæ¯”å¦‚â€œç™»å½•æˆåŠŸå¼¹ä¸ª Toastâ€æˆ–è€…â€œè·³è½¬é¡µé¢â€ã€‚\n\n-----\n\n### ğŸ” ä¸‰ã€ æ·±åº¦è§£æä¸é¿å‘æŒ‡å—\n\n#### 1\\. ä¸ºä»€ä¹ˆå®˜æ–¹æ¨è StateFlow æ›¿ä»£ LiveDataï¼Ÿ\n\n  * **å¹³å°æ— å…³æ€§ï¼š** LiveData ä¾èµ– `android.*` åŒ…ï¼Œæ— æ³•åœ¨çº¯ Kotlin æ¨¡å—ï¼ˆå¦‚ KMM è·¨å¹³å°ï¼‰ä¸­ä½¿ç”¨ã€‚StateFlow æ˜¯çº¯ Kotlin çš„ã€‚\n  * **æ€§èƒ½ä¸åŠŸèƒ½ï¼š** StateFlow åŸºäºåç¨‹ï¼Œé…åˆ Flow å¼ºå¤§çš„æ“ä½œç¬¦ï¼ˆmap, filter, combineï¼‰ï¼Œæ•°æ®å¤„ç†èƒ½åŠ›è¿œè¶… LiveDataã€‚\n\n#### 2\\. â€œæ•°æ®å€’çŒâ€ (Sticky Event) é—®é¢˜\n\n  * **ç°è±¡ï¼š** å±å¹•æ—‹è½¬æˆ–åå°åˆ‡å›æ¥ï¼ŒActivity é‡å»ºï¼ŒLiveData ä¼šå†æ¬¡æŠŠæ—§æ•°æ®æ¨ç»™ Viewï¼Œå¯¼è‡´ Toast åˆå¼¹ä¸€æ¬¡ã€‚\n  * **è§£å†³ï¼š**\n      * **StateFlow** ä¹Ÿæ˜¯ç²˜æ€§çš„ï¼ˆStickyï¼‰ï¼Œä¹Ÿä¼šå€’çŒï¼Œæ‰€ä»¥å®ƒé€‚åˆåš**çŠ¶æ€**ï¼ˆæ¯”å¦‚ UI æ˜¾ç¤ºä»€ä¹ˆå­—ï¼Œå€’çŒæ²¡å…³ç³»ï¼‰ã€‚\n      * **SharedFlow** å¯ä»¥é…ç½® `replay = 0`ï¼Œæ²¡æœ‰ç²˜æ€§ï¼Œæ–°è®¢é˜…è€…æ”¶ä¸åˆ°æ—§æ¶ˆæ¯ã€‚æ‰€ä»¥å®ƒé€‚åˆåš**äº‹ä»¶**ï¼ˆToast/Navigationï¼‰ã€‚\n\n#### 3\\. StateFlow çš„â€œé˜²æŠ–â€ç‰¹æ€§\n\n  * å¦‚æœ StateFlow å½“å‰å€¼æ˜¯ `A`ï¼Œä½ åˆå‘å°„äº†ä¸€ä¸ª `A`ï¼ŒStateFlow **å†…éƒ¨ä¼šè‡ªåŠ¨è¿‡æ»¤æ‰**ï¼Œä¸ä¼šé€šçŸ¥è§‚å¯Ÿè€…ã€‚\n  * LiveData æ²¡æœ‰è¿™ä¸ªåŠŸèƒ½ï¼Œè®¾ç½®å‡ æ¬¡å°±é€šçŸ¥å‡ æ¬¡ã€‚\n\n#### 4\\. åç¨‹æµçš„ç”Ÿå‘½å‘¨æœŸå®‰å…¨ (é‡è¦ï¼)\n\n  * LiveData è‡ªåŠ¨æš‚åœã€‚\n  * Flow é»˜è®¤**ä¸æš‚åœ**ã€‚å¦‚æœä½ ç›´æ¥åœ¨ `launch { flow.collect() }` é‡Œæ”¶é›†ï¼ŒAPP åˆ‡åˆ°åå°ï¼Œæµè¿˜åœ¨è·‘ï¼Œä¼šæµªè´¹èµ„æºç”šè‡³å´©æºƒã€‚\n  * **æ­£ç¡®å†™æ³•ï¼š**\n    ```kotlin\n    // åœ¨ Activity/Fragment ä¸­\n    lifecycleScope.launch {\n        repeatOnLifecycle(Lifecycle.State.STARTED) {\n            viewModel.stateFlow.collect { ... }\n        }\n    }\n    ```\n\n-----\n\n### ğŸ’» å››ã€ ä»£ç åœºæ™¯å¯¹æ¯”\n\n#### 1\\. LiveData (è€æ´¾å†™æ³•)\n\n```kotlin\n// ViewModel\nval userName = MutableLiveData<String>()\n\n// Activity\nviewModel.userName.observe(this) { name ->\n    textView.text = name // è‡ªåŠ¨æ„ŸçŸ¥ç”Ÿå‘½å‘¨æœŸï¼Œä½†åœ¨é UI çº¿ç¨‹è®¾å€¼éº»çƒ¦ (postValue)\n}\n```\n\n#### 2\\. StateFlow (UI çŠ¶æ€ - æ¨è)\n\n```kotlin\n// ViewModel\n// å¿…é¡»ç»™åˆå§‹å€¼ \"Loading\"\nprivate val _uiState = MutableStateFlow(\"Loading\")\nval uiState = _uiState.asStateFlow()\n\n// Activity\nlifecycleScope.launch {\n    repeatOnLifecycle(Lifecycle.State.STARTED) {\n        viewModel.uiState.collect { state ->\n            // è‡ªåŠ¨å»é‡ï¼ŒçŠ¶æ€æ›´æ–°\n            textView.text = state \n        }\n    }\n}\n```\n\n#### 3\\. SharedFlow (ä¸€æ¬¡æ€§äº‹ä»¶ - æ¨è)\n\n```kotlin\n// ViewModel\n// replay = 0 ä»£è¡¨ä¸ç¼“å­˜æ—§æ•°æ®ï¼Œæ–°æ¥çš„è§‚å¯Ÿè€…åªæ”¶æœ€æ–°çš„\nprivate val _events = MutableSharedFlow<String>(replay = 0) \nval events = _events.asSharedFlow()\n\nfun loginSuccess() {\n    viewModelScope.launch { _events.emit(\"Login Success!\") }\n}\n\n// Activity\nlifecycleScope.launch {\n    repeatOnLifecycle(Lifecycle.State.STARTED) {\n        viewModel.events.collect { msg ->\n            Toast.makeText(context, msg, Toast.LENGTH_SHORT).show()\n        }\n    }\n}\n```\n\n-----\n\n### ğŸ“ äº”ã€ æ€»ç»“\n\n> \"å¦‚æœæ˜¯åš UI **çŠ¶æ€**å±•ç¤ºï¼ˆå¦‚æ–‡æœ¬ã€åˆ—è¡¨ã€Loadingï¼‰ï¼Œç”¨ **StateFlow**ï¼ˆæ›¿ä»£ LiveDataï¼‰ã€‚\n>\n> å¦‚æœæ˜¯åš**ä¸€æ¬¡æ€§äº‹ä»¶**é€šçŸ¥ï¼ˆå¦‚å¼¹çª—ã€è·³è½¬ã€Snackbarï¼‰ï¼Œç”¨ **SharedFlow**ï¼ˆé…ç½® replay=0ï¼‰ã€‚\n>\n> **LiveData** ç›®å‰ä¸»è¦ç”¨äºç»´æŠ¤æ—§é¡¹ç›®ï¼Œæˆ–è€…ç‰¹åˆ«ç®€å•çš„åœºæ™¯ï¼Œæ–°é¡¹ç›®ä¼˜å…ˆæ‹¥æŠ±åç¨‹æµï¼ˆFlowï¼‰ã€‚\""
    },
    {
      "question": "åç¨‹çš„äº’æ–¥é”ï¼Ÿ",
      "answer": "â€œæŒ‚èµ·ä¸é˜»å¡ï¼Œçº¿ç¨‹å¾—è‡ªç”±ï¼› withLock ä¿å¹³å®‰ï¼Œé»˜è®¤ä¸å¯é‡ã€‚â€\n\näºŒã€ é¢è¯•è®°å¿†å£è¯€\né’ˆå¯¹åç¨‹ Mutex çš„ç‰¹æ€§ï¼Œé€ä½ ä¸€ä¸ª â€œ4å¥è¯â€å£è¯€ï¼š\nâ€œæŒ‚èµ·ä¸é˜»å¡ï¼Œçº¿ç¨‹å¾—è‡ªç”±ï¼› withLock ä¿å¹³å®‰ï¼Œé»˜è®¤ä¸å¯é‡ã€‚â€\nå£è¯€è¯¦è§£ï¼ˆé¢è¯•è¯æœ¯ï¼‰ï¼š\n1. æŒ‚èµ·ä¸é˜»å¡ (Suspending, non-blocking):\nâ€¢ è¿™æ˜¯ Mutex çš„çµé­‚ã€‚å®ƒåªæš‚åœåç¨‹ï¼Œä¸å¡æ­»çº¿ç¨‹ã€‚\n2. çº¿ç¨‹å¾—è‡ªç”± (Thread is free):\nâ€¢ å½“ä¸€ä¸ªåç¨‹åœ¨ç­‰é”çš„æ—¶å€™ï¼Œåº•å±‚çš„çº¿ç¨‹å¯ä»¥å»æ‰§è¡Œå…¶ä»–åç¨‹çš„ä»»åŠ¡ï¼Œæœ€å¤§åŒ–åˆ©ç”¨ CPUã€‚\n3. withLock ä¿å¹³å®‰:\nâ€¢ ç±»ä¼¼äº Java çš„ synchronized ä»£ç å—ï¼ŒKotlin æä¾›äº† mutex.withLock { ... } æ‰©å±•å‡½æ•°ã€‚å®ƒä¼šè‡ªåŠ¨åŠ é”ï¼Œå¹¶åœ¨æ‰§è¡Œå®Œæˆ–æŠ›å¼‚å¸¸æ—¶è‡ªåŠ¨é‡Šæ”¾é”ï¼Œé˜²æ­¢æ­»é”ã€‚\n4. é»˜è®¤ä¸å¯é‡ (Not Reentrant):\nâ€¢ å¤§å‘ï¼ Java çš„é”é»˜è®¤æ˜¯â€œå¯é‡å…¥â€çš„ï¼ˆåŒä¸€ä¸ªçº¿ç¨‹æ‹¿äº†é”è¿˜èƒ½å†æ‹¿ï¼‰ï¼Œä½† Kotlin çš„ Mutex é»˜è®¤æ˜¯ä¸å¯é‡å…¥çš„ã€‚åŒä¸€ä¸ªåç¨‹å¦‚æœé€’å½’è°ƒç”¨ withLockï¼Œä¼šæŠŠè‡ªå·±é”æ­»ï¼ˆDeadlockï¼‰ã€‚",
      "detail": "åœ¨ Android/Kotlin çš„åç¨‹ï¼ˆCoroutinesï¼‰å¼€å‘ä¸­ï¼Œå¤„ç†å¹¶å‘å®‰å…¨é—®é¢˜æ—¶ï¼Œä¼ ç»Ÿçš„ Java é”ï¼ˆ`synchronized` æˆ– `ReentrantLock`ï¼‰å¾€å¾€ä¸å†é€‚ç”¨ï¼Œè¿™æ—¶å°±éœ€è¦ç”¨åˆ°åç¨‹ä¸“å±çš„ **Mutex**ã€‚\n\nä»¥ä¸‹æ˜¯ä¸ºä½ å‡†å¤‡çš„ **åç¨‹äº’æ–¥é” (Mutex)** é¢è¯•æ”»ç•¥ï¼ŒåŒ…å«æ ¸å¿ƒåŸç†ã€é¿å‘æŒ‡å—å’Œè®°å¿†å£è¯€ã€‚\n\n-----\n\n### ğŸš€ ä¸€ã€ æ ¸å¿ƒæ¦‚å¿µï¼šä»€ä¹ˆæ˜¯åç¨‹ Mutexï¼Ÿ\n\n`Mutex` æ˜¯ `kotlinx.coroutines.sync` åŒ…ä¸‹çš„ä¸€ä¸ªæ¥å£ã€‚\nå®ƒçš„ä½œç”¨å’Œ Java çš„ `ReentrantLock` ç±»ä¼¼ï¼Œéƒ½æ˜¯ä¸ºäº†ä¿è¯åŒä¸€æ—¶é—´åªæœ‰ä¸€ä¸ªåç¨‹èƒ½æ‰§è¡ŒæŸæ®µä»£ç ï¼ˆä¸´ç•ŒåŒºï¼‰ã€‚\n\n#### ğŸ”¥ å…³é”®åŒºåˆ«ï¼ˆé¢è¯•å¿…é—®ï¼‰ï¼š\n\n**ä¸ºä»€ä¹ˆåç¨‹é‡Œä¸èƒ½éšä¾¿ç”¨ `synchronized`ï¼Ÿ**\n\n  * **`synchronized` / `ReentrantLock` æ˜¯çº¿ç¨‹é˜»å¡ (Blocking) çš„ï¼š**\n      * å¦‚æœæ‹¿ä¸åˆ°é”ï¼Œå®ƒä¼šè®©å½“å‰**çº¿ç¨‹ (Thread)** åœä¸‹æ¥å‚»ç­‰ã€‚\n      * åœ¨åç¨‹ä¸­ï¼Œå¦‚æœçº¿ç¨‹è¢«é˜»å¡äº†ï¼ˆç‰¹åˆ«æ˜¯ä¸»çº¿ç¨‹ï¼‰ï¼Œè¯¥çº¿ç¨‹ä¸Šçš„å…¶ä»–åç¨‹ä¹Ÿå°±æ²¡æ³•è¿è¡Œäº†ï¼Œå¯èƒ½å¯¼è‡´ UI å¡é¡¿ç”šè‡³ ANRã€‚\n  * **`Mutex` æ˜¯æŒ‚èµ· (Suspending) çš„ï¼š**\n      * å¦‚æœæ‹¿ä¸åˆ°é”ï¼Œå®ƒä¼š**æŒ‚èµ· (Suspend)** å½“å‰åç¨‹ã€‚\n      * **é‡ç‚¹ï¼š** åç¨‹æŒ‚èµ·æ—¶ï¼Œä¼šæŠŠåº•å±‚çš„**çº¿ç¨‹é‡Šæ”¾å‡ºæ¥**å»å¹²åˆ«çš„äº‹ã€‚ç­‰é”é‡Šæ”¾äº†ï¼Œåç¨‹å†æ¢å¤æ‰§è¡Œã€‚\n\n-----\n\n### âš¡ äºŒã€ é¢è¯•è®°å¿†å£è¯€\n\né’ˆå¯¹åç¨‹ Mutex çš„ç‰¹æ€§ï¼Œé€ä½ ä¸€ä¸ª **â€œ4å¥è¯â€å£è¯€**ï¼š\n\n> **â€œæŒ‚èµ·ä¸é˜»å¡ï¼Œçº¿ç¨‹å¾—è‡ªç”±ï¼›**\n> **withLock ä¿å¹³å®‰ï¼Œé»˜è®¤ä¸å¯é‡ã€‚â€**\n\n**å£è¯€è¯¦è§£ï¼ˆé¢è¯•è¯æœ¯ï¼‰ï¼š**\n\n1.  **æŒ‚èµ·ä¸é˜»å¡ (Suspending, non-blocking):**\n      * è¿™æ˜¯ Mutex çš„çµé­‚ã€‚å®ƒåªæš‚åœåç¨‹ï¼Œä¸å¡æ­»çº¿ç¨‹ã€‚\n2.  **çº¿ç¨‹å¾—è‡ªç”± (Thread is free):**\n      * å½“ä¸€ä¸ªåç¨‹åœ¨ç­‰é”çš„æ—¶å€™ï¼Œåº•å±‚çš„çº¿ç¨‹å¯ä»¥å»æ‰§è¡Œå…¶ä»–åç¨‹çš„ä»»åŠ¡ï¼Œæœ€å¤§åŒ–åˆ©ç”¨ CPUã€‚\n3.  **withLock ä¿å¹³å®‰:**\n      * ç±»ä¼¼äº Java çš„ `synchronized` ä»£ç å—ï¼ŒKotlin æä¾›äº† `mutex.withLock { ... }` æ‰©å±•å‡½æ•°ã€‚å®ƒä¼šè‡ªåŠ¨åŠ é”ï¼Œå¹¶åœ¨æ‰§è¡Œå®Œæˆ–æŠ›å¼‚å¸¸æ—¶**è‡ªåŠ¨é‡Šæ”¾é”**ï¼Œé˜²æ­¢æ­»é”ã€‚\n4.  **é»˜è®¤ä¸å¯é‡ (Not Reentrant):**\n      * **å¤§å‘ï¼** Java çš„é”é»˜è®¤æ˜¯â€œå¯é‡å…¥â€çš„ï¼ˆåŒä¸€ä¸ªçº¿ç¨‹æ‹¿äº†é”è¿˜èƒ½å†æ‹¿ï¼‰ï¼Œä½† Kotlin çš„ `Mutex` **é»˜è®¤æ˜¯ä¸å¯é‡å…¥çš„**ã€‚åŒä¸€ä¸ªåç¨‹å¦‚æœé€’å½’è°ƒç”¨ `withLock`ï¼Œä¼šæŠŠè‡ªå·±é”æ­»ï¼ˆDeadlockï¼‰ã€‚\n\n-----\n\n### ğŸ’» ä¸‰ã€ ä»£ç å¯¹æ¯” (ä¸€ç›®äº†ç„¶)\n\n#### 1\\. é”™è¯¯çš„å†™æ³• (åœ¨åç¨‹ç”¨ Java é”)\n\n```kotlin\n// âŒ å±é™©ï¼\nval lock = ReentrantLock()\n\nlaunch(Dispatchers.Main) { // åœ¨ä¸»çº¿ç¨‹\n    lock.lock() // å¦‚æœæ‹¿ä¸åˆ°é”ï¼Œä¸»çº¿ç¨‹ç›´æ¥å¡æ­»ï¼Œç•Œé¢å†»ç»“ï¼\n    try {\n        // ...\n    } finally {\n        lock.unlock()\n    }\n}\n```\n\n#### 2\\. æ­£ç¡®çš„å†™æ³• (ä½¿ç”¨ Mutex)\n\n```kotlin\n// âœ… æ­£ç¡®\nval mutex = Mutex()\n\nlaunch(Dispatchers.Main) {\n    // å¦‚æœæ‹¿ä¸åˆ°é”ï¼Œåç¨‹æŒ‚èµ·ï¼Œä¸»çº¿ç¨‹ä¾ç„¶æµç•…ï¼Œå»æ¸²æŸ“ UI æˆ–å¤„ç†ç‚¹å‡»\n    mutex.withLock {\n        // ä¸´ç•ŒåŒºä»£ç ï¼Œå®‰å…¨ä¿®æ”¹å…±äº«æ•°æ®\n        counter++\n    }\n}\n```\n\n-----\n\n### ğŸ” å››ã€ æ·±åº¦è¿½é—® (è¿›é˜¶)\n\né¢è¯•å®˜å¯èƒ½ä¼šé—®è¿™ä¸¤ä¸ªåˆé’»çš„é—®é¢˜ï¼š\n\n**Q1: Mutex çœŸçš„å®Œå…¨ä¸èƒ½é‡å…¥å—ï¼Ÿ**\n\n  * **ç­”ï¼š** é»˜è®¤æ„é€ å‡½æ•° `Mutex()` åˆ›å»ºçš„æ˜¯ä¸å¯é‡å…¥é”ã€‚å¦‚æœéè¦æ”¯æŒé‡å…¥ï¼ˆReentrantï¼‰ï¼Œè™½ç„¶æŠ€æœ¯ä¸Šå¯ä»¥é€šè¿‡é­”æ”¹å®ç°ï¼Œä½†å®˜æ–¹**å¼ºçƒˆä¸æ¨è**ã€‚åç¨‹çš„è®¾è®¡ç†å¿µå€¾å‘äºç®€å•çš„å¹¶å‘æ¨¡å‹ï¼Œå¦‚æœä½ éœ€è¦é‡å…¥é”ï¼Œé€šå¸¸è¯´æ˜ä½ çš„ä»£ç é€»è¾‘å¤ªå¤æ‚ï¼Œåº”è¯¥é‡æ„ã€‚\n\n**Q2: è¿˜æœ‰æ¯” Mutex æ›´è½»é‡çº§çš„æ–¹æ¡ˆå—ï¼Ÿ**\n\n  * **ç­”ï¼š** æœ‰ã€‚\n      * **å•çº¿ç¨‹é™åˆ¶ (Single Thread Context):** æ¯”å¦‚æŠŠæ“ä½œéƒ½é™åˆ¶åœ¨ `Dispatchers.Main` æˆ–è€…ä¸€ä¸ªä¸“é—¨çš„ `newSingleThreadContext` é‡Œã€‚æ—¢ç„¶éƒ½åœ¨åŒä¸€ä¸ªçº¿ç¨‹æ’é˜Ÿæ‰§è¡Œï¼Œè‡ªç„¶å°±æ²¡æœ‰å¹¶å‘é—®é¢˜äº†ï¼Œè¿é”éƒ½ä¸éœ€è¦ã€‚\n      * **Actor æ¨¡å‹:** ä½¿ç”¨ Channel é€šé“ï¼ŒæŠŠçŠ¶æ€å°è£…åœ¨ä¸€ä¸ª Actor åç¨‹é‡Œï¼Œé€šè¿‡å‘æ¶ˆæ¯æ¥ä¿®æ”¹çŠ¶æ€ï¼ˆä¸è¿‡ Actor API ç›®å‰åœ¨ Kotlin ä¸­æ­£å¤„äºæ›´æ›¿é˜¶æ®µï¼Œæœªæ¥å¯èƒ½ä¼šå˜ï¼‰ã€‚\n\n-----\n\n### ğŸ“ äº”ã€ æ€»ç»“\n\n> \"åœ¨åç¨‹å¼€å‘ä¸­ï¼Œç®¡ç†å…±äº«çŠ¶æ€ä¼˜å…ˆè€ƒè™‘**éé˜»å¡**çš„æ–¹å¼ã€‚\n>\n> å¦‚æœå¿…é¡»åŠ é”ï¼Œè¯·æŠ›å¼ƒ Java çš„ `synchronized`ï¼Œä½¿ç”¨ Kotlin çš„ **`Mutex`**ã€‚\n> å®ƒçš„æ ¸å¿ƒä¼˜åŠ¿æ˜¯**åˆ©ç”¨â€˜æŒ‚èµ·â€™æ›¿ä»£â€˜é˜»å¡â€™**ï¼Œåœ¨ç­‰å¾…é”æ—¶ä¸ä¼šå ç”¨çº¿ç¨‹èµ„æºï¼Œä»è€Œä¿è¯åº”ç”¨çš„é«˜å¹¶å‘æ€§èƒ½å’Œ UI æµç•…åº¦ã€‚\n>\n> å”¯ä¸€è¦æ³¨æ„çš„æ˜¯ï¼Œä½¿ç”¨ `withLock` æ—¶è¦è®°ä½å®ƒ**é»˜è®¤ä¸å¯é‡å…¥**ï¼Œé¿å…è‡ªæˆ‘æ­»é”ã€‚\""
    },
    {
      "question": "åç¨‹æ€ä¹ˆé€šä¿¡çš„ï¼Ÿ",
      "answer": "åç¨‹é—´é€šä¿¡å¸¸ç”¨ StateFlowï¼ˆæœ€æ–°çŠ¶æ€ï¼‰ã€SharedFlowï¼ˆäº‹ä»¶å¹¿æ’­ï¼‰ã€Channel/actorï¼ˆç‚¹å¯¹ç‚¹/ç”Ÿäº§è€…-æ¶ˆè´¹è€…ï¼‰ã€Deferred/CompletableDeferredï¼ˆä¸€æ¬¡æ€§ç»“æœï¼‰åŠ Mutex/åŸå­æ“ä½œï¼ˆå…±äº«å¯å˜çŠ¶æ€ä¿ï¿½ï¿½ï¼‰ã€‚æ¨èç”¨ä¸å¯å˜æ•°æ®æµï¼ˆFlow/StateFlow/SharedFlowï¼‰å’Œç»“æ„åŒ–å¹¶å‘ï¼Œå°½é‡é¿å…æ— ä¿æŠ¤çš„å…±äº«å¯å˜çŠ¶æ€ã€‚",
      "detail": "å¥½â€”â€”æŠŠ **åç¨‹ä¹‹é—´é€šä¿¡** çš„å¸¸ç”¨æ–¹å¼æŒ‰åœºæ™¯/è¯­ä¹‰åˆ†æ¸…æ¥šï¼Œç»™ï¿½ï¿½èƒ½èƒŒèƒ½ç”¨çš„æ•´ç† + ä»£ç ç¤ºä¾‹ + æ³¨æ„ç‚¹ã€‚å…ˆçœ‹ä¸€çœ¼æ€»è¡¨ï¼Œå†å±•å¼€ç¤ºä¾‹ä¸å»ºè®®ã€‚\n\n---\n\n# ä¸€è§ˆï¼ˆå¿«é€Ÿè®°å¿†ï¼‰\n\n* **StateFlow**ï¼šçƒ­æµï¼Œä¿å­˜æœ€æ–°çŠ¶æ€ï¼Œé€‚åˆ UI çŠ¶æ€ï¼ˆå•å€¼ã€å¯è§‚æµ‹ï¼‰ã€‚\n* **SharedFlow**ï¼šçƒ­æµï¼Œå¹¿æ’­/äº‹ä»¶ï¼Œå¤šæ¶ˆè´¹è€…ï¼Œå¯é…ç½® replay/ç¼“å†²ï¼Œé€‚åˆäº‹ä»¶/æ¶ˆæ¯æ€»çº¿ã€‚\n* **Channel / Actor**ï¼šç‚¹å¯¹ç‚¹æˆ–æµæ°´çº¿é€šä¿¡ï¼ˆç±»ä¼¼é˜»å¡é˜Ÿåˆ—ï¼‰ï¼Œé€‚åˆç”Ÿäº§è€…â€”æ¶ˆè´¹è€…ã€pipelineã€‚\n* **Deferred / CompletableDeferred**ï¼šä¸€å¯¹ä¸€çš„â€œæœªæ¥ç»“æœâ€ï¼ˆPromiseï¼‰ï¼Œé€‚åˆä¸€æ¬¡æ€§ç»“æœä¼ é€’ã€‚\n* **Mutex / Atomic / synchronized**ï¼šå…±äº«å¯å˜çŠ¶æ€çš„åŒæ­¥ä¿æŠ¤ï¼ˆåªåœ¨å¿…é¡»å…±äº«å¯å˜æ•°æ®æ—¶ç”¨ï¼‰ã€‚\n* **Flowsï¼ˆå†·æµï¼‰+ combine/buffer**ï¼šæŠŠå¤šä¸ªæ•°æ®æºåˆå¹¶æˆ–åšæµå¼å¤„ç†ï¼ˆæ•°æ®é©±åŠ¨é€šä¿¡ï¼‰ã€‚\n* **ç»“æ„åŒ–å¹¶å‘ï¼ˆJob/CoroutineScopeï¼‰**ï¼šçˆ¶å­åç¨‹é—´é€šè¿‡ Job ä¼ æ’­å–æ¶ˆ/å¼‚å¸¸ï¼Œéšå¼é€šä¿¡ï¼ˆç”Ÿå‘½å‘¨æœŸã€å–æ¶ˆä¿¡å·ï¼‰ã€‚\n\n---\n\n# 1) æ¨èï¼š`StateFlow`ï¼ˆUI çŠ¶æ€ / æœ€æ–°å€¼ï¼‰\n\né€‚åˆï¼šæƒ³è®©å¤šä¸ªåç¨‹/ç»„ä»¶å§‹ç»ˆèƒ½æ‹¿åˆ°**æœ€æ–°çŠ¶æ€**ï¼ˆæ¯”å¦‚ ViewModel â†’ Activityï¼‰ã€‚\n\n```kotlin\n// ViewModel\nprivate val _state = MutableStateFlow(0)\nval state: StateFlow<Int> = _state\n\nfun increment() { _state.value += 1 }\n\n// Any coroutine\nlaunch {\n    viewModel.state.collect { value ->\n        println(\"æœ€æ–°å€¼ $value\")\n    }\n}\n```\n\n**ä¼˜ç‚¹**ï¼šç¨³å®šã€æŒæœ‰æœ€æ–°å€¼ã€ä¸ lifecycleScope/LiveData ç±»ä¼¼ã€‚\n**æ³¨æ„**ï¼šStateFlow æ€»æœ‰åˆå§‹å€¼ï¼ˆé nullableï¼‰ã€‚\n\n---\n\n# 2) äº‹ä»¶å¹¿æ’­ï¼š`SharedFlow`ï¼ˆæ›¿ä»£æ—§çš„ BroadcastChannelï¼‰\n\né€‚åˆï¼šä¸€æ¬¡æ€§äº‹ä»¶ã€å¤šè®¢é˜…è€…ï¼ˆToastã€å¯¼èˆªã€ä¸€æ¬¡æ€§é€šçŸ¥ï¼‰ã€‚\n\n```kotlin\nprivate val _events = MutableSharedFlow<String>(replay = 0)\nval events = _events.asSharedFlow()\n\nsuspend fun sendEvent(msg: String) { _events.emit(msg) }\n\n// æ”¶é›†ç«¯\nlaunch {\n    viewModel.events.collect { println(\"æ”¶åˆ°äº‹ä»¶: $it\") }\n}\n```\n\n**å¸¸ç”¨å‚æ•°**ï¼š`replay`ï¼ˆé‡æ”¾æœ€è¿‘ n æ¡ï¼‰ï¼Œ`extraBufferCapacity`ï¼ˆç¼“å†²ï¼‰ï¼Œ`onBufferOverflow`ï¼ˆæº¢å‡ºç­–ç•¥ï¼‰ã€‚\n**æ³¨æ„**ï¼šå¦‚æœæ˜¯â€œåªè¦æœ€æ–°ä¸€ä¸ªå€¼â€çš„äº‹ä»¶ï¼Œå¯ä»¥ç”¨ `replay = 1` æˆ–è€ƒè™‘ `ConflatedBroadcastChannel` çš„æ›¿ä»£è¯­ä¹‰ï¼ˆç°åœ¨ä¸æ¨èæ—§ APIï¼‰ã€‚\n\n---\n\n# 3) ç‚¹å¯¹ç‚¹ & backpressureï¼š`Channel`ï¼ˆå’Œ actor æ¨¡å¼ï¼‰\n\né€‚åˆï¼šç”Ÿäº§è€…â€”æ¶ˆè´¹è€…ã€pipelineã€èƒŒå‹æ§åˆ¶ã€‚\n\n```kotlin\nval channel = Channel<Int>(capacity = Channel.BUFFERED)\n\nlaunch {\n    // producer\n    repeat(5) {\n        channel.send(it)\n    }\n    channel.close()\n}\n\nlaunch {\n    // consumer\n    for (v in channel) {\n        println(\"consume $v\")\n    }\n}\n```\n\n**actor æ¨¡å¼**ï¼ˆæŠŠçŠ¶æ€å°è£…åœ¨å•åç¨‹å†…ï¼‰ï¼š\n\n```kotlin\nfun CoroutineScope.counterActor() = actor<Int> {\n    var counter = 0\n    for (msg in channel) {\n        counter += msg\n        println(\"counter=$counter\")\n    }\n}\n```\n\n**æ³¨æ„**ï¼šé€‰æ‹© `capacity`ï¼ˆUNLIMITED / CONFLATED / BUFFEREDï¼‰å½±å“å†…å­˜ä¸ä¸¢å¤±ç­–ç•¥ï¼›ä½¿ç”¨ `close()` ç»“æŸæµï¼›å¤„ç†å–æ¶ˆ/å¼‚å¸¸ã€‚\n\n---\n\n# 4) ä¸€æ¬¡æ€§ç»“æœï¼š`Deferred` / `CompletableDeferred`\n\né€‚åˆï¼šä¸€ä¸ªåç¨‹éœ€è¦ç­‰å¾…å¦ä¸€ä¸ªåç¨‹â€œè®¡ç®—å‡ºä¸€ä¸ªå€¼â€ã€‚\n\n```kotlin\nval def = CompletableDeferred<Int>()\n\nlaunch {\n    delay(1000)\n    def.complete(42)   // å‘ç»“æœ\n}\n\nlaunch {\n    val result = def.await()  // ç­‰å¾…ç»“æœ\n    println(result)\n}\n```\n\n`async { ... }` è¿”å› `Deferred`ï¼Œå¸¸ç”¨äºå¹¶å‘è®¡ç®—å¹¶ `await()`ã€‚\n\n---\n\n# 5) æ§åˆ¶å…±äº«å¯å˜çŠ¶æ€ï¼š`Mutex`ã€`Atomic`ã€`withContext(Dispatchers.Default)`\n\nå½“å¿…é¡»å¤šä¸ªåç¨‹è®¿é—®åŒä¸€ä¸ªå¯å˜å¯¹è±¡æ—¶ï¼Œä½¿ç”¨åŒæ­¥åŸè¯­ï¼š\n\n```kotlin\nval mutex = Mutex()\nvar count = 0\n\nrepeat(1000) {\n    launch {\n        mutex.withLock { count++ }\n    }\n}\n```\n\næˆ–è€…ä½¿ç”¨ `AtomicInteger` / `volatile` / æŠŠçŠ¶æ€é™åˆ¶åˆ°å•ä¸ª actorï¼ˆæ›´æ¨è actorï¼‰ã€‚\n\n---\n\n# 6) Flowï¼ˆå†·æµï¼‰ä½œä¸ºé€šä¿¡ï¼šcombine / flatMap / buffer\n\nå½“æ•°æ®æºæ˜¯æµå¼çš„ã€éœ€è¦åˆå¹¶æˆ–è½¬æ¢æ—¶ï¼Œç”¨ Flowï¼š\n\n```kotlin\nval f1 = flow { emit(1); delay(100); emit(2) }\nval f2 = flowOf(\"A\",\"B\")\nflow { emitAll(f1) }\ncombine(f1, f2) { a, b -> \"$a & $b\" }.collect { ... }\n```\n\n`buffer()` å¯ä»¥åœ¨æ“ä½œç¬¦é—´å¢åŠ å¹¶å‘/ç¼“å†²ï¼Œæå‡ååã€‚\n\n---\n\n# 7) çˆ¶å­åç¨‹çš„é€šä¿¡ï¼ˆç»“æ„åŒ–å¹¶å‘ï¼‰\n\nçˆ¶åç¨‹å¯ä»¥é€šè¿‡ `Job` å–æ¶ˆæ‰€æœ‰å­åç¨‹ï¼Œå­åç¨‹å¼‚å¸¸ä¼šä¼ é€’ç»™çˆ¶åç¨‹ï¼ˆå¯ç”¨ `supervisorScope` æ”¹å˜ä¼ æ’­è¡Œä¸ºï¼‰ã€‚è¿™æ˜¯æ§åˆ¶åç¨‹ç»„ç”Ÿå‘½å‘¨æœŸä¸é”™è¯¯ä¼ é€’çš„â€œéšå¼é€šä¿¡â€ã€‚\n\n```kotlin\nval parentJob = CoroutineScope(Dispatchers.Default).launch {\n    launch { /* child1 */ }\n    launch { /* child2 */ }\n}\nparentJob.cancel() // å–æ¶ˆæ‰€æœ‰å­åç¨‹\n```\n\n---\n\n# å®è·µå»ºè®®ï¼ˆç»éªŒæ³•åˆ™ï¼‰\n\n1. **UI çŠ¶æ€ â†’ StateFlowï¼›äº‹ä»¶ â†’ SharedFlow**ï¼ˆè¿™æ˜¯æœ€å¸¸è§ä¸”å¯é çš„ç»„åˆï¼‰ã€‚\n2. **ç”Ÿäº§/æ¶ˆè´¹æˆ– pipeline â†’ Channel / actor**ï¼ˆå½“ä½ éœ€è¦èƒŒå‹æˆ–æœ‰æ˜ç¡®é˜Ÿåˆ—è¯­ä¹‰æ—¶ï¼‰ã€‚\n3. **ä¸€æ¬¡æ€§ç­”å¤ â†’ CompletableDeferred / Deferred**ã€‚\n4. **å°½é‡é¿å…å…±äº«å¯å˜çŠ¶æ€**ï¼Œprefer immutable data + flows æˆ–å°†çŠ¶æ€é™åˆ¶åœ¨å•åç¨‹ï¼ˆactorï¼‰ã€‚\n5. **æ³¨æ„å–æ¶ˆå’Œå¼‚å¸¸ä¼ æ’­**ï¼šåœ¨å‘é€/emit å‰æ£€æŸ¥åç¨‹æ˜¯å¦è¢«å–æ¶ˆï¼Œå¤„ç† `ClosedSendChannelException`ã€‚\n6. **èµ„æºé‡Šæ”¾**ï¼šå…³é—­ channelsã€ä¸è¦æ³„æ¼ flow collectorsï¼ˆåœ¨ lifecycleScope æ”¶é›†å¹¶åœ¨ onDestroy è‡ªåŠ¨å–æ¶ˆï¼‰ã€‚\n\n---\n\n# é¢è¯•ä¸€å¥è¯æ€»ç»“ï¼ˆç®€æ´ç‰ˆï¼‰\n\n> åç¨‹é—´é€šä¿¡å¸¸ç”¨ StateFlowï¼ˆæœ€æ–°çŠ¶æ€ï¼‰ã€SharedFlowï¼ˆäº‹ä»¶å¹¿æ’­ï¼‰ã€Channel/actorï¼ˆç‚¹å¯¹ç‚¹/ç”Ÿäº§è€…-æ¶ˆè´¹è€…ï¼‰ã€Deferred/CompletableDeferredï¼ˆä¸€æ¬¡æ€§ç»“æœï¼‰åŠ Mutex/åŸå­æ“ä½œï¼ˆå…±äº«å¯å˜çŠ¶æ€ä¿æŠ¤ï¼‰ã€‚æ¨èç”¨ä¸å¯å˜æ•°æ®æµï¼ˆFlow/StateFlow/SharedFlowï¼‰å’Œç»“æ„åŒ–å¹¶å‘ï¼Œå°½é‡é¿å…æ— ä¿æŠ¤çš„å…±äº«å¯å˜çŠ¶æ€ã€‚\n\n---\n\néœ€è¦æˆ‘æŠŠä¸Šé¢çš„æ¯ä¸€ç§åšæˆä¸€ä¸ªå° Demo é¡¹ç›®ï¼ˆå¯ç›´æ¥å¤åˆ¶è¿è¡Œçš„ Android/Kotlin ç¤ºä¾‹ï¼‰ï¼Ÿæˆ–è€…æŠŠé‡ç‚¹åšæˆä¸€é¡µ **é¢è¯•é€Ÿè®°å¡ç‰‡ PDF**ï¼Ÿ\n"
    },
    {
      "question": "Hilt å’Œkoin æ¡†æ¶ï¼Ÿ",
      "answer": "Hilt æ˜¯ Google å®˜æ–¹æ¨èçš„ä¾èµ–æ³¨å…¥æ¡†æ¶ï¼ŒåŸºäº Daggerï¼Œä½¿ç”¨æ³¨è§£æ–¹å¼è¿›è¡Œç¼–è¯‘æœŸä¾èµ–æ³¨å…¥ï¼Œç±»å‹å®‰å…¨ã€æ€§èƒ½é«˜ï¼Œå¹¶æ·±åº¦é›†æˆ Jetpack ç»„ä»¶ã€‚\nKoin æ˜¯è½»é‡çº§ DI æ¡†æ¶ï¼Œä½¿ç”¨ Kotlin DSL è¿›è¡Œè¿è¡Œæ—¶æ³¨å…¥ï¼Œæ˜“ä¸Šæ‰‹ï¼Œçµæ´»å¿«é€Ÿï¼Œä½†ç±»å‹å®‰å…¨å’Œæ€§èƒ½ç•¥ä½ã€‚\né€‰æ‹© Hilt æ›´é€‚åˆå¤§å‹é¡¹ç›®æˆ–è¿½æ±‚æ€§èƒ½ï¼ŒKoin æ›´é€‚åˆå¿«é€Ÿå¼€å‘å’Œå°å‹é¡¹ç›®ã€‚",
      "detail": "å¥½çš„ï¼Œæˆ‘å¸®ä½ æ•´ç† **Hilt å’Œ Koin** è¿™ä¸¤ä¸ª Android ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰æ¡†æ¶çš„å…¨é¢å¯¹æ¯”ï¼Œæ–¹ä¾¿è®°å¿†ã€é¢è¯•å›ç­”ã€å®é™…å¼€å‘ä½¿ç”¨ã€‚\n\n---\n\n# 1ï¸âƒ£ ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰åŸºç¡€\n\n**ä¾èµ–æ³¨å…¥**ï¼šå¯¹è±¡ä¸è‡ªå·±åˆ›å»ºä¾èµ–ï¼Œè€Œç”±æ¡†æ¶æä¾› â†’ å‡å°‘è€¦åˆã€ä¾¿äºæµ‹è¯•ã€‚\nAndroid å¸¸ç”¨ DI æ¡†æ¶æœ‰ **Dagger/Hilt**ï¼ˆé™æ€ç¼–è¯‘ï¼‰å’Œ **Koin**ï¼ˆè¿è¡Œæ—¶åå°„/DSLï¼‰ã€‚\n\n---\n\n# 2ï¸âƒ£ Hiltï¼ˆGoogle å®˜æ–¹æ¨èï¼‰\n\n### âœ… ç‰¹ç‚¹\n\n* åŸºäº **Dagger**ï¼ˆé™æ€æ³¨å…¥ï¼Œç¼–è¯‘æœŸç”Ÿæˆä»£ç ï¼‰\n* **ä¾èµ–ç±»å‹å®‰å…¨**ã€ç¼–è¯‘æœŸæ£€æŸ¥ã€æ€§èƒ½é«˜\n* ä¸ **Jetpack** æ·±åº¦é›†æˆï¼ˆActivityã€Fragmentã€ViewModelã€Serviceã€Workerï¼‰\n\n### ğŸ”¹ åŸºæœ¬ç”¨æ³•\n\n```kotlin\n// AppModule.kt\n@Module\n@InstallIn(SingletonComponent::class)\nobject AppModule {\n    @Provides\n    fun provideRepository(): UserRepository = UserRepositoryImpl()\n}\n\n// æ³¨å…¥åœ°æ–¹\n@AndroidEntryPoint\nclass MainActivity : AppCompatActivity() {\n    @Inject lateinit var repository: UserRepository\n}\n```\n\n### ğŸ”¹ ç‰¹ç‚¹æ€»ç»“\n\n| ç‚¹    | æè¿°                                              |\n| ---- | ----------------------------------------------- |\n| æ³¨è§£æ–¹å¼ | `@Module`, `@InstallIn`, `@Provides`, `@Inject` |\n| ç”Ÿå‘½å‘¨æœŸ | é€šè¿‡ `@Singleton`, `@ActivityScoped` ç­‰ç®¡ç†          |\n| ä¼˜åŠ¿   | ç±»å‹å®‰å…¨ã€æ€§èƒ½å¥½ã€ç¼–è¯‘æœŸæŠ¥é”™                                  |\n| åŠ£åŠ¿   | éœ€è¦ç”Ÿæˆä»£ç ï¼Œå­¦ä¹ æˆæœ¬ç¨é«˜ï¼Œæ¨¡æ¿å¤š                               |\n\n---\n\n# 3ï¸âƒ£ Koinï¼ˆè½»é‡çº§ DI æ¡†æ¶ï¼‰\n\n### âœ… ç‰¹ç‚¹\n\n* **Kotlin DSL**ï¼Œæ— æ³¨è§£ã€æ— ç¼–è¯‘æœŸç”Ÿæˆ\n* è¿è¡Œæ—¶æ³¨å…¥ï¼Œæ˜“ç”¨ã€è½»é‡\n* çµæ´»ï¼Œå¿«é€Ÿä¸Šæ‰‹\n\n### ğŸ”¹ åŸºæœ¬ç”¨æ³•\n\n```kotlin\n// module\nval appModule = module {\n    single<UserRepository> { UserRepositoryImpl() }\n}\n\n// å¯åŠ¨ Koin\nstartKoin {\n    androidContext(this@MyApp)\n    modules(appModule)\n}\n\n// æ³¨å…¥\nclass MainActivity : AppCompatActivity() {\n    private val repository: UserRepository by inject()\n}\n```\n\n### ğŸ”¹ ç‰¹ç‚¹æ€»ç»“\n\n| ç‚¹    | æè¿°                            |\n| ---- | ----------------------------- |\n| æ³¨è§£   | æ— ï¼Œå…¨éƒ¨ç”¨ DSL                     |\n| ç”Ÿå‘½å‘¨æœŸ | `single`(å•ä¾‹), `factory`(æ¯æ¬¡æ–°å»º) |\n| ä¼˜åŠ¿   | ç®€å•å¿«é€Ÿã€å¯æµ‹è¯•æ€§å¥½ã€æ— éœ€ç”Ÿæˆä»£ç              |\n| åŠ£åŠ¿   | ç±»å‹å®‰å…¨è¾ƒå¼±ã€è¿è¡Œæ—¶å‘ç°é—®é¢˜ã€æ€§èƒ½ç•¥ä½äº Hilt     |\n\n---\n\n# 4ï¸âƒ£ Hilt vs Koin å¯¹æ¯”\n\n| ç‰¹æ€§         | Hilt        | Koin        |\n| ---------- | ----------- | ----------- |\n| ç”Ÿæˆæ–¹å¼       | ç¼–è¯‘æœŸç”Ÿæˆ       | è¿è¡Œæ—¶         |\n| ç±»å‹å®‰å…¨       | é«˜           | ä¸­ç­‰          |\n| å­¦ä¹ æˆæœ¬       | è¾ƒé«˜          | ä½           |\n| Jetpack é›†æˆ | å®˜æ–¹æ”¯æŒ        | å¯ç”¨ï¼Œä½†éœ€æ‰‹åŠ¨     |\n| æ€§èƒ½         | é«˜           | ç•¥ä½          |\n| DSL / æ³¨è§£   | æ³¨è§£          | DSL         |\n| é€‚ç”¨åœºæ™¯       | å¤§å‹é¡¹ç›® / æ€§èƒ½æ•æ„Ÿ | å°å‹é¡¹ç›® / å¿«é€Ÿè¿­ä»£ |\n\n---\n\n# 5ï¸âƒ£ é¢è¯•å›ç­”æ¨¡æ¿\n\n> **Hilt** æ˜¯ Google å®˜æ–¹æ¨èçš„ä¾èµ–æ³¨å…¥æ¡†æ¶ï¼ŒåŸºäº Daggerï¼Œä½¿ç”¨æ³¨è§£æ–¹å¼è¿›è¡Œç¼–è¯‘æœŸä¾èµ–æ³¨å…¥ï¼Œç±»å‹å®‰å…¨ã€æ€§èƒ½é«˜ï¼Œå¹¶æ·±åº¦é›†æˆ Jetpack ç»„ä»¶ã€‚\n> **Koin** æ˜¯è½»é‡çº§ DI æ¡†æ¶ï¼Œä½¿ç”¨ Kotlin DSL è¿›è¡Œè¿è¡Œæ—¶æ³¨å…¥ï¼Œæ˜“ä¸Šæ‰‹ï¼Œçµæ´»å¿«é€Ÿï¼Œä½†ç±»å‹å®‰å…¨å’Œæ€§èƒ½ç•¥ä½ã€‚\n> é€‰æ‹© Hilt æ›´é€‚åˆå¤§å‹é¡¹ç›®æˆ–è¿½æ±‚æ€§èƒ½ï¼ŒKoin æ›´é€‚åˆå¿«é€Ÿå¼€å‘å’Œå°å‹é¡¹ç›®ã€‚\n\n---\n\næˆ‘å¯ä»¥å¸®ä½ ç”»ä¸€å¼  **Hilt vs Koin å¯¹æ¯”å›¾ + ä½¿ç”¨åœºæ™¯å›¾**ï¼Œæ–¹ä¾¿ä¸€çœ¼è®°å¿†ã€‚\n\nä½ æƒ³è¦å—ï¼ŸğŸ“Š\n"
    },
    {
      "question": "kotlin dsl æ˜¯ä»€ä¹ˆï¼Ÿ",
      "answer": "Kotlin DSL æ˜¯ç”¨ Kotlin è¯­è¨€ç‰¹æ€§ï¼ˆé«˜é˜¶å‡½æ•°ã€Lambda with Receiverã€æ‰©å±•å‡½æ•°ï¼‰åˆ›å»ºçš„é¢†åŸŸä¸“ç”¨è¯­è¨€ï¼Œä½¿ä»£ç åƒè‡ªç„¶è¯­è¨€æˆ–é…ç½®æ–‡ä»¶ä¸€æ ·å¯è¯»ã€‚\nå¸¸è§åœºæ™¯æœ‰ Gradle Kotlin DSLã€Jetpack Composeã€Koinã€kotlinx.html ç­‰ã€‚DSL æé«˜äº†ä»£ç å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œæ˜¯ Kotlin é«˜çº§ç‰¹æ€§ä¹‹ä¸€ã€‚",
      "detail": "å¥½çš„ï¼Œæˆ‘ç»™ä½ ç³»ç»Ÿæ•´ç† **Kotlin DSL** çš„æ¦‚å¿µã€åŸç†ã€ç‰¹ç‚¹å’Œç”¨æ³•ï¼Œæ–¹ä¾¿è®°å¿†å’Œé¢è¯•å›ç­”ã€‚\n\n---\n\n# 1ï¸âƒ£ Kotlin DSL æ˜¯ä»€ä¹ˆï¼Ÿ\n\n**DSL** = **Domain Specific Language**ï¼ˆé¢†åŸŸä¸“ç”¨è¯­è¨€ï¼‰\n\n> DSL æ˜¯é’ˆå¯¹æŸä¸ªç‰¹å®šé¢†åŸŸï¼ˆå¦‚æ„å»ºè„šæœ¬ã€UIå¸ƒå±€ã€ä¾èµ–æ³¨å…¥ï¼‰è®¾è®¡çš„è¯­è¨€ï¼Œè®©ä»£ç åƒâ€œè‡ªç„¶è¯­è¨€â€æˆ–é…ç½®æ–‡ä»¶ä¸€æ ·å¯è¯»ã€‚\n\n**Kotlin DSL** å°±æ˜¯ç”¨ **Kotlin è¯­è¨€æœ¬èº«çš„ç‰¹æ€§**æ¥å†™ DSLï¼š\n\n* åˆ©ç”¨ **é«˜é˜¶å‡½æ•°ã€Lambdaã€æ‰©å±•å‡½æ•°ã€æ¥æ”¶è€…å‡½æ•°**\n* å†™å‡ºæ¥çš„ä»£ç  **åƒé…ç½®æ–‡ä»¶æˆ–è‡ªç„¶è¯­è¨€**\n* å¹¿æ³›ç”¨äº Gradleã€Koinã€Jetpack Compose\n\n---\n\n# 2ï¸âƒ£ Kotlin DSL çš„æ ¸å¿ƒç‰¹æ€§\n\n1. **Lambda with Receiver**\n\n   ```kotlin\n   class Html {\n       fun body(block: Body.() -> Unit) { Body().block() }\n   }\n\n   class Body {\n       fun p(text: String) = println(\"<p>$text</p>\")\n   }\n\n   fun html(block: Html.() -> Unit) = Html().block()\n\n   html {\n       body {\n           p(\"Hello Kotlin DSL\")\n       }\n   }\n   ```\n\n   âœ… ç»“æœåƒ HTMLï¼Œæ˜“è¯»\n\n2. **æ‰©å±•å‡½æ•°**\n   å¯ä»¥ä¸ºç°æœ‰ç±»å¢åŠ  DSL æ–¹æ³•\n\n   ```kotlin\n   fun String.bold() = \"<b>$this</b>\"\n   println(\"Hello\".bold())  // <b>Hello</b>\n   ```\n\n3. **é«˜é˜¶å‡½æ•°**\n   DSL æœ¬è´¨æ˜¯å‡½æ•°å¼ç¼–ç¨‹ + æ¥æ”¶è€…\n\n   ```kotlin\n   fun build(block: Builder.() -> Unit) { Builder().block() }\n   ```\n\n4. **å¯è¯»æ€§**\n\n   * åƒé…ç½®æ–‡ä»¶\n   * åƒè‡ªç„¶è¯­è¨€\n   * æ–¹ä¾¿éç¨‹åºå‘˜æˆ–å›¢é˜Ÿå¿«é€Ÿç†è§£\n\n---\n\n# 3ï¸âƒ£ Kotlin DSL åº”ç”¨åœºæ™¯\n\n| åœºæ™¯      | æ¡ˆä¾‹                                     |\n| ------- | -------------------------------------- |\n| æ„å»ºè„šæœ¬    | Gradle Kotlin DSL (`build.gradle.kts`) |\n| UI      | Jetpack Compose                        |\n| DI      | Koin modules                           |\n| æµ‹è¯•/Mock | MockK DSL                              |\n| é…ç½®      | kotlinx.html / HTML æ„å»ºå™¨                |\n\n---\n\n# 4ï¸âƒ£ Kotlin DSL ç¤ºä¾‹ï¼šKoin Module\n\n```kotlin\nval appModule = module {\n    single { UserRepository() }       // å•ä¾‹\n    factory { UserViewModel(get()) }  // æ¯æ¬¡åˆ›å»ºæ–°å¯¹è±¡\n}\n```\n\n* `module { ... }` æ˜¯ DSL\n* `single` / `factory` æ˜¯ DSL å†…çš„å‡½æ•°\n* é€šè¿‡ Lambda with receiver å®ç°äº†â€œè‡ªç„¶è¯­è¨€å¼â€è°ƒç”¨\n\n---\n\n# 5ï¸âƒ£ Kotlin DSL é¢è¯•å›ç­”æ¨¡æ¿\n\n> Kotlin DSL æ˜¯ç”¨ Kotlin è¯­è¨€ç‰¹æ€§ï¼ˆé«˜é˜¶å‡½æ•°ã€Lambda with Receiverã€æ‰©å±•å‡½æ•°ï¼‰åˆ›å»ºçš„é¢†åŸŸä¸“ç”¨è¯­è¨€ï¼Œä½¿ä»£ç åƒè‡ªç„¶è¯­è¨€æˆ–é…ç½®æ–‡ä»¶ä¸€æ ·å¯è¯»ã€‚\n> å¸¸è§åœºæ™¯æœ‰ Gradle Kotlin DSLã€Jetpack Composeã€Koinã€kotlinx.html ç­‰ã€‚DSL æé«˜äº†ä»£ç å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œæ˜¯ Kotlin é«˜çº§ç‰¹æ€§ä¹‹ä¸€ã€‚\n\n---\n\nå¦‚æœä½ æ„¿æ„ï¼Œæˆ‘å¯ä»¥å¸®ä½ ç”»ä¸€å¼  **Kotlin DSL æ ¸å¿ƒç‰¹æ€§+ç¤ºä¾‹å›¾**ï¼Œä¸€é¡µå°±èƒ½è®°ä½å…¨éƒ¨æ¦‚å¿µå’Œç”¨æ³•ï¼Œéå¸¸é€‚åˆé¢è¯•èƒŒè¯µã€‚\n\nä½ æƒ³è¦å—ï¼ŸğŸ“Š\n"
    },
    {
      "question": "7ï¼ŒÂ Compose æ˜¯ä»€ä¹ˆï¼Ÿç”Ÿå‘½å‘¨æœŸï¼Ÿé™„å¸¦æ•ˆåº” ï¼Ÿæ€ä¹ˆè§£å†³é™„å¸¦æ•ˆåº”ï¼Ÿ",
      "answer": "Jetpack Compose æ˜¯ Android çš„å£°æ˜å¼ UI æ¡†æ¶ï¼Œç”¨ Kotlin å†™ UIï¼ŒçŠ¶æ€æ”¹å˜ä¼šè‡ªåŠ¨åˆ·æ–°ç•Œé¢ã€‚\nComposable ç”Ÿå‘½å‘¨æœŸåŒ…æ‹¬ Compositionï¼ˆåˆæ¬¡æ„å»ºï¼‰ã€Recompositionï¼ˆçŠ¶æ€æ›´æ–°åˆ·æ–°ï¼‰ã€Disposalï¼ˆUI é”€æ¯ï¼‰ã€‚\né™„å¸¦æ•ˆåº”æ˜¯æŒ‡åœ¨ Composable ä¸­æ‰§è¡Œ IOã€å¯¼èˆªã€Toast ç­‰å‰¯ä½œç”¨ï¼Œç›´æ¥å†™ä¼šéšé‡ç»„é‡å¤æ‰§è¡Œã€‚\nCompose æä¾› LaunchedEffectã€SideEffectã€DisposableEffect ç­‰ API æ¥å¤„ç†å‰¯ä½œç”¨ï¼Œä¿è¯åªæ‰§è¡Œä¸€æ¬¡æˆ–å¯æ¸…ç†ã€‚",
      "detail": "å¥½çš„ï¼Œæˆ‘å¸®ä½ ç³»ç»Ÿæ•´ç† **Jetpack Compose** çš„æ¦‚å¿µã€ç”Ÿå‘½å‘¨æœŸã€é™„å¸¦æ•ˆåº”åŠè§£å†³åŠæ³•ï¼Œæ–¹ä¾¿è®°å¿†å’Œé¢è¯•å›ç­”ã€‚\n\n---\n\n# 1ï¸âƒ£ Compose æ˜¯ä»€ä¹ˆï¼Ÿ\n\n**Jetpack Compose** æ˜¯ **Android çš„å£°æ˜å¼ UI æ¡†æ¶**ï¼Œç”¨ Kotlin å†™ UIï¼Œä¸å†ä½¿ç”¨ XMLã€‚\n\nç‰¹ç‚¹ï¼š\n\n* **å£°æ˜å¼**ï¼šUI ç”±çŠ¶æ€é©±åŠ¨ï¼Œä¸æ‰‹åŠ¨æ›´æ–°ç•Œé¢\n* **Kotlin åŸç”Ÿ**ï¼šä½¿ç”¨ Kotlin å‡½æ•°ã€Lambdaã€DSL\n* **å¯ç»„åˆ**ï¼šä¸€åˆ‡éƒ½æ˜¯ Composable å‡½æ•°\n\n```kotlin\n@Composable\nfun Greeting(name: String) {\n    Text(text = \"Hello $name\")\n}\n```\n\n> ä½ ä¼ å…¥ä»€ä¹ˆçŠ¶æ€ï¼Œç•Œé¢å°±æ˜¾ç¤ºä»€ä¹ˆï¼ŒçŠ¶æ€æ”¹å˜è‡ªåŠ¨åˆ·æ–° UIã€‚\n\n---\n\n# 2ï¸âƒ£ Compose ç”Ÿå‘½å‘¨æœŸ\n\nCompose çš„ç”Ÿå‘½å‘¨æœŸå’Œ **Composable å‡½æ•°çš„é‡ç»„ï¼ˆrecompositionï¼‰** ç´§å¯†ç›¸å…³ï¼š\n\n| é˜¶æ®µ            | è¯´æ˜             |\n| ------------- | -------------- |\n| Composition   | åˆæ¬¡ UI æ„å»º       |\n| Recomposition | å½“çŠ¶æ€æ”¹å˜æ—¶ï¼ŒUI å±€éƒ¨åˆ·æ–° |\n| Disposal      | ä¸å†æ˜¾ç¤ºæ—¶ï¼Œæ¸…ç†èµ„æº     |\n\n* æ¯æ¬¡ **çŠ¶æ€å˜åŒ–**ï¼ŒCompose ä¼š **é‡ç»„ (recompose)** å‡½æ•°\n* Compose ä¼šå°½é‡ **åªåˆ·æ–°å—å½±å“çš„éƒ¨åˆ†**\n* ç”Ÿå‘½å‘¨æœŸç”± **Compose runtime + ViewModel/State** ç®¡ç†\n\n---\n\n# 3ï¸âƒ£ é™„å¸¦æ•ˆåº”ï¼ˆSide Effectï¼‰\n\n> åœ¨ Compose ä¸­ï¼Œå¦‚æœä½ åœ¨ `@Composable` å‡½æ•°ä¸­åšäº† **IOã€å¯¼èˆªã€Toastã€æ•°æ®åº“å†™å…¥ã€ç½‘ç»œè¯·æ±‚ç­‰å‰¯ä½œç”¨**ï¼Œå°±å±äºé™„å¸¦æ•ˆåº”ã€‚\n\né—®é¢˜ï¼š\n\n* Composable ä¼š **å¤šæ¬¡é‡ç»„**\n* ç›´æ¥åœ¨å‡½æ•°é‡Œåšå‰¯ä½œç”¨å¯èƒ½ **è¢«é‡å¤æ‰§è¡Œ**\n\n```kotlin\n@Composable\nfun MyScreen() {\n    val context = LocalContext.current\n    Toast.makeText(context, \"Hello\", Toast.LENGTH_SHORT).show() // âŒ é‡ç»„å¤šæ¬¡ä¼šé‡å¤å¼¹\n}\n```\n\n---\n\n# 4ï¸âƒ£ Compose ä¸­è§£å†³é™„å¸¦æ•ˆåº”\n\nJetpack Compose æä¾› **Effect APIs** å¤„ç†å‰¯ä½œç”¨ï¼š\n\n| API                             | ç”¨é€”                     |\n| ------------------------------- | ---------------------- |\n| `LaunchedEffect(key1, key2...)` | åç¨‹å‰¯ä½œç”¨ï¼Œè·Ÿéš key æ‰§è¡Œä¸€æ¬¡      |\n| `rememberCoroutineScope()`      | è·å–åç¨‹ä½œç”¨åŸŸï¼Œå¯åŠ¨å¼‚æ­¥ä»»åŠ¡         |\n| `SideEffect`                    | åŒæ­¥å‰¯ä½œç”¨ï¼Œç”¨äº UI è¯»çŠ¶æ€æˆ–è§¦å‘å¤–éƒ¨æ“ä½œ |\n| `DisposableEffect`              | å¸¦æ¸…ç†é€»è¾‘çš„å‰¯ä½œç”¨ï¼ˆonDisposeï¼‰   |\n\n### ğŸ”¹ ç¤ºä¾‹ 1ï¼šLaunchedEffect\n\n```kotlin\n@Composable\nfun MyScreen(userId: String) {\n    LaunchedEffect(userId) { // å½“ userId å˜åŒ–æ—¶æ‰§è¡Œ\n        val data = api.getUser(userId)\n        println(\"Fetched: $data\")\n    }\n}\n```\n\n### ğŸ”¹ ç¤ºä¾‹ 2ï¼šDisposableEffect\n\n```kotlin\n@Composable\nfun TimerScreen() {\n    val timer = Timer()\n    DisposableEffect(Unit) {\n        timer.start()\n        onDispose { timer.stop() }  // ç»„ä»¶æ¶ˆå¤±æ—¶è‡ªåŠ¨æ¸…ç†\n    }\n}\n```\n\n---\n\n# 5ï¸âƒ£ æ€»ç»“\n\n1. **Compose**ï¼šå£°æ˜å¼ UIï¼ŒçŠ¶æ€é©±åŠ¨ï¼Œå‡½æ•°å¼å†™ UI\n2. **ç”Ÿå‘½å‘¨æœŸ**ï¼šComposition â†’ Recomposition â†’ Disposal\n3. **é™„å¸¦æ•ˆåº”**ï¼šä»»ä½•å‰¯ä½œç”¨ï¼ˆIOã€Toastã€å¯¼èˆªç­‰ï¼‰ï¼Œç›´æ¥åœ¨ Composable æ‰§è¡Œä¼šè¢«é‡å¤è§¦å‘\n4. **è§£å†³åŠæ³•**ï¼š\n\n   * `LaunchedEffect`ï¼šåç¨‹å‰¯ä½œç”¨\n   * `SideEffect`ï¼šåŒæ­¥å‰¯ä½œç”¨\n   * `DisposableEffect`ï¼šå¸¦æ¸…ç†é€»è¾‘å‰¯ä½œç”¨\n\n---\n\n# 6ï¸âƒ£ é¢è¯•å›ç­”æ¨¡æ¿\n\n> Jetpack Compose æ˜¯ Android çš„å£°æ˜å¼ UI æ¡†æ¶ï¼Œç”¨ Kotlin å†™ UIï¼ŒçŠ¶æ€æ”¹å˜ä¼šè‡ªåŠ¨åˆ·æ–°ç•Œé¢ã€‚\n> Composable ç”Ÿå‘½å‘¨æœŸåŒ…æ‹¬ Compositionï¼ˆåˆæ¬¡æ„å»ºï¼‰ã€Recompositionï¼ˆçŠ¶æ€æ›´æ–°åˆ·æ–°ï¼‰ã€Disposalï¼ˆUI é”€æ¯ï¼‰ã€‚\n> é™„å¸¦æ•ˆåº”æ˜¯æŒ‡åœ¨ Composable ä¸­æ‰§è¡Œ IOã€å¯¼èˆªã€Toast ç­‰å‰¯ä½œç”¨ï¼Œç›´æ¥å†™ä¼šéšé‡ç»„é‡å¤æ‰§è¡Œã€‚\n> Compose æä¾› LaunchedEffectã€SideEffectã€DisposableEffect ç­‰ API æ¥å¤„ç†å‰¯ä½œç”¨ï¼Œä¿è¯åªæ‰§è¡Œä¸€æ¬¡æˆ–å¯æ¸…ç†ã€‚\n\n---\n\næˆ‘å¯ä»¥å¸®ä½ ç”»ä¸€å¼  **Compose ç”Ÿå‘½å‘¨æœŸ + é™„å¸¦æ•ˆåº”å¤„ç†å›¾**ï¼Œå¯è§†åŒ–è®°å¿†ï¼Œé¢è¯•ç›´æ¥èƒŒå°±è¡Œã€‚\n\nä½ æƒ³è¦å—ï¼ŸğŸ“Š\n"
    },
    {
      "question": "let , run , with , apply ,also ?",
      "answer": "\nå£è¯€ï¼š apply = é…ç½® (Configuration)ã€‚  å¯ä»¥æ›¿ä»£ Builder æ¨¡å¼ã€‚\nå£è¯€ï¼š also = å¹¶ä¸”è¿˜... (Side Effect)ã€‚    åœ¨ä¸€ä¸ªé“¾å¼è°ƒç”¨ä¸­ï¼Œæ’å…¥ä¸€ä¸ªâ€œé™„åŠ â€æ“ä½œï¼Œæ¯”å¦‚æ‰“å°æ—¥å¿—ã€æ·»åŠ åˆ°åˆ—è¡¨ç­‰ï¼ŒåŒæ—¶ä¸ä¸­æ–­é“¾å¼è°ƒç”¨ã€‚\nå£è¯€ï¼š let = åˆ¤ç©ºå¹¶è½¬æ¢ (Null-check & Transform)ã€‚   å¯¹ä¸€ä¸ªå¯ç©ºå¯¹è±¡è¿›è¡Œæ“ä½œï¼Œå¹¶è¿”å›ä¸€ä¸ªä¸åŒçš„ç»“æœã€‚\nå£è¯€ï¼š run = æ‰§è¡Œ (Execute)ã€‚ åˆ¤ç©º + æ‰§è¡Œï¼šå’Œ let ä¸€æ ·ç”¨äºåˆ¤ç©ºï¼Œä½†å†…éƒ¨ç”¨ thisï¼Œè°ƒç”¨æ–¹æ³•æ›´ç®€æ´ã€‚\nå£è¯€ï¼š with = å¯¹äºè¿™ä¸ªå¯¹è±¡... (With this object...)ã€‚    å½“ä½ æœ‰ä¸€ä¸ªéç©ºçš„å¯¹è±¡ï¼Œå¹¶æƒ³å¯¹å®ƒæ‰§è¡Œä¸€è¿ä¸²æ“ä½œæ—¶ã€‚\n\nlet ç”¨ it è¿”ç»“æœï¼Œç©ºå®‰å…¨å¤„ç†å®ƒæœ€è¡Œï¼›\nrun ç”¨ this è¿”ç»“æœï¼Œå¤šæ“ä½œå¯¹è±¡å¾ˆé¡ºæ‰‹ï¼›\nwith éæ‰©å±•ç”¨ thisï¼Œå·²çŸ¥å¯¹è±¡ç›´æ¥æï¼›\napply ç”¨ this è¿”è‡ªèº«ï¼Œåˆå§‹åŒ–å¯¹è±¡ä¸€æŠŠç½©ï¼›\nalso ç”¨ it è¿”è‡ªèº«ï¼Œé™„åŠ æ“ä½œå°‘ä¸äº†ã€‚",
      "detail": "å•Šï¼Œè¿™æ˜¯ Kotlin é¢è¯•ä¸­**å¿…é—®**çš„â€œä½œç”¨åŸŸå‡½æ•°â€ï¼ˆScope Functionsï¼‰ã€‚\n\nå®ƒä»¬çš„åŠŸèƒ½éƒ½æ˜¯\\*\\*â€œåœ¨ä¸€ä¸ªå¯¹è±¡ä¸Šæ‰§è¡Œä¸€ä¸ªä»£ç å—â€\\*\\*ï¼Œä½†æ ¸å¿ƒåŒºåˆ«åœ¨äºä¸¤ç‚¹ï¼š\n\n1.  **ä¸Šä¸‹æ–‡å¯¹è±¡**ï¼šåœ¨ä»£ç å—ä¸­ï¼Œä½ å¦‚ä½•å¼•ç”¨è¿™ä¸ªå¯¹è±¡ï¼Ÿï¼ˆç”¨ `this` è¿˜æ˜¯ `it`ï¼Ÿï¼‰\n2.  **è¿” å› å€¼**ï¼šè¿™ä¸ªå‡½æ•°å—æœ€ç»ˆè¿”å›çš„æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆæ˜¯å¯¹è±¡æœ¬èº«ï¼Œè¿˜æ˜¯ Lambda è¡¨è¾¾å¼çš„ç»“æœï¼Ÿï¼‰\n\næˆ‘ä¸ºä½ å‡†å¤‡äº†ä¸€ä¸ªâ€œé€Ÿè®°å£è¯€â€å’Œä¸€ä¸ªè¡¨æ ¼ï¼Œå¸®ä½ ä¸€æ¬¡æ€§å½»åº•ææ‡‚å®ƒä»¬ã€‚\n\n-----\n\n### ğŸš€ æ ¸å¿ƒå£è¯€ï¼šå¸®ä½ é¢è¯•\n\n> **â€œ`apply` å’Œ `also`ï¼Œè¿”å›å¯¹è±¡æœ¬èº«ï¼›â€**\n> **â€œ`let`ã€`run` å’Œ `with`ï¼Œè¿”å›æœ€åä¸€è¡Œã€‚â€**\n>\n> **â€œ`apply`ã€`run` å’Œ `with`ï¼Œå†…éƒ¨ç”¨ `this`ï¼›â€**\n> **â€œ`let` å’Œ `also`ï¼Œå†…éƒ¨ç”¨ `it`ã€‚â€**\n\n-----\n\n### ğŸ›ï¸ ç»ˆæå¯¹æ¯”è¡¨\n\nè¿™å¼ è¡¨æ˜¯é¢è¯•æ—¶ä½ è„‘æµ·ä¸­åº”è¯¥å‡ºç°çš„ï¼š\n\n| å‡½æ•° | ä¸Šä¸‹æ–‡å¯¹è±¡ (åœ¨ Lambda å†…) | è¿” å› å€¼ | æ˜¯å¦æ˜¯æ‰©å±•å‡½æ•° |\n| :--- | :--- | :--- | :--- |\n| **`let`** | `it` (å‚æ•°) | Lambda ç»“æœï¼ˆæœ€åä¸€è¡Œï¼‰ | æ˜¯ |\n| **`run`** | `this` (æ¥æ”¶è€…) | Lambda ç»“æœï¼ˆæœ€åä¸€è¡Œï¼‰ | æ˜¯ |\n| **`with`** | `this` (æ¥æ”¶è€…) | Lambda ç»“æœï¼ˆæœ€åä¸€è¡Œï¼‰ | **å¦** (å®ƒæ˜¯æ™®é€šå‡½æ•°) |\n| **`apply`** | `this` (æ¥æ”¶è€…) | å¯¹è±¡æœ¬èº« (`this`) | æ˜¯ |\n| **`also`** | `it` (å‚æ•°) | å¯¹è±¡æœ¬èº« (`this`) | æ˜¯ |\n\n-----\n\n### ğŸ’¡ å„å‡½æ•°è¯¦è§£å’Œâ€œæœ€ä½³åœºæ™¯â€\n\nè®°ä½ï¼Œé€‰æ‹©å“ªä¸ªå‡½æ•°ï¼Œå–å†³äºä½ çš„**ç›®çš„**ã€‚\n\n#### 1\\. `apply` (æˆ‘ç”¨å®ƒæ¥â€œé…ç½®â€)\n\n  * **å£è¯€ï¼š** `apply` = **é…ç½® (Configuration)**ã€‚\n  * **è§„åˆ™ï¼š** å†…éƒ¨ç”¨ `this`ï¼Œè¿”å› `this`ã€‚\n  * **æœ€ä½³åœºæ™¯ï¼š** å¯¹è±¡çš„åˆå§‹åŒ–å’Œé…ç½®ã€‚è¿™åœ¨ Android ä¸­å°¤å…¶æœ‰ç”¨ï¼Œå¯ä»¥æ›¿ä»£ Builder æ¨¡å¼ã€‚\n\n<!-- end list -->\n\n```kotlin\n// åœºæ™¯ï¼šåˆ›å»ºä¸€ä¸ª Intent å¹¶é…ç½®å®ƒ\nval intent = Intent().apply {\n    action = \"ACTION_SEND\" // è¿™é‡Œç”¨ this.action ä¹Ÿå¯ä»¥ï¼Œthis å¯çœç•¥\n    putExtra(\"key\", \"value\")\n    type = \"text/plain\"\n}\n// intent å˜é‡æ˜¯é…ç½®å®Œæ¯•çš„ Intent å¯¹è±¡\n```\n\n#### 2\\. `also` (æˆ‘ç”¨å®ƒæ¥â€œé™„åŠ /å‰¯ä½œç”¨â€)\n\n  * **å£è¯€ï¼š** `also` = **å¹¶ä¸”è¿˜... (Side Effect)**ã€‚\n  * **è§„åˆ™ï¼š** å†…éƒ¨ç”¨ `it`ï¼Œè¿”å› `this`ã€‚\n  * **æœ€ä½³åœºæ™¯ï¼š** åœ¨ä¸€ä¸ª**é“¾å¼è°ƒç”¨**ä¸­ï¼Œæ’å…¥ä¸€ä¸ªâ€œé™„åŠ â€æ“ä½œï¼Œæ¯”å¦‚æ‰“å°æ—¥å¿—ã€æ·»åŠ åˆ°åˆ—è¡¨ç­‰ï¼ŒåŒæ—¶ä¸ä¸­æ–­é“¾å¼è°ƒç”¨ã€‚\n\n<!-- end list -->\n\n```kotlin\nval person = Person(\"Alice\").apply {\n    age = 20\n}.also {\n    // apply ç»“æŸåï¼Œæˆ‘æƒ³æ‰“å°ä¸€ä¸‹è¿™ä¸ª person å¯¹è±¡\n    println(\"Created person: $it\") // it æŒ‡ä»£ person\n}\n// person å˜é‡æ˜¯é…ç½®å®Œæ¯•çš„ Person å¯¹è±¡\n```\n\n  * **`apply` vs `also`ï¼š** å®ƒä»¬éƒ½è¿”å›å¯¹è±¡æœ¬èº«ã€‚ä½† `apply` å†…éƒ¨ç”¨ `this`ï¼Œé€‚åˆâ€œé…ç½®â€å¯¹è±¡ï¼ˆæ“ä½œå¯¹è±¡å†…éƒ¨ï¼‰ï¼›`also` å†…éƒ¨ç”¨ `it`ï¼Œé€‚åˆâ€œä½¿ç”¨â€å¯¹è±¡ï¼ˆæŠŠå®ƒå½“åšä¸€ä¸ªå‚æ•°ï¼Œæ¯”å¦‚ `Log.d(TAG, it)`ï¼‰ã€‚\n\n-----\n\n#### 3\\. `let` (æˆ‘ç”¨å®ƒæ¥â€œåˆ¤ç©º + è½¬æ¢â€)\n\n  * **å£è¯€ï¼š** `let` = **åˆ¤ç©ºå¹¶è½¬æ¢ (Null-check & Transform)**ã€‚\n  * **è§„åˆ™ï¼š** å†…éƒ¨ç”¨ `it`ï¼Œè¿”å› Lambda ç»“æœã€‚\n  * **æœ€ä½³åœºæ™¯ï¼š** å¯¹ä¸€ä¸ª**å¯ç©ºå¯¹è±¡**è¿›è¡Œæ“ä½œï¼Œå¹¶è¿”å›ä¸€ä¸ª**ä¸åŒçš„ç»“æœ**ã€‚\n\n<!-- end list -->\n\n```kotlin\nval user: User? = getUser()\n\n// 1. åˆ¤ç©ºï¼šåªæœ‰ user ä¸ä¸º null æ—¶æ‰æ‰§è¡Œ\nuser?.let {\n    // 'it' æ˜¯éç©ºçš„ User å¯¹è±¡\n    println(\"User name: ${it.name}\") \n}\n\n// 2. è½¬æ¢ï¼šè·å–åå­—ï¼Œå¦‚æœ user ä¸ºç©ºï¼Œåˆ™ name ä¸º null\nval name = user?.let { it.name } \n```\n\n#### 4\\. `run` (æˆ‘ç”¨å®ƒæ¥â€œåˆ¤ç©º + æ‰§è¡Œâ€)\n\n  * **å£è¯€ï¼š** `run` = **æ‰§è¡Œ (Execute)**ã€‚\n  * **è§„åˆ™ï¼š** å†…éƒ¨ç”¨ `this`ï¼Œè¿”å› Lambda ç»“æœã€‚\n  * **æœ€ä½³åœºæ™¯ï¼š**\n    1.  **åˆ¤ç©º + æ‰§è¡Œ**ï¼šå’Œ `let` ä¸€æ ·ç”¨äºåˆ¤ç©ºï¼Œä½†å†…éƒ¨ç”¨ `this`ï¼Œè°ƒç”¨æ–¹æ³•æ›´ç®€æ´ã€‚\n    2.  **æ‰§è¡Œä¸€ä¸ªä»£ç å—å¹¶è¿”å›ç»“æœ**ï¼šå®ƒä¹Ÿå¯ä»¥ä¸ä½œä¸ºæ‰©å±•å‡½æ•°ä½¿ç”¨ã€‚\n\n<!-- end list -->\n\n```kotlin\n// åœºæ™¯1ï¼šåˆ¤ç©º + æ‰§è¡Œï¼ˆå¯¹æ¯” letï¼‰\nuser?.run {\n    // 'this' æ˜¯éç©ºçš„ User å¯¹è±¡\n    println(\"User name: $name\") // ç›´æ¥è®¿é—® nameï¼Œæ¯” let çš„ it.name æ›´ç®€æ´\n    println(\"User age: $age\")\n}\n\n// åœºæ™¯2ï¼šæ‰§è¡Œä»£ç å—å¹¶è¿”å›ç»“æœ\nval result = run {\n    val a = 10\n    val b = 20\n    a + b // è¿”å› 30\n}\n```\n\n  * **`let` vs `run` (ç”¨äºåˆ¤ç©ºæ—¶)ï¼š** å®ƒä»¬éƒ½è¿”å› Lambda ç»“æœã€‚ä½† `run` å†…éƒ¨ç”¨ `this`ï¼Œ`let` å†…éƒ¨ç”¨ `it`ã€‚å½“ä½ éœ€è¦è°ƒç”¨å¯¹è±¡**å¤šä¸ªæ–¹æ³•**æ—¶ï¼Œ`run` æ›´ç®€æ´ã€‚\n\n#### 5\\. `with` (æˆ‘ç”¨å®ƒæ¥â€œæ“ä½œéç©ºå¯¹è±¡â€)\n\n  * **å£è¯€ï¼š** `with` = **å¯¹äºè¿™ä¸ªå¯¹è±¡... (With this object...)**ã€‚\n  * **è§„åˆ™ï¼š** **å®ƒä¸æ˜¯æ‰©å±•å‡½æ•°**ã€‚å†…éƒ¨ç”¨ `this`ï¼Œè¿”å› Lambda ç»“æœã€‚\n  * **æœ€ä½³åœºæ™¯ï¼š** å½“ä½ æœ‰ä¸€ä¸ª**éç©º**çš„å¯¹è±¡ï¼Œå¹¶æƒ³å¯¹å®ƒæ‰§è¡Œ**ä¸€è¿ä¸²æ“ä½œ**æ—¶ã€‚\n\n<!-- end list -->\n\n```kotlin\nval person = Person(\"Alice\", 20)\n\n// å®ƒä¸æ˜¯æ‰©å±•å‡½æ•°ï¼Œæ‰€ä»¥æ˜¯ with(person) { ... }\nval info = with(person) {\n    println(\"Name: $name\") // å†…éƒ¨æ˜¯ this\n    println(\"Age: $age\")\n    \"Name is $name, Age is $age\" // æœ€åä¸€è¡Œæ˜¯è¿”å›å€¼\n}\n// info å˜é‡æ˜¯ \"Name is Alice, Age is 20\"\n```\n\n  * **`run` vs `with`ï¼š** å®ƒä»¬åŠŸèƒ½å‡ ä¹ä¸€æ ·ï¼ˆ`this` -\\> ç»“æœï¼‰ã€‚åŒºåˆ«åœ¨äº `person.run { ... }` å¯ä»¥ç”¨äºåˆ¤ç©ºé“¾å¼è°ƒç”¨ï¼Œè€Œ `with(person) { ... }` è¦æ±‚ `person` å¿…é¡»å…ˆæ‹¿åˆ°æ‰‹ï¼Œä¸èƒ½åˆ¤ç©ºã€‚\n\n-----\n\n### ğŸ’¡ å†³ç­–æ ‘ï¼ˆå¦‚ä½•é€‰æ‹©ï¼‰\n\né¢è¯•æ—¶ï¼Œä½ å¯ä»¥æŒ‰è¿™ä¸ªæ€è·¯æ¥å›ç­”â€œä½ å¦‚ä½•é€‰æ‹©â€ï¼š\n\n1.  **æˆ‘éœ€è¦è¿”å›ä»€ä¹ˆï¼Ÿ**\n      * **A. æˆ‘éœ€è¦è¿”å›å¯¹è±¡æœ¬èº«**ï¼ˆç”¨äºé“¾å¼è°ƒç”¨æˆ–é…ç½®ï¼‰ï¼š\n          * æˆ‘æƒ³åœ¨å†…éƒ¨**é…ç½®**å¯¹è±¡ï¼ˆç”¨ `this`ï¼‰ -\\> **`apply`**\n          * æˆ‘æƒ³åœ¨å†…éƒ¨**ä½¿ç”¨**å¯¹è±¡ï¼ˆç”¨ `it`ï¼Œæ¯”å¦‚æ‰“å°æ—¥å¿—ï¼‰ -\\> **`also`**\n      * **B. æˆ‘éœ€è¦è¿”å› Lambda çš„ç»“æœ**ï¼ˆç”¨äºèµ‹å€¼æˆ–è½¬æ¢ï¼‰ï¼š\n          * æˆ‘çš„å¯¹è±¡**éœ€è¦åˆ¤ç©º**å—ï¼Ÿ\n              * **æ˜¯**ï¼Œéœ€è¦åˆ¤ç©ºï¼š\n                  * æˆ‘å–œæ¬¢ç”¨ `it` -\\> **`let`**\n                  * æˆ‘å–œæ¬¢ç”¨ `this`ï¼ˆä»£ç æ›´ç®€æ´ï¼‰ -\\> **`run`**\n              * **å¦**ï¼Œå¯¹è±¡æ˜¯éç©ºçš„ï¼š\n                  * æˆ‘ç”¨ `with(object) { ... }` -\\> **`with`**\n                  * æˆ‘ç”¨ `object.run { ... }` -\\> **`run`**"
    }
  ],
  "flutter": [
    {
      "question": "Flutter åŸºç¡€æ¦‚å¿µ",
      "answer": "Flutter æ˜¯ Google å¼€æºçš„ UI å·¥å…·åŒ…ï¼Œå¸®åŠ©å¼€å‘è€…é€šè¿‡ä¸€å¥—ä»£ç åº“é«˜æ•ˆæ„å»ºå¤šå¹³å°ç²¾ç¾åº”ç”¨ï¼Œæ”¯æŒç§»åŠ¨ã€Webã€æ¡Œé¢å’ŒåµŒå…¥å¼å¹³å°ã€‚",
      "detail": "Flutter çš„æ ¸å¿ƒä¼˜åŠ¿åœ¨äºå…¶é«˜æ€§èƒ½æ¸²æŸ“å¼•æ“ï¼ˆSkia/Impellerï¼‰å’Œå£°æ˜å¼ UI ç¼–ç¨‹æ¨¡å‹ã€‚å®ƒä½¿ç”¨ Dart è¯­è¨€ï¼Œæ”¯æŒçƒ­é‡è½½ï¼ˆHot Reloadï¼‰ï¼Œæå¤§åœ°æé«˜äº†å¼€å‘æ•ˆç‡ã€‚"
    },
    {
      "question": "æ–°é¢˜ç›®",
      "answer": "",
      "detail": ""
    },
    {
      "question": "Widget æ˜¯ä»€ä¹ˆï¼Ÿ",
      "answer": "åœ¨ Flutter ä¸­ï¼Œä¸€åˆ‡çš†ä¸º Widgetã€‚Widget æ˜¯æ„å»º UI çš„åŸºæœ¬å•å…ƒï¼Œæè¿°äº†è§†å›¾çš„é…ç½®ä¿¡æ¯ã€‚",
      "detail": "Widget åˆ†ä¸ºæœ‰çŠ¶æ€ï¼ˆStatefulWidgetï¼‰å’Œæ— çŠ¶æ€ï¼ˆStatelessWidgetï¼‰ä¸¤ç§ã€‚StatelessWidget ç”¨äºä¸å¯å˜çš„ UIï¼Œè€Œ StatefulWidget ç”¨äºéœ€è¦æ ¹æ®ç”¨æˆ·äº¤äº’æˆ–å…¶ä»–å› ç´ æ”¹å˜çŠ¶æ€çš„ UIã€‚"
    }
  ],
  "base": [
    {
      "question": "arraylist å’Œlinklist æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ",
      "answer": "ArrayList åº•å±‚æ˜¯åŠ¨æ€æ•°ç»„ï¼ŒæŸ¥è¯¢é€Ÿåº¦å¿«ï¼Œéšæœºè®¿é—®æ˜¯ O(1)ï¼Œä½†æ’åˆ æ…¢ï¼Œéœ€è¦ç§»åŠ¨å…ƒç´ ã€‚\nLinkedList åº•å±‚æ˜¯åŒå‘é“¾è¡¨ï¼Œæ’åˆ æ•ˆç‡é«˜ï¼Œå¤´æ’å°¾æ’éƒ½æ˜¯ O(1)ï¼Œä½†éšæœºè®¿é—®æ…¢ï¼Œéœ€è¦éå†ã€‚\næ‰€ä»¥ è¯»å¤šå†™å°‘ç”¨ ArrayListï¼Œå†™å¤šè¯»å°‘ç”¨ LinkedListã€‚\nå£è¯€ï¼šæŸ¥å¿«ç”¨Arrayï¼Œå¢åˆ ç”¨Linkã€‚æ•°ç»„è¿ç€æ”¾ï¼Œé“¾è¡¨è·³ç€æ‰¾ã€‚",
      "detail": "é¢è¯•è¦ç­”å¾—**æ¸…æ™° + å¯¹æ¯”å¼ºçƒˆ + èƒ½è®°ä½**ï¼Œå¯ä»¥è¿™æ ·è®²ğŸ‘‡\n\n---\n\n# ğŸš€ ArrayList vs LinkedList â€” é¢è¯•æ€»ç»“ç‰ˆ\n\n## ğŸ§  **æ ¸å¿ƒåŒºåˆ«ï¼ˆä¸€å¥è¯æ¦‚æ‹¬ï¼‰**\n\n> **ArrayListï¼šåŠ¨æ€æ•°ç»„ï¼ŒæŸ¥è¯¢å¿«**\n> **LinkedListï¼šåŒå‘é“¾è¡¨ï¼Œæ’åˆ å¿«**\n\n---\n\n## ğŸ“¦ åº•å±‚ç»“æ„\n\n| Listç±»å‹         | åº•å±‚ç»“æ„       | ä¼˜åŠ¿            | åŠ£åŠ¿              |\n| -------------- | ---------- | ------------- | --------------- |\n| **ArrayList**  | åŠ¨æ€æ•°ç»„ï¼ˆè¿ç»­å†…å­˜ï¼‰ | éšæœºè®¿é—®å¿« O(1)    | æ’åˆ æ…¢ O(n)ï¼ˆéœ€ç§»åŠ¨å…ƒç´ ï¼‰ |\n| **LinkedList** | åŒå‘é“¾è¡¨ï¼ˆéè¿ç»­ï¼‰  | æ’åˆ å¿« O(1)ï¼ˆå®šä½åï¼‰ | éšæœºè®¿é—®æ…¢ O(n)      |\n\n---\n\n## âš™ï¸ æ—¶é—´å¤æ‚åº¦å¯¹æ¯”ï¼ˆé¢è¯•å¿…èƒŒï¼‰\n\n| æ“ä½œ            | ArrayList | LinkedList      | è§£é‡Š             |\n| ------------- | --------- | --------------- | -------------- |\n| è·å– `get(i)`   | **O(1)**  | **O(n)**        | æ•°ç»„ç›´æ¥å®šä½ vs é“¾è¡¨éå† |\n| æ’åˆ  ä¸­é—´/å¤´éƒ¨      | **O(n)**  | **O(1)**ï¼ˆèŠ‚ç‚¹å·²å®šä½ï¼‰ |                |\n| å°¾éƒ¨æ’å…¥          | O(1)      | O(1)            | éƒ½å¯ä»¥            |\n| contains() æœç´¢ | O(n)      | O(n)            | éœ€éå†            |\n\n---\n\n## ğŸ“Œ **ä½¿ç”¨åœºæ™¯è®°å¿†**\n\n| åœºæ™¯              | ç”¨å“ªä¸ª                                   |\n| --------------- | ------------------------------------- |\n| **è¯»å¤šå†™å°‘ï¼Œéšæœºè®¿é—®é¢‘ç¹** | ArrayList                             |\n| **é¢‘ç¹å¢åˆ ï¼Œä¸­é—´æ’å…¥åˆ é™¤** | LinkedList                            |\n| **å®ç°é˜Ÿåˆ—ã€æ ˆç»“æ„**    | LinkedList                            |\n| **é«˜å¹¶å‘**         | Vector æˆ– Collections.synchronizedList |\n\n---\n\n# ğŸ“¢ é¢è¯•å£è¯€ï¼ˆç›´æ¥èƒŒï¼ï¼‰\n\n> **â€œæŸ¥å¿«ç”¨Arrayï¼Œå¢åˆ ç”¨Linkã€‚æ•°ç»„è¿ç€æ”¾ï¼Œé“¾è¡¨è·³ç€æ‰¾ã€‚â€**\n> **â€œArrayList â€”â€” è¯»å¤šå†™å°‘ï¼›LinkedList â€”â€” å†™å¤šè¯»å°‘ã€‚â€**\n\n---\n\n## ğŸ§¾ æ‰©å®¹æœºåˆ¶ï¼ˆArrayList å¿…æï¼‰\n\n* é»˜è®¤å®¹é‡ 10ï¼Œæ»¡äº†ä»¥å **æ‰© 1.5 å€**\n* æ‰©å®¹éœ€è¦ **æ–°å»ºæ•°ç»„ + å¤åˆ¶**ï¼Œæ€§èƒ½æ¶ˆè€—å¤§\n* LinkedList ä¸æ‰©å®¹ï¼ŒèŠ‚ç‚¹åŠ¨æ€åˆ›å»º\n\n```java\nint newCapacity = oldCapacity + (oldCapacity >> 1); // 1.5 å€æ‰©å®¹\n```\n\n---\n\n# ğŸ¯ é¢è¯•å›ç­”æ¨¡æ¿ï¼ˆç›´æ¥ç”¨ï¼‰\n\n> ArrayList åº•å±‚æ˜¯åŠ¨æ€æ•°ç»„ï¼ŒæŸ¥è¯¢é€Ÿåº¦å¿«ï¼Œéšæœºè®¿é—®æ˜¯ O(1)ï¼Œä½†æ’åˆ æ…¢ï¼Œéœ€è¦ç§»åŠ¨å…ƒç´ ã€‚\n> LinkedList åº•å±‚æ˜¯åŒå‘é“¾è¡¨ï¼Œæ’åˆ æ•ˆç‡é«˜ï¼Œå¤´æ’å°¾æ’éƒ½æ˜¯ O(1)ï¼Œä½†éšæœºè®¿é—®æ…¢ï¼Œéœ€è¦éå†ã€‚\n> æ‰€ä»¥ **è¯»å¤šå†™å°‘ç”¨ ArrayListï¼Œå†™å¤šè¯»å°‘ç”¨ LinkedList**ã€‚\n> å£è¯€ï¼š**æŸ¥å¿«ç”¨Arrayï¼Œå¢åˆ ç”¨Linkã€‚æ•°ç»„è¿ç€æ”¾ï¼Œé“¾è¡¨è·³ç€æ‰¾ã€‚**\n\n---\n\néœ€è¦æˆ‘å¸®ä½ ç”»ä¸€ä¸ªç»“æ„å¯¹æ¯”å›¾ï¼ˆé“¾è¡¨èŠ‚ç‚¹ vs æ•°ç»„ï¼‰ï¼ŸğŸ“Š\næˆ–è€…å†™ä¸€æ®µæµ‹è¯•ä»£ç æ¥å¯¹æ¯”æ€§èƒ½ï¼ŸğŸ”¥\n"
    },
    {
      "question": "åŠ¨æ€æ•°ç»„ æ˜¯æ€ä¹ˆæ ·çš„ ï¼Œ åŒå‘é“¾è¡¨åˆæ˜¯ä»€ä¹ˆï¼Ÿ",
      "answer": "åŠ¨æ€æ•°ç»„è¿ç»­å­˜ï¼Œæ‰©å®¹å¤åˆ¶æ€§èƒ½æŸï¼›\nåŒå‘é“¾è¡¨æŒ‡é’ˆè¿ï¼Œæ’åˆ å¿«ä½†æŸ¥æ…¢ç‚¹ã€‚\næŸ¥å¿«ç”¨Arrayï¼Œå¢åˆ ç”¨Linkï¼",
      "detail": "å½“ç„¶ï¼æˆ‘ä»¬æ¥å½»åº•ç†è§£**åŠ¨æ€æ•°ç»„**å’Œ**åŒå‘é“¾è¡¨**ï¼Œä»åº•å±‚ç»“æ„è¯´èµ·ï¼Œä½ é¢è¯•æ—¶æ‰èƒ½è¯´å¾—**æ¸…æ¥š + æœ‰é€»è¾‘ + æœ‰åº•æ°”** ğŸ’ª\n\n---\n\n# ğŸ“¦ åŠ¨æ€æ•°ç»„ï¼ˆDynamic Arrayï¼‰â€”â€”ArrayList çš„åº•å±‚\n\n## ğŸ§  **æ¦‚å¿µ**\n\n* å…¶å®å°±æ˜¯â€œå¯ä»¥è‡ªåŠ¨æ‰©å®¹çš„æ•°ç»„â€\n* åº•å±‚ä¾ç„¶æ˜¯ **è¿ç»­å†…å­˜**ï¼Œè®¿é—®å¿«ï¼Œç›´æ¥é€šè¿‡ä¸‹æ ‡å®šä½\n* å½“æ•°ç»„æ»¡äº†ï¼Œä¼š **è‡ªåŠ¨æ‰©å®¹ï¼ˆ1.5å€ï¼‰**ï¼Œå¹¶ **å¤åˆ¶æ—§æ•°æ®åˆ°æ–°å†…å­˜** â†’ æ€§èƒ½æ¶ˆè€—å¤§\n\n---\n\n## ğŸ” **ç»“æ„å›¾ï¼ˆç¤ºæ„ï¼‰**\n\n```\nindex:   0    1    2    3    4    5   ...\ndata : [A]  [B]  [C]  [D]  null  null ...\n```\n\nâœ”ï¸ ç‰¹ç‚¹ï¼š\n\n* **è¿ç»­ç©ºé—´**\n* ç”¨ `get(3)` å¯ä»¥ **ä¸€æ­¥æ‹¿åˆ° D â†’ O(1)**\n* æ’å…¥åˆ°ä¸­é—´è¦ç§»åŠ¨åé¢æ‰€æœ‰æ•°æ® â†’ **O(n)**\n\n---\n\n# ğŸ” åŒå‘é“¾è¡¨ï¼ˆDoubly Linked Listï¼‰â€”â€”LinkedList çš„åº•å±‚\n\n## ğŸ§  **æ¦‚å¿µ**\n\n* æ¯ä¸€ä¸ªèŠ‚ç‚¹ä¸è¿ç»­å­˜æ”¾\n* æ¯ä¸ªèŠ‚ç‚¹åŒ…å« **æ•°æ® + å‰æŒ‡é’ˆ + åæŒ‡é’ˆ**\n* é€šè¿‡æŒ‡é’ˆè¿æ¥å½¢æˆé“¾\n* æ’å…¥åˆ é™¤åªéœ€æ”¹æŒ‡é’ˆ â†’ **å¿«**\n* æŸ¥æ‰¾å¿…é¡»ä»å¤´/å°¾å¼€å§‹éå† â†’ **æ…¢**\n\n---\n\n## ğŸ” **ç»“æ„å›¾ï¼ˆç¤ºæ„ï¼‰**\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ dataA â”‚â‡„â”€â”€â”‚ dataB â”‚â‡„â”€â”€â”‚ dataC â”‚â‡„ ...\nâ””â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\næ¯ä¸ªèŠ‚ç‚¹ç»“æ„ï¼š\n\n```\nâ”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”\nâ”‚ prev pointerâ”‚ â† æŒ‡å‘å‰ä¸€ä¸ªèŠ‚ç‚¹\nâ”‚ data        â”‚\nâ”‚ next pointerâ”‚ â†’ æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹\nâ””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n---\n\n# âš” å¯¹æ¯”æ€»ç»“\n\n| ç‰¹æ€§   | åŠ¨æ€æ•°ç»„(ArrayList) | åŒå‘é“¾è¡¨(LinkedList) |\n| ---- | --------------- | ---------------- |\n| åº•å±‚ç»“æ„ | è¿ç»­å†…å­˜            | ä¸è¿ç»­èŠ‚ç‚¹            |\n| æŸ¥è¯¢   | **å¿« O(1)**      | **æ…¢ O(n)**       |\n| æ’å…¥åˆ é™¤ | æ…¢ï¼ˆè¦ç§»åŠ¨å…ƒç´ ï¼‰        | å¿«ï¼ˆæ”¹æŒ‡é’ˆå³å¯ï¼‰         |\n| æ‰©å®¹   | éœ€è¦å¤åˆ¶æ•°ç»„          | ä¸éœ€è¦æ‰©å®¹            |\n| å†…å­˜ä½¿ç”¨ | ç´§å‡‘              | é¢å¤–æŒ‡é’ˆå¼€é”€           |\n| é€‚ç”¨åœºæ™¯ | è¯»å¤šã€éšæœºè®¿é—®å¤š        | æ’åˆ å¤šã€ä¸­é—´æ“ä½œå¤š        |\n\n---\n\n# ğŸ“Œ é¢è¯•å£è¯€ï¼ˆå¯ä»¥ç›´æ¥è¯´ï¼‰\n\n> **åŠ¨æ€æ•°ç»„è¿ç»­å­˜ï¼Œæ‰©å®¹å¤åˆ¶æ€§èƒ½æŸï¼›**\n> **åŒå‘é“¾è¡¨æŒ‡é’ˆè¿ï¼Œæ’åˆ å¿«ä½†æŸ¥æ…¢ç‚¹ã€‚**\n> **æŸ¥å¿«ç”¨Arrayï¼Œå¢åˆ ç”¨Linkï¼**\n\n---\n\n# ğŸ¯ å¦‚æœé¢è¯•å®˜é—®ï¼š\n\n**â€œé‚£ä¸ºä»€ä¹ˆ LinkedList æ’å…¥å¿«ï¼Œä½†æŸ¥æ‰¾æ…¢ï¼Ÿâ€**\n\nç­”æ¡ˆï¼š\nå› ä¸ºå®ƒæ²¡æœ‰ä¸‹æ ‡æŸ¥è¯¢ï¼Œå¿…é¡»ä¸€ä¸ªä¸€ä¸ªèŠ‚ç‚¹æ‰¾ï¼Œåƒâ€œèµ°è·¯â€ä¸€æ ·ï¼›\nä½†æ’å…¥æ—¶åªæ”¹æŒ‡é’ˆï¼Œä¸éœ€è¦ç§»åŠ¨å¤§å—æ•°æ®ï¼Œæ‰€ä»¥å¿«ã€‚\n\n---\n\nè¦ä¸è¦æˆ‘ç»™ä½ ç”»å›¾å¯¹æ¯” **æ’å…¥è¿‡ç¨‹** æˆ–è€… **å†™ä¸€æ®µçœŸå®æµ‹è¯•ä»£ç ** ğŸ”¥ æ¥å¯¹æ¯”æ€§èƒ½ï¼Ÿ\nè¿™æ ·ä½ é¢è¯•æ—¶æ›´æœ‰è¯´æœåŠ›ï¼ğŸš€\n"
    },
    {
      "question": "è¯´è¯´ hashMap ?",
      "answer": "> **æ•°ç»„æ˜¯éª¨æ¶ï¼Œé“¾è¡¨æ¥æ‰©å±•ï¼Œé“¾å¤šå˜çº¢é»‘ï¼ŒæŸ¥æ‰¾æœ‰ä¿éšœã€‚\n> å®¹é‡æ˜¯ 2 çš„å¹‚ï¼Œhash æ›´å‡åŒ€ã€‚\n> è¯»å¤šç”¨ HashMapï¼Œå¹¶å‘ç”¨ ConcurrentHashMapï¼**",
      "detail": "å½“ç„¶ï¼**HashMap æ˜¯é¢è¯•å¸¸å®¢**ï¼Œä¸€å®šè¦æŒæ¡åº•å±‚åŸç†ã€ç»“æ„ã€æ‰©å®¹ã€Hash å†²çªå¤„ç†æ–¹å¼ã€çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚\næˆ‘å¸®ä½ æ•´ç†æˆ**é¢è¯•ä¸“ç”¨ + æ˜“è®°æ€»ç»“**ğŸ‘‡\n\n---\n\n# ğŸ”¥ HashMap æ˜¯ä»€ä¹ˆï¼Ÿ\n\n> **åŸºäºæ•°ç»„ + é“¾è¡¨ + çº¢é»‘æ ‘çš„æ•°æ®ç»“æ„ï¼Œå®ç° Key-Value å­˜å‚¨ï¼ŒæŸ¥è¯¢å¿«ï¼Œæ’å…¥å¿«ã€‚**\n\nâœ” æŸ¥æ‰¾ã€æ’å…¥å¹³å‡æ—¶é—´å¤æ‚åº¦ï¼š**O(1)**\nâœ” JDK1.8 åï¼Œé“¾è¡¨è¶…è¿‡**8ä¸ª**ä¼šè½¬æˆ**çº¢é»‘æ ‘** â†’ ä¼˜åŒ–æ€§èƒ½\n\n---\n\n# ğŸ§  HashMap åº•å±‚ç»“æ„ï¼ˆé¢è¯•å¿…è®²å›¾ï¼‰\n\n```\n      HashMap åº•å±‚ç»“æ„ç¤ºæ„å›¾ï¼ˆæ•°ç»„ + é“¾è¡¨ + çº¢é»‘æ ‘ï¼‰\n\n   index     Node\n   â”Œâ”€â”€â”€â”€â”€â”€â”€â”\n0  â”‚ null  â”‚\n1  â”‚ null  â”‚\n2  â”‚ A â”€â”€> B â”€â”€> C   (é“¾è¡¨)\n3  â”‚ TreeNode(çº¢é»‘æ ‘)\n4  â”‚ null  â”‚\n5  â”‚ null  â”‚\n   â””â”€â”€â”€â”€â”€â”€â”€â”˜\n```\n\n---\n\n# âš™ï¸ HashMap put() æµç¨‹ï¼ˆé¢è¯•æ¨¡æ¿ï¼‰\n\n```java\npublic V put(K key, V value) {\n    // â¶ key.hashCode()ï¼Œè®¡ç®— hash\n    // â· å®šä½æ•°ç»„ index = hash & (length - 1)\n    // â¸ å¦‚æœä½ç½®ä¸ºç©ºï¼Œåˆ›å»º Node æ”¾è¿›å»\n    // â¹ å¦‚æœæœ‰é“¾è¡¨ï¼Œèµ°é“¾è¡¨ï¼š\n    //       - key ç›¸åŒ â†’ è¦†ç›–\n    //       - key ä¸åŒ â†’ æ’å…¥é“¾è¡¨ï¼ˆJDK8 å°¾æ’ï¼‰\n    // âº å½“é“¾è¡¨é•¿åº¦ > 8ï¼Œè½¬ä¸ºçº¢é»‘æ ‘\n}\n```\n\n---\n\n# ğŸ“¦ æ‰©å®¹æœºåˆ¶ï¼ˆé¢è¯•å¸¸é—®ï¼‰\n\n| å†…å®¹   | ç»“è®º                          |\n| ---- | --------------------------- |\n| é»˜è®¤å®¹é‡ | 16                          |\n| åŠ è½½å› å­ | 0.75                        |\n| æ‰©å®¹é˜ˆå€¼ | 16 Ã— 0.75 = 12              |\n| æ‰©å®¹å€æ•° | **2 å€**æ‰©å®¹                   |\n| æ‰©å®¹è¿‡ç¨‹ | **æ–°å»ºæ•°ç»„ âœ é‡æ–°è®¡ç®— hash âœ è¿ç§»æ•°æ®** |\n\n---\n\n# â“ä¸ºä»€ä¹ˆå®¹é‡å¿…é¡»æ˜¯ **2 çš„å¹‚**ï¼Ÿ\n\nå› ä¸ºå®šä½æ•°ç»„ index ç”¨çš„æ˜¯ï¼š\n\n```java\nindex = hash & (length - 1)\n```\n\nä¸¾ä¾‹ï¼š\n\n```\nå¦‚æœ length = 16  â†’  length - 1 = 15     â†’  1111ï¼ˆäºŒè¿›åˆ¶ï¼‰\nhash & 1111  â†’ ç­‰äº hash çš„ä½ 4 ä½ â†’ æ›´åˆ†æ•£ï¼\n```\n\nğŸ‘‰ è®©æ•°æ®**å‡åŒ€åˆ†å¸ƒ**ï¼Œ**å‡å°‘ hash å†²çª**ã€‚\n\n---\n\n# ğŸ” Hash å†²çªæ€ä¹ˆè§£å†³ï¼Ÿ\n\n| æŠ€æœ¯      | è§£é‡Š                        |\n| ------- | ------------------------- |\n| é“¾è¡¨æ³•     | å¤šä¸ªæ•°æ®è½åœ¨åŒä¸€æ ¼ â†’ é“¾è¡¨            |\n| çº¢é»‘æ ‘     | é“¾è¡¨ >8 ä¸ª â†’ è‡ªåŠ¨è½¬ä¸ºçº¢é»‘æ ‘ï¼ˆæé«˜æŸ¥è¯¢æ•ˆç‡ï¼‰ |\n| äºŒæ¬¡ hash | JDK1.8 ä¼˜åŒ–ï¼Œå‡å°‘ç¢°æ’            |\n\n---\n\n# âš” JDK1.7 vs JDK1.8 å¯¹æ¯”ï¼ˆé¢è¯•é«˜é¢‘ï¼‰\n\n| å¯¹æ¯”é¡¹     | JDK1.7    | JDK1.8ï¼ˆä¼˜åŒ–ï¼ï¼‰   |\n| ------- | --------- | ------------- |\n| æ’å…¥é“¾è¡¨    | å¤´æ’æ³•       | å°¾æ’æ³•ï¼ˆé¿å…æ­»å¾ªç¯ï¼‰    |\n| å†²çªå¤„ç†    | é“¾è¡¨        | é“¾è¡¨ + çº¢é»‘æ ‘      |\n| æ‰©å®¹æ—¶æ•°æ®è¿ç§» | é‡æ–°è®¡ç®— hash | ä¸é‡æ–°ç®— hashï¼Œæ€§èƒ½é«˜ |\n\n---\n\n# ğŸ”’ æ˜¯å¦çº¿ç¨‹å®‰å…¨ï¼Ÿ\n\nâŒ **HashMap çº¿ç¨‹ä¸å®‰å…¨**\nâœ” çº¿ç¨‹å®‰å…¨æ–¹æ¡ˆï¼š\n\n| æ›¿ä»£æ–¹æ¡ˆ                        | ç”¨é€”               |\n| --------------------------- | ---------------- |\n| Collections.synchronizedMap | ç®€å•åŠ é”             |\n| ConcurrentHashMap           | é«˜å¹¶å‘é¦–é€‰ï¼ˆåˆ†æ®µé” / CASï¼‰ |\n| HashTable                   | è¿‡æ—¶ï¼Œæ•ˆç‡ä½ï¼Œå…¨é”        |\n\n---\n\n# ğŸ”‘ é¢è¯•å£è¯€ï¼ˆç›´æ¥èƒŒï¼ï¼‰\n\n> **æ•°ç»„æ˜¯éª¨æ¶ï¼Œé“¾è¡¨æ¥æ‰©å±•ï¼Œé“¾å¤šå˜çº¢é»‘ï¼ŒæŸ¥æ‰¾æœ‰ä¿éšœã€‚\n> å®¹é‡æ˜¯ 2 çš„å¹‚ï¼Œhash æ›´å‡åŒ€ã€‚\n> è¯»å¤šç”¨ HashMapï¼Œå¹¶å‘ç”¨ ConcurrentHashMapï¼**\n\n---\n\nè¦ä¸è¦æˆ‘ç»™ä½ **ç”» HashMap put çš„å®Œæ•´æµç¨‹å›¾** æˆ–è€…å†™ä¸€æ®µ **æ¨¡æ‹Ÿ hash å†²çªçš„ä»£ç **ï¼Ÿ\nè¿™æ ·é¢è¯•å°±æ›´æœ‰åº•æ°”ï¼ğŸš€\n"
    },
    {
      "question": "hashmap æ˜¯å¦‚ä½•å­˜å‚¨çš„ ",
      "answer": "Hash å®šä½ï¼›æ•°ç»„å­˜å‚¨ï¼›å†²çªé“¾è¡¨ï¼›å¤šäº†çº¢é»‘ï¼›é˜ˆå€¼æ‰©å®¹ã€‚\n\nHashMap çš„ å­˜å‚¨æ ¸å¿ƒæœºåˆ¶ï¼š\nâ€œæ•°ç»„ + é“¾è¡¨ + çº¢é»‘æ ‘â€\né€šè¿‡ å“ˆå¸Œï¼ˆhashï¼‰å‡½æ•° è®¡ç®— key çš„ä½ç½®ï¼Œå­˜å‚¨çš„æ˜¯ Node èŠ‚ç‚¹ï¼ˆåŒ…æ‹¬ keyã€valueã€hashã€nextï¼‰ã€‚\n\n\né“¾è¡¨æ˜¯ä¸€ç§å¸¸è§çš„æ•°æ®ç»“æ„ï¼Œä½ å¯ä»¥æŠŠå®ƒæƒ³è±¡æˆä¸€ä¸²ç å­ï¼Œæ¯é¢—ç å­å°±æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ï¼Œé‡Œé¢å­˜ç€ key-value å¯¹ï¼Œè¿˜æœ‰ä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€é¢—ç å­çš„æŒ‡é’ˆã€‚æ•°ç»„é‡Œå­˜çš„å°±æ˜¯ç¬¬ä¸€é¢—ç å­çš„ä½ç½®ã€‚å½“è¦æ‰¾æŸä¸ª key æ—¶ï¼Œå…ˆé€šè¿‡å“ˆå¸Œå€¼æ‰¾åˆ°æ•°ç»„å¯¹åº”çš„ä½ç½®ï¼Œæ‹¿åˆ°ç¬¬ä¸€é¢—ç å­ï¼Œç„¶åé¡ºç€æŒ‡é’ˆä¾æ¬¡æŸ¥çœ‹æ¯é¢—ç å­é‡Œçš„ keyï¼Œç›´åˆ°æ‰¾åˆ°åŒ¹é…çš„ä¸ºæ­¢ã€‚è¿™æ ·å°±ç®—å¤šä¸ª key å“ˆå¸Œå€¼ç›¸åŒï¼Œä¹Ÿèƒ½ä¸€ä¸ªä¸€ä¸ªæ‰¾å‡ºæ¥ï¼Œä¸ä¼šä¹±æ‰ã€‚",
      "detail": "HashMap çš„ **å­˜å‚¨æ ¸å¿ƒæœºåˆ¶**ï¼š\n**â€œæ•°ç»„ + é“¾è¡¨ + çº¢é»‘æ ‘â€**\né€šè¿‡ **å“ˆå¸Œï¼ˆhashï¼‰å‡½æ•°** è®¡ç®— key çš„ä½ç½®ï¼Œå­˜å‚¨çš„æ˜¯ **Node èŠ‚ç‚¹ï¼ˆåŒ…æ‹¬ keyã€valueã€hashã€nextï¼‰**ã€‚\n\n---\n\n## ğŸ”‘ ä¸€å¥è®°å¿†å£è¯€ï¼ˆé¢è¯•ç”¨ï¼‰\n\n**æ•°ç»„å­˜æ¡¶ä½ï¼Œhash å®šä½ç½®ï¼›ç¢°æ’æŒ‚é“¾è¡¨ï¼Œå¤šäº†å˜çº¢é»‘ã€‚**\n\n---\n\n## ğŸ§  æ ¸å¿ƒç»“æ„\n\n```java\nclass Node<K,V> {\n    final int hash;\n    final K key;\n    V value;\n    Node<K,V> next;  // é“¾è¡¨ or æ ‘èŠ‚ç‚¹\n}\n```\n\n---\n\n## ğŸ“¦ å­˜å‚¨æµç¨‹ï¼ˆputï¼‰\n\n1. **è®¡ç®— key çš„ hash å€¼**\n2. **å®šä½æ•°ç»„ä¸‹æ ‡**ï¼š `(n - 1) & hash`\n3. **åˆ¤æ–­æ˜¯å¦æœ‰å†²çª**\n\n   * æ²¡æœ‰å†²çª â†’ ç›´æ¥æ”¾å…¥æ•°ç»„\n   * æœ‰å†²çª â†’ æŒ‚åœ¨é“¾è¡¨\n4. å½“é“¾è¡¨é•¿åº¦ â‰¥ 8 â†’ **è‡ªåŠ¨è½¬æˆçº¢é»‘æ ‘**ï¼ˆæé«˜æŸ¥è¯¢æ•ˆç‡ï¼‰\n\n---\n\n## ğŸ“¤ æŸ¥è¯¢æµç¨‹ï¼ˆgetï¼‰\n\n1. é€šè¿‡ key **è®¡ç®— hash**\n2. å®šä½æ•°ç»„ç´¢å¼•\n3. å…ˆæ¯”è¾ƒæ•°ç»„é‡Œç¬¬ä¸€ä¸ªèŠ‚ç‚¹\n\n   * key ä¸€æ · â†’ è¿”å›\n   * ä¸ä¸€æ · â†’ éå†é“¾è¡¨ / çº¢é»‘æ ‘\n\n---\n\n## âš™ æ‰©å®¹æœºåˆ¶ï¼ˆresizeï¼‰\n\n| é˜ˆå€¼                | é»˜è®¤å€¼  |\n| ----------------- | ---- |\n| åˆå§‹å®¹é‡              | 16   |\n| è´Ÿè½½å› å­ (loadFactor) | 0.75 |\n| æ‰©å®¹é˜ˆå€¼              | 12   |\n\nè¶…è¿‡é˜ˆå€¼ â†’ æ•°ç»„å®¹é‡ *2 â†’ **éœ€è¦é‡æ–°è®¡ç®— hash & åˆ†é…ä½ç½®**ã€‚\n\n---\n\n## ğŸ“Œ é¢è¯•é«˜é¢‘é—®é¢˜ & ç­”æ³•\n\n| é¢è¯•é¢˜          | å›ç­”å…³é”®ç‚¹                    |\n| ------------ | ------------------------ |\n| HashMap å¦‚ä½•å­˜ï¼Ÿ | æ•°ç»„ + é“¾è¡¨ + çº¢é»‘æ ‘            |\n| ä¸ºä»€ä¹ˆè¦çº¢é»‘æ ‘ï¼Ÿ     | é“¾è¡¨å¤ªé•¿æŸ¥è¯¢ O(n)ï¼Œæ ‘æŸ¥è¯¢ O(log n) |\n| çº¿ç¨‹å®‰å…¨å—ï¼Ÿ       | ä¸å®‰å…¨ï¼Œç”¨ ConcurrentHashMap  |\n| æ‰©å®¹ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ     | å…¨éƒ¨èŠ‚ç‚¹é‡æ–°åˆ†é…ä½ç½®ï¼ˆrehashï¼‰       |\n\n---\n\n## ğŸ§ª put ç¤ºä¾‹\n\n```java\nMap<String, String> map = new HashMap<>();\nmap.put(\"a\", \"Android\");\n```\n\næµç¨‹ï¼š\n`\"a\"` â†’ hash â†’ å‡å¦‚æ”¾åœ¨æ•°ç»„ index=6 â†’ æ²¡å†²çª â†’ ç›´æ¥æ”¾\nå¦‚æœ \"abc\" ä¹Ÿè½åœ¨ index=6 â†’ å°±æŒ‚é“¾è¡¨ â†’ å¤šäº†å˜çº¢é»‘æ ‘\n\n---\n\n## ğŸ§  æœ€åè®°ä½è¿™å¥\n\nğŸ‘‰ **Hash å®šä½ï¼›æ•°ç»„å­˜å‚¨ï¼›å†²çªé“¾è¡¨ï¼›å¤šäº†çº¢é»‘ï¼›é˜ˆå€¼æ‰©å®¹ã€‚**\n\n---\n\nè¦ä¸è¦æˆ‘ç”»ä¸€å¼  **ç»“æ„å›¾**ï¼Ÿé¢è¯•ç›´æ¥çœ‹å›¾å›ç­”ï¼Œæ•ˆæœç¿»å€ï¼ğŸ“ˆ\n"
    },
    {
      "question": "java çš„äº’æ–¥é”?",
      "answer": "1.  **è‡ªåŠ¨ vs æ‰‹åŠ¨ï¼š**\n      * `synchronized` æ˜¯ JVM **è‡ªåŠ¨**åŠ é”è§£é”ï¼Œå‘ç”Ÿå¼‚å¸¸ä¼šè‡ªåŠ¨é‡Šæ”¾ï¼Œä¸ä¼šæ­»é”ã€‚\n      * `ReentrantLock` å¿…é¡»åœ¨ `finally` å—ä¸­**æ‰‹åŠ¨** `unlock()`ï¼Œå¦åˆ™ä¸€æ—¦æŠ›å¼‚å¸¸ï¼Œé”æ°¸è¿œä¸é‡Šæ”¾ï¼Œå¯¼è‡´æ­»é”ã€‚\n2.  **åŸç”Ÿ vs çµæ´»ï¼š**\n      * `synchronized` æ˜¯**åŸç”Ÿ**è¯­æ³•ï¼Œéå…¬å¹³ï¼ˆä¸èƒ½ä¿è¯æ’é˜Ÿçš„çº¿ç¨‹è°å…ˆæ‹¿åˆ°é”ï¼‰ã€‚\n      * `ReentrantLock` æ›´**çµæ´»**ï¼Œæ„é€ å‡½æ•°å¯ä»¥ä¼  `true` å¼€å¯**å…¬å¹³é”**ï¼ˆå…ˆæ¥ååˆ°ï¼‰ã€‚\n3.  **ä¸å¯æ–­ vs åŠŸèƒ½å…¨ï¼š**\n      * `synchronized` ç­‰å¾…é”æ—¶**ä¸å¯ä¸­æ–­**ï¼Œè¦ä¹ˆæ‹¿åˆ°é”ï¼Œè¦ä¹ˆä¸€ç›´ç­‰ã€‚\n      * `ReentrantLock` **åŠŸèƒ½å…¨**ï¼Œæ”¯æŒ `tryLock()`ï¼ˆæ‹¿ä¸åˆ°å°±èµ°ï¼Œä¸å‚»ç­‰ï¼‰å’Œ `lockInterruptibly()`ï¼ˆç­‰å¾…æ—¶å¯è¢«ä¸­æ–­ï¼‰ã€‚",
      "detail": "åœ¨ Java ä¸­ï¼Œ**äº’æ–¥é” (Mutex, Mutual Exclusion)** æ˜¯å¹¶å‘ç¼–ç¨‹çš„åŸºç¡€ï¼Œç”¨äºä¿è¯åŒä¸€æ—¶åˆ»åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½è®¿é—®å…±äº«èµ„æºã€‚\n\né’ˆå¯¹é¢è¯•ï¼Œä½ éœ€è¦æŒæ¡ Java ä¸­å®ç°äº’æ–¥é”çš„â€œä¸¤å¤§å·¨å¤´â€ï¼š**`synchronized`** å’Œ **`ReentrantLock`**ã€‚\n\nä»¥ä¸‹æ˜¯ä¸ºä½ å‡†å¤‡çš„é¢è¯•ç»“æ„ã€è®°å¿†å£è¯€å’Œæ·±åº¦æ€»ç»“ã€‚\n\n-----\n\n### âš”ï¸ ä¸€ã€ äº’æ–¥é”çš„ä¸¤å¤§å·¨å¤´\n\n#### 1\\. `synchronized` (å†…ç½®é” / éšå¼é”)\n\n  * **èº«ä»½ï¼š** Java è¯­è¨€çš„**å…³é”®å­— (Keyword)**ï¼Œæ˜¯ JVM å±‚é¢çš„å®ç°ã€‚\n  * **ç”¨æ³•ï¼š** å¯ä»¥ä¿®é¥°æ–¹æ³•ï¼ˆé™æ€æˆ–éé™æ€ï¼‰å’Œä»£ç å—ã€‚\n  * **ç‰¹ç‚¹ï¼š**\n      * **è‡ªåŠ¨åŒ–ï¼š** åŠ é”å’Œè§£é”ç”± JVM è‡ªåŠ¨å®Œæˆï¼Œä¸éœ€è¦æ‰‹åŠ¨å†™ä»£ç é‡Šæ”¾ã€‚\n      * **é”å‡çº§æœºåˆ¶ï¼š** JDK 1.6 ä¹‹åå¼•å…¥äº†â€œåå‘é” -\\> è½»é‡çº§é” -\\> é‡é‡çº§é”â€çš„ä¼˜åŒ–ï¼Œæ€§èƒ½å·²ç»éå¸¸å¼ºåŠ²ã€‚\n\n#### 2\\. `ReentrantLock` (æ˜¾å¼é”)\n\n  * **èº«ä»½ï¼š** JDK æä¾›çš„ **ç±» (Class)**ï¼Œä½äº `java.util.concurrent.locks` åŒ…ä¸‹ã€‚\n  * **ç”¨æ³•ï¼š** éœ€è¦ `new` ä¸€ä¸ªå®ä¾‹ï¼Œå¿…é¡»æ‰‹åŠ¨è°ƒç”¨ `lock()` å’Œ `unlock()`ã€‚\n  * **ç‰¹ç‚¹ï¼š**\n      * **çµæ´»æ€§ï¼š** æä¾›äº†æ¯” synchronized æ›´é«˜çº§çš„åŠŸèƒ½ï¼ˆå¦‚å…¬å¹³é”ã€å¯ä¸­æ–­ã€å°è¯•è·å–é”ï¼‰ã€‚\n      * **åŸºäº AQSï¼š** åº•å±‚åŸºäº **AQS (AbstractQueuedSynchronizer)** å’Œ **CAS** å®ç°ã€‚\n\n-----\n\n### âš¡ äºŒã€ é¢è¯•è®°å¿†å£è¯€ (å¯¹æ¯”æ³•)\n\nä¸ºäº†åˆ†æ¸…è¿™ä¸¤ä¸ªé”çš„åŒºåˆ«ï¼Œé€ä½ ä¸€ä¸ª **â€œ3 vs 3â€** çš„å¯¹æ¯”å£è¯€ï¼š\n\n> **â€œSync è‡ªåŠ¨åŸç”Ÿä¸å¯æ–­ï¼ŒLock æ‰‹åŠ¨çµæ´»åŠŸèƒ½å…¨ã€‚â€**\n\n**å£è¯€è¯¦è§£ï¼ˆé¢è¯•è¯æœ¯ï¼‰ï¼š**\n\n1.  **è‡ªåŠ¨ vs æ‰‹åŠ¨ï¼š**\n      * `synchronized` æ˜¯ JVM **è‡ªåŠ¨**åŠ é”è§£é”ï¼Œå‘ç”Ÿå¼‚å¸¸ä¼šè‡ªåŠ¨é‡Šæ”¾ï¼Œä¸ä¼šæ­»é”ã€‚\n      * `ReentrantLock` å¿…é¡»åœ¨ `finally` å—ä¸­**æ‰‹åŠ¨** `unlock()`ï¼Œå¦åˆ™ä¸€æ—¦æŠ›å¼‚å¸¸ï¼Œé”æ°¸è¿œä¸é‡Šæ”¾ï¼Œå¯¼è‡´æ­»é”ã€‚\n2.  **åŸç”Ÿ vs çµæ´»ï¼š**\n      * `synchronized` æ˜¯**åŸç”Ÿ**è¯­æ³•ï¼Œéå…¬å¹³ï¼ˆä¸èƒ½ä¿è¯æ’é˜Ÿçš„çº¿ç¨‹è°å…ˆæ‹¿åˆ°é”ï¼‰ã€‚\n      * `ReentrantLock` æ›´**çµæ´»**ï¼Œæ„é€ å‡½æ•°å¯ä»¥ä¼  `true` å¼€å¯**å…¬å¹³é”**ï¼ˆå…ˆæ¥ååˆ°ï¼‰ã€‚\n3.  **ä¸å¯æ–­ vs åŠŸèƒ½å…¨ï¼š**\n      * `synchronized` ç­‰å¾…é”æ—¶**ä¸å¯ä¸­æ–­**ï¼Œè¦ä¹ˆæ‹¿åˆ°é”ï¼Œè¦ä¹ˆä¸€ç›´ç­‰ã€‚\n      * `ReentrantLock` **åŠŸèƒ½å…¨**ï¼Œæ”¯æŒ `tryLock()`ï¼ˆæ‹¿ä¸åˆ°å°±èµ°ï¼Œä¸å‚»ç­‰ï¼‰å’Œ `lockInterruptibly()`ï¼ˆç­‰å¾…æ—¶å¯è¢«ä¸­æ–­ï¼‰ã€‚\n\n-----\n\n### ğŸ” ä¸‰ã€ æ·±åº¦è§£æ (åŠ åˆ†é¡¹)\n\né¢è¯•å®˜å¦‚æœæ·±æŒ–ï¼Œé€šå¸¸ä¼šé—®ä»¥ä¸‹ä¸‰ä¸ªæ–¹å‘ï¼Œç­”å‡ºæ¥å°±æ˜¯ Senior æ°´å¹³ï¼š\n\n#### 1\\. ä»€ä¹ˆæ˜¯â€œå¯é‡å…¥â€ (Reentrancy)?\n\n  * **æ¦‚å¿µï¼š** å‡å¦‚çº¿ç¨‹ A æ‹¿åˆ°äº†é”ï¼Œæ­£åœ¨æ‰§è¡Œä»£ç ï¼Œå¦‚æœä»£ç é‡Œåˆè°ƒç”¨äº†å¦ä¸€ä¸ªéœ€è¦**åŒä¸€æŠŠé”**çš„æ–¹æ³•ï¼Œçº¿ç¨‹ A å¯ä»¥ç›´æ¥è¿›å»ï¼Œä¸éœ€è¦é‡æ–°æ’é˜Ÿã€‚\n  * **ç°çŠ¶ï¼š** `synchronized` å’Œ `ReentrantLock` **éƒ½æ˜¯å¯é‡å…¥é”**ã€‚\n  * **åŸç†ï¼š** é”å†…éƒ¨ç»´æŠ¤äº†ä¸€ä¸ªâ€œæŒæœ‰è€…çº¿ç¨‹â€è®¡æ•°å™¨ã€‚å¦‚æœæ˜¯è‡ªå·±äººï¼Œè®¡æ•°å™¨ +1ï¼›é€€å‡ºæ—¶ -1ï¼›å‡åˆ° 0 æ‰æ˜¯çœŸçš„é‡Šæ”¾ã€‚\n\n#### 2\\. åº•å±‚åŸç†åŒºåˆ« (Monitor vs AQS)\n\n  * **synchronized:** ä¾èµ–äºå¯¹è±¡å¤´ï¼ˆObject Headerï¼‰ä¸­çš„ **Monitor**ï¼ˆç›‘è§†å™¨é”ï¼‰ã€‚ç¼–è¯‘åä¼šç”Ÿæˆ `monitorenter` å’Œ `monitorexit` æŒ‡ä»¤ã€‚\n  * **ReentrantLock:** ä¾èµ–äº **AQS (AbstractQueuedSynchronizer)** æ¡†æ¶ã€‚æ ¸å¿ƒæ˜¯ä¸€ä¸ª `state` å˜é‡ï¼ˆintç±»å‹ï¼‰å’Œä¸€ä¸ª FIFO ç­‰å¾…é˜Ÿåˆ—ï¼Œåˆ©ç”¨ **CAS (Compare And Swap)** æŒ‡ä»¤æ¥åŸå­æ€§åœ°ä¿®æ”¹çŠ¶æ€ã€‚\n\n#### 3\\. ç­‰å¾…/é€šçŸ¥æœºåˆ¶çš„åŒºåˆ«\n\n  * **synchronized:** é…åˆ `Object` ç±»çš„ `wait()`ã€`notify()`ã€`notifyAll()` ä½¿ç”¨ã€‚\n  * **ReentrantLock:** é…åˆ `Condition` æ¥å£ä½¿ç”¨ (`await()`, `signal()`)ã€‚\n      * *ä¼˜åŠ¿ï¼š* `ReentrantLock` å¯ä»¥åˆ›å»ºå¤šä¸ª `Condition`ï¼ˆæ¯”å¦‚ä¸€ä¸ªâ€œé˜Ÿåˆ—æ»¡â€æ¡ä»¶ï¼Œä¸€ä¸ªâ€œé˜Ÿåˆ—ç©ºâ€æ¡ä»¶ï¼‰ï¼Œå®ç°æ›´ç²¾ç»†çš„åˆ†ç»„å”¤é†’ï¼Œè€Œ `synchronized` åªèƒ½éšæœºå”¤é†’æˆ–å…¨éƒ¨å”¤é†’ã€‚\n\n-----\n\n### ğŸ’» å››ã€ ä»£ç å¯¹æ¯” (ä¸€ç›®äº†ç„¶)\n\n#### 1\\. synchronized å†™æ³•\n\n```java\npublic synchronized void methodA() {\n    // è‡ªåŠ¨åŠ é”\n    System.out.println(\"Do something...\");\n    // è‡ªåŠ¨è§£é”\n}\n\n// æˆ–è€…åŒæ­¥ä»£ç å—\npublic void methodB() {\n    synchronized(this) {\n        // ...\n    }\n}\n```\n\n#### 2\\. ReentrantLock å†™æ³• (æ ‡å‡†èŒƒå¼)\n\n```java\nprivate final ReentrantLock lock = new ReentrantLock();\n\npublic void methodC() {\n    lock.lock(); // 1. æ‰‹åŠ¨åŠ é”\n    try {\n        System.out.println(\"Do something...\");\n    } finally {\n        lock.unlock(); // 2. å¿…é¡»åœ¨ finally ä¸­æ‰‹åŠ¨è§£é”ï¼\n    }\n}\n```\n\n-----\n\n### ğŸ“ äº”ã€ æ€»ç»“ (One-liner)\n\n> \"åœ¨ Java ä¸­ï¼Œç®€å•çš„åŒæ­¥ç›´æ¥ç”¨ `synchronized`ï¼ˆå› ä¸ºå®ƒç°åœ¨æ€§èƒ½å¾ˆå¥½ä¸”ä»£ç ç®€æ´ï¼‰ï¼›å¦‚æœéœ€è¦é«˜çº§åŠŸèƒ½ï¼ˆå¦‚å…¬å¹³æ€§ã€å“åº”ä¸­æ–­ã€å¤šæ¡ä»¶å˜é‡ï¼‰æˆ–è€…ç²¾ç»†æ§åˆ¶é”çš„èŒƒå›´ï¼Œåˆ™ä½¿ç”¨ `ReentrantLock`ã€‚\"\n\n-----\n\n**Would you like me to explain the \"Lock Upgrade\" mechanism (Biased -\\> Lightweight -\\> Heavyweight) of `synchronized`? This is often the next deeper question in interviews.**"
    },
    {
      "question": "java å¦‚ä½•ä¿è¯å•ä¾‹å®‰å…¨ï¼Ÿ",
      "answer": "",
      "detail": "è¿™æ˜¯ä¸€ä¸ªéå¸¸ç»å…¸çš„ Java é¢è¯•é¢˜ã€‚è¦ä¿è¯å•ä¾‹ï¼ˆSingletonï¼‰çš„â€œå®‰å…¨â€ï¼Œä¸ä»…ä»…æ˜¯æŒ‡**çº¿ç¨‹å®‰å…¨**ï¼ˆå¤šçº¿ç¨‹å¹¶å‘æ—¶åªåˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼‰ï¼Œè¿˜åŒ…æ‹¬é˜²æ­¢é€šè¿‡**åå°„**å’Œ**åºåˆ—åŒ–**æ¥â€œç ´åâ€å•ä¾‹çš„å”¯ä¸€æ€§ã€‚\n\næˆ‘å°†ä¸ºä½ ä»è¿™ä¸‰ä¸ªè§’åº¦æ¥åˆ†æï¼Œå¹¶ç»™å‡ºæœ€ç»ˆçš„â€œæœ€ä½³å®è·µâ€ã€‚\n\n### ğŸš€ æ ¸å¿ƒå£è¯€\n\nåœ¨æ·±å…¥ä¹‹å‰ï¼Œå…ˆç»™ä½ ä¸€ä¸ªé¢è¯•ç”¨çš„â€œé«˜åˆ†å£è¯€â€ï¼š\n\n> **â€œçº¿ç¨‹å®‰å…¨é  JVMï¼Œåå°„ç ´åé æ„é€ ï¼Œåºåˆ—åŒ–ç ´åé  `readResolve`ï¼›â€**\n> **â€œæ‡’æ±‰ DCL éœ€ `volatile`ï¼ŒHolder æ¨¡å¼æœ€è®¨å·§ï¼Œæšä¸¾å•ä¾‹å…¨æå®šã€‚â€**\n\n-----\n\n### 1\\. ä¿è¯çº¿ç¨‹å®‰å…¨ï¼ˆæœ€æ ¸å¿ƒï¼‰\n\nè¿™æ˜¯æœ€å¸¸è¢«é—®åˆ°çš„â€œå®‰å…¨â€ã€‚å¦‚æœä¸¤ä¸ªçº¿ç¨‹åŒæ—¶è°ƒç”¨ `getInstance()`ï¼Œéƒ½åˆ¤æ–­ `instance == null`ï¼Œå®ƒä»¬å¯èƒ½ä¼šå„è‡ªåˆ›å»ºä¸€ä¸ªå®ä¾‹ï¼Œè¿™å°±ä¸æ˜¯å•ä¾‹äº†ã€‚\n\nä»¥ä¸‹æ˜¯å‡ ç§å®ç°æ–¹å¼åŠå…¶çº¿ç¨‹å®‰å…¨åˆ†æï¼š\n\n#### A. é¥¿æ±‰å¼ (Eager Initialization)\n\n```java\n// 1. é¥¿æ±‰å¼\npublic class Singleton {\n    // 1. å…³é”®ç‚¹ï¼šç±»åŠ è½½æ—¶å°±ç«‹å³åˆå§‹åŒ–ï¼ˆJVMä¿è¯çº¿ç¨‹å®‰å…¨ï¼‰\n    private static final Singleton instance = new Singleton();\n\n    private Singleton() {}\n\n    public static Singleton getInstance() {\n        return instance;\n    }\n}\n```\n\n  * **çº¿ç¨‹å®‰å…¨å—ï¼Ÿ** **å®‰å…¨**ã€‚\n  * **åŸç†ï¼š** å®ä¾‹åœ¨**ç±»åŠ è½½ (Class Loading)** æ—¶å°±è¢«åˆ›å»ºäº†ã€‚JVM çš„ç±»åŠ è½½æœºåˆ¶å¤©ç”Ÿå°±æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œå®ƒä¿è¯äº†è¿™ä¸ªè¿‡ç¨‹åªä¼šå‘ç”Ÿä¸€æ¬¡ã€‚\n  * **ä¼˜ç‚¹ï¼š** ç®€å•ï¼Œç»å¯¹çš„çº¿ç¨‹å®‰å…¨ã€‚\n  * **ç¼ºç‚¹ï¼š** **éæ‡’åŠ è½½**ã€‚å¦‚æœè¿™ä¸ªå•ä¾‹å¯¹è±¡å¾ˆå å†…å­˜ï¼Œæˆ–è€…åˆå§‹åŒ–å¾ˆè€—æ—¶ï¼Œä½† App å¯åŠ¨ååˆä¸ä¸€å®šä¼šç”¨åˆ°å®ƒï¼Œè¿™å°±ä¼šé€ æˆèµ„æºæµªè´¹ã€‚\n\n#### B. æ‡’æ±‰å¼ (Lazy Initialization) - çº¿ç¨‹ä¸å®‰å…¨\n\n```java\n// 2. æ‡’æ±‰å¼ï¼ˆçº¿ç¨‹ä¸å®‰å…¨ - é”™è¯¯ç¤ºä¾‹ï¼ï¼‰\npublic class Singleton {\n    private static Singleton instance;\n    private Singleton() {}\n\n    public static Singleton getInstance() {\n        if (instance == null) { // <-- çº¿ç¨‹Aå’ŒBå¯èƒ½åŒæ—¶è¿›å…¥è¿™é‡Œ\n            instance = new Singleton(); // <-- Aå’ŒBéƒ½åˆ›å»ºäº†å®ä¾‹\n        }\n        return instance;\n    }\n}\n```\n\n  * **çº¿ç¨‹å®‰å…¨å—ï¼Ÿ** **ä¸å®‰å…¨**ã€‚è¿™æ˜¯å…¸å‹çš„åé¢æ•™æã€‚\n\n#### C. æ‡’æ±‰å¼ (Synchronized æ–¹æ³•) - çº¿ç¨‹å®‰å…¨\n\n```java\n// 3. æ‡’æ±‰å¼ï¼ˆåŒæ­¥æ–¹æ³• - çº¿ç¨‹å®‰å…¨ï¼Œä½†æ•ˆç‡ä½ï¼‰\npublic class Singleton {\n    private static Singleton instance;\n    private Singleton() {}\n\n    // å…³é”®ç‚¹ï¼šåŠ äº† synchronized é”\n    public static synchronized Singleton getInstance() {\n        if (instance == null) {\n            instance = new Singleton();\n        }\n        return instance;\n    }\n}\n```\n\n  * **çº¿ç¨‹å®‰å…¨å—ï¼Ÿ** **å®‰å…¨**ã€‚\n  * **åŸç†ï¼š** `synchronized` å…³é”®å­—ç»™ `getInstance()` æ–¹æ³•åŠ äº†é”ã€‚ä»»ä½•æ—¶å€™åªæœ‰ä¸€ä¸ªçº¿ç¨‹èƒ½è¿›å…¥è¿™ä¸ªæ–¹æ³•ã€‚\n  * **ç¼ºç‚¹ï¼š** **æ€§èƒ½æå·®**ã€‚`instance` ä¸€æ—¦è¢«åˆ›å»ºåï¼Œåç»­æ‰€æœ‰çº¿ç¨‹è°ƒç”¨ `getInstance()` éƒ½ä¸éœ€è¦å†åŒæ­¥äº†ï¼Œä½†è¿™ä¸ªé”ä¾ç„¶å­˜åœ¨ï¼Œå¯¼è‡´æ‰€æœ‰è°ƒç”¨éƒ½å¿…é¡»æ’é˜Ÿï¼Œæ•ˆç‡å¾ˆä½ã€‚\n\n#### D. åŒé‡æ£€æŸ¥é”å®š (Double-Checked Locking - DCL)\n\nè¿™æ˜¯æ‡’æ±‰å¼çš„é«˜æ•ˆä¼˜åŒ–ç‰ˆï¼Œä¹Ÿæ˜¯**é¢è¯•é«˜é¢‘è€ƒç‚¹**ã€‚\n\n```java\n// 4. åŒé‡æ£€æŸ¥é”å®š (DCL)\npublic class Singleton {\n    // 1. å…³é”®ç‚¹ï¼šå¿…é¡»åŠ  volatile\n    private static volatile Singleton instance; \n    \n    private Singleton() {}\n\n    public static Singleton getInstance() {\n        // 2. ç¬¬ä¸€æ¬¡æ£€æŸ¥ï¼šä¸ºäº†æ•ˆç‡ã€‚å¦‚æœå·²ç»åˆ›å»ºäº†ï¼Œå°±ä¸ç”¨è¿›é”äº†\n        if (instance == null) {\n            // 3. ç¬¬äºŒæ¬¡æ£€æŸ¥ï¼šä¸ºäº†å®‰å…¨ã€‚\n            synchronized (Singleton.class) {\n                if (instance == null) { \n                    // 4. åˆ›å»ºå®ä¾‹\n                    instance = new Singleton(); \n                }\n            }\n        }\n        return instance;\n    }\n}\n```\n\n  * **çº¿ç¨‹å®‰å…¨å—ï¼Ÿ** **å®‰å…¨**ï¼ˆå‰ææ˜¯ `instance` å¿…é¡»ç”¨ `volatile` ä¿®é¥°ï¼‰ã€‚\n  * **ä¸ºä»€ä¹ˆå¿…é¡»åŠ  `volatile`ï¼Ÿ**\n      * è¿™æ˜¯ä¸€ä¸ª**æŒ‡ä»¤é‡æ’**ï¼ˆInstruction Reorderingï¼‰é—®é¢˜ã€‚`instance = new Singleton()` è¿™è¡Œä»£ç åœ¨ JVM ä¸­ä¸æ˜¯åŸå­çš„ï¼Œå®ƒï¿½ï¿½ï¿½è‡´åˆ†ä¸ºä¸‰æ­¥ï¼š\n        1.  ä¸º `instance` åˆ†é…å†…å­˜ç©ºé—´ã€‚\n        2.  è°ƒç”¨ `Singleton()` æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–å¯¹è±¡ã€‚\n        3.  å°† `instance` å˜é‡æŒ‡å‘åˆ†é…çš„å†…å­˜åœ°å€ã€‚\n      * **æ²¡æœ‰ `volatile` æ—¶**ï¼šJVM å¯èƒ½ä¼šé‡æ’åºï¼Œæ‰§è¡Œé¡ºåºå˜ä¸º 1 -\\> 3 -\\> 2ã€‚\n      * **æç«¯æƒ…å†µ**ï¼šçº¿ç¨‹ A æ‰§è¡Œäº† 1 å’Œ 3ï¼Œæ­¤æ—¶ `instance` **ä¸ä¸º null**ï¼Œä½†å¯¹è±¡è¿˜**æœªåˆå§‹åŒ–**ã€‚çº¿ç¨‹ B æ­¤æ—¶è°ƒç”¨ `getInstance()`ï¼Œæ‰§è¡Œåˆ°ç¬¬ä¸€æ¬¡æ£€æŸ¥ `if (instance == null)`ï¼Œå‘ç° `instance` ä¸ä¸º nullï¼Œäºæ˜¯ç›´æ¥è¿”å›äº†è¿™ä¸ª**åŠæˆå“**çš„ `instance` å¹¶ä½¿ç”¨ï¼Œå¯¼è‡´ç¨‹åºå´©æºƒã€‚\n      * **`volatile` çš„ä½œç”¨**ï¼šç¦æ­¢æŒ‡ä»¤é‡æ’ï¼Œç¡®ä¿ 1 -\\> 2 -\\> 3 çš„é¡ºåºæ‰§è¡Œï¼Œä¿è¯çº¿ç¨‹Bæ‹¿åˆ°çš„æ˜¯å®Œæ•´çš„å¯¹è±¡ã€‚\n\n#### E. é™æ€å†…éƒ¨ç±» (Holder æ¨¡å¼) - æœ€ä½³æ‡’åŠ è½½æ–¹æ¡ˆ\n\nè¿™æ˜¯ DCL çš„å®Œç¾æ›¿ä»£æ–¹æ¡ˆï¼Œåˆ©ç”¨äº† JVM çš„ç±»åŠ è½½æœºåˆ¶ã€‚\n\n```java\n// 5. é™æ€å†…éƒ¨ç±» (Holder æ¨¡å¼) - æ¨èçš„æ‡’åŠ è½½æ–¹æ¡ˆ\npublic class Singleton {\n    private Singleton() {}\n\n    // 1. å…³é”®ç‚¹ï¼šå®šä¹‰ä¸€ä¸ªç§æœ‰é™æ€å†…éƒ¨ç±»\n    private static class SingletonHolder {\n        // 2. åœ¨å†…éƒ¨ç±»ä¸­åˆå§‹åŒ–å®ä¾‹ï¼ˆJVMä¿è¯çº¿ç¨‹å®‰å…¨ï¼‰\n        private static final Singleton INSTANCE = new Singleton();\n    }\n\n    public static Singleton getInstance() {\n        // 3. ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶ï¼Œæ‰ä¼šåŠ è½½ SingletonHolder ç±»å¹¶åˆ›å»º INSTANCE\n        return SingletonHolder.INSTANCE;\n    }\n}\n```\n\n  * **çº¿ç¨‹å®‰å…¨å—ï¼Ÿ** **å®‰å…¨**ã€‚\n  * **åŸç†ï¼ˆæ‡’åŠ è½½+çº¿ç¨‹å®‰å…¨ï¼‰ï¼š**\n    1.  **æ‡’åŠ è½½ï¼š** åªè¦ä½ ä¸è°ƒç”¨ `getInstance()`ï¼Œ`SingletonHolder` ç±»å°±ä¸ä¼šè¢«åŠ è½½ï¼Œ`INSTANCE` å°±ä¸ä¼šè¢«åˆ›å»ºã€‚\n    2.  **çº¿ç¨‹å®‰å…¨ï¼š** å½“ `getInstance()` ç¬¬ä¸€æ¬¡è¢«è°ƒç”¨æ—¶ï¼ŒJVM ä¼šåŠ è½½ `SingletonHolder` ç±»å¹¶åˆå§‹åŒ– `INSTANCE`ã€‚JVM çš„ç±»åŠ è½½æœºåˆ¶ä¿è¯äº†è¿™ä¸ªåˆå§‹åŒ–è¿‡ç¨‹æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚\n  * **ä¼˜ç‚¹ï¼š** å…¼é¡¾äº†æ‡’åŠ è½½ã€é«˜æ€§èƒ½å’Œç¼–ç ç®€å•æ€§ï¼Œæ˜¯**æœ€æ¨èçš„æ‡’åŠ è½½å®ç°æ–¹å¼**ã€‚\n\n-----\n\n### 2\\. é˜²æ­¢åå°„ç ´å\n\n**é—®é¢˜ï¼š** å³ä½¿æ„é€ å‡½æ•°æ˜¯ `private` çš„ï¼Œâ€œé«˜æ‰‹â€ä¹Ÿå¯ä»¥é€šè¿‡ Java åå°„ï¼ˆReflectionï¼‰æ¥è°ƒç”¨å®ƒï¼Œå¼ºè¡Œåˆ›å»ºæ–°å®ä¾‹ã€‚\n\n```java\nConstructor<Singleton> constructor = Singleton.class.getDeclaredConstructor();\nconstructor.setAccessible(true); // å¼ºè¡Œâ€œç ´è§£â€ç§æœ‰æ„é€ \nSingleton instance2 = constructor.newInstance(); // åˆ›å»ºäº†ç¬¬äºŒä¸ªå®ä¾‹\n```\n\n**è§£å†³æ–¹æ¡ˆï¼š** åœ¨ `private` æ„é€ å‡½æ•°ä¸­**åŠ ä¸€é“é˜²å«**ã€‚\n\nä»¥ **Holder æ¨¡å¼**ä¸ºä¾‹ï¼š\n\n```java\npublic class Singleton {\n    private Singleton() {\n        // 1. åœ¨æ„é€ å‡½æ•°ä¸­åŠ åˆ¤æ–­ï¼Œé˜²æ­¢åå°„è°ƒç”¨\n        if (SingletonHolder.INSTANCE != null) {\n            throw new RuntimeException(\"Singleton instance already exists. Use getInstance() method.\");\n        }\n    }\n\n    private static class SingletonHolder {\n        private static final Singleton INSTANCE = new Singleton();\n    }\n\n    public static Singleton getInstance() {\n        return SingletonHolder.INSTANCE;\n    }\n}\n```\n\n  * **åŸç†ï¼š** å½“åå°„è¯•å›¾ç¬¬äºŒæ¬¡è°ƒç”¨æ„é€ å‡½æ•°æ—¶ï¼Œ`INSTANCE` å·²ç»ï¼ˆæˆ–æ­£åœ¨ï¼‰è¢«åˆå§‹åŒ–ï¼Œæ­¤æ—¶åˆ¤æ–­ä¸ä¸ºç©ºï¼Œç›´æ¥æŠ›å‡ºå¼‚å¸¸ï¼Œé˜»æ­¢ç¬¬äºŒä¸ªå®ä¾‹è¢«åˆ›å»ºã€‚\n\n-----\n\n### 3\\. é˜²æ­¢åºåˆ—åŒ–ç ´å\n\n**é—®é¢˜ï¼š** å¦‚æœä½ çš„å•ä¾‹ç±»å®ç°äº† `Serializable` æ¥å£ï¼ˆæ¯”å¦‚éœ€è¦ç¼“å­˜åˆ°ç£ç›˜æˆ–ç½‘ç»œä¼ è¾“ï¼‰ï¼Œé‚£ä¹ˆå½“å®ƒè¢«**ååºåˆ—åŒ–**ï¼ˆ`readObject()`ï¼‰æ—¶ï¼ŒJava ä¼š**é»˜è®¤åˆ›å»ºä¸€ä¸ªæ–°å®ä¾‹**ã€‚\n\n**è§£å†³æ–¹æ¡ˆï¼š** åœ¨å•ä¾‹ç±»ä¸­å®ç° `readResolve()` æ–¹æ³•ã€‚\n\n```java\nimport java.io.Serializable;\n\npublic class Singleton implements Serializable {\n    // ... (ä½¿ç”¨ Holder æ¨¡å¼) ...\n    private static class SingletonHolder {\n        private static final Singleton INSTANCE = new Singleton();\n    }\n    public static Singleton getInstance() {\n        return SingletonHolder.INSTANCE;\n    }\n    \n    // å…³é”®ç‚¹ï¼šå®ç° readResolve() æ–¹æ³•\n    protected Object readResolve() {\n        // åœ¨ååºåˆ—åŒ–æ—¶ï¼Œç›´æ¥è¿”å›å·²ç»å­˜åœ¨çš„é‚£ä¸ªå•ä¾‹å¯¹è±¡\n        return SingletonHolder.INSTANCE; \n    }\n}\n```\n\n  * **åŸç†ï¼š** åœ¨ååºåˆ—åŒ–è¿‡ç¨‹ä¸­ï¼ŒJVM ä¼šæ£€æŸ¥è¯¥ç±»æ˜¯å¦æœ‰ `readResolve()` æ–¹æ³•ã€‚å¦‚æœæœ‰ï¼ŒJVM ä¼š**ä¸¢å¼ƒ**åˆšåˆšä»æµä¸­åˆ›å»ºçš„æ–°å¯¹è±¡ï¼Œè½¬è€Œ**è¿”å›** `readResolve()` æ–¹æ³•æŒ‡å®šçš„å¯¹è±¡ã€‚\n\n-----\n\n### 4\\. ç»ˆææ–¹æ¡ˆï¼šæšä¸¾ (Enum)\n\nã€ŠEffective Javaã€‹ä½œè€… Joshua Bloch æåŠ›æ¨èçš„æ–¹å¼ã€‚\n\n```java\n// 6. ç»ˆææ–¹æ¡ˆï¼šæšä¸¾\npublic enum Singleton {\n    INSTANCE; // 1. å®šä¹‰ä¸€ä¸ªæšä¸¾å…ƒç´ ï¼Œå®ƒæœ¬èº«å°±æ˜¯å•ä¾‹\n\n    // ä½ å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ ä½ éœ€è¦çš„æ–¹æ³•\n    public void doSomething() {\n        System.out.println(\"Doing something...\");\n    }\n}\n```\n\n  * **ç”¨æ³•ï¼š** `Singleton.INSTANCE.doSomething();`\n  * **ä¸ºä»€ä¹ˆå®ƒæ˜¯å®Œç¾çš„ï¼Ÿ**\n    1.  **çº¿ç¨‹å®‰å…¨ï¼š** JVM å¤©ç”Ÿä¿è¯æšä¸¾å®ä¾‹çš„å”¯ä¸€æ€§å’Œçº¿ç¨‹å®‰å…¨ã€‚\n    2.  **é˜²æ­¢åå°„ï¼š** JVM æ˜ç¡®è§„å®šï¼Œ**ä¸å…è®¸**ä½¿ç”¨åå°„æ¥åˆ›å»ºæšä¸¾å®ä¾‹ã€‚\n    3.  **é˜²æ­¢åºåˆ—åŒ–ï¼š** Java çš„æšä¸¾åºåˆ—åŒ–æœºåˆ¶å¤©ç”Ÿå°±èƒ½ä¿è¯ååºåˆ—åŒ–åå¾—åˆ°çš„æ˜¯åŒä¸€ä¸ªå®ä¾‹ï¼Œä½ **æ— éœ€**å®ç° `readResolve()`ã€‚\n  * **ç¼ºç‚¹ï¼š** æ— æ³•å®ç°æ‡’åŠ è½½ï¼ˆå®ƒå’Œâ€œé¥¿æ±‰å¼â€ä¸€æ ·ï¼Œåœ¨ç±»åŠ è½½æ—¶å°±åˆå§‹åŒ–äº†ï¼‰ã€‚\n\n-----\n\n### æ€»ç»“ï¼šé¢è¯•æ—¶å¦‚ä½•å›ç­”ï¼Ÿ\n\n**é¢è¯•å®˜ï¼š** â€œJava å¦‚ä½•ä¿è¯å•ä¾‹å®‰å…¨ï¼Ÿâ€\n\n**ä½ ï¼š** â€œä¿è¯å•ä¾‹å®‰å…¨éœ€è¦ä»ä¸‰ä¸ªæ–¹é¢è€ƒè™‘ï¼š**çº¿ç¨‹å®‰å…¨**ã€**é˜²æ­¢åå°„ç ´å**å’Œ**é˜²æ­¢åºåˆ—åŒ–ç ´å**ã€‚â€\n\n> 1.  **çº¿ç¨‹å®‰å…¨ï¼š**\n>\n>       * â€œæœ€æ¨èçš„æ–¹å¼æ˜¯**é™æ€å†…éƒ¨ç±»ï¼ˆHolderï¼‰æ¨¡å¼**ï¼Œå®ƒåˆ©ç”¨ JVM ç±»åŠ è½½æœºåˆ¶ä¿è¯äº†çº¿ç¨‹å®‰å…¨ï¼Œå¹¶ä¸”å®ç°äº†æ‡’åŠ è½½ï¼Œæ€§èƒ½é«˜ã€‚â€\n>       * â€œå¦‚æœä¸éœ€è¦æ‡’åŠ è½½ï¼Œ**é¥¿æ±‰å¼**æœ€ç®€å•ã€‚â€\n>       * â€œå¦‚æœç”¨ **DCLï¼ˆåŒé‡æ£€æŸ¥é”å®šï¼‰**ï¼Œå¿…é¡»ç»™ `instance` å˜é‡åŠ ä¸Š `volatile` å…³é”®å­—ï¼Œä»¥é˜²æ­¢æŒ‡ä»¤é‡æ’å¯¼è‡´æ‹¿åˆ°åŠæˆå“å¯¹è±¡ã€‚â€\n>\n> 2.  **é˜²æ­¢åå°„ç ´åï¼š**\n>\n>       * â€œæˆ‘ä»¬å¯ä»¥åœ¨ `private` æ„é€ å‡½æ•°é‡ŒåŠ ä¸€ä¸ªåˆ¤æ–­ï¼Œå¦‚æœå®ä¾‹å·²ç»å­˜åœ¨ï¼Œå°±ç›´æ¥æŠ›å‡ºå¼‚å¸¸ï¼Œé˜»æ­¢åˆ›å»ºæ–°å®ä¾‹ã€‚â€\n>\n> 3.  **é˜²æ­¢åºåˆ—åŒ–ç ´åï¼š**\n>\n>       * â€œå¦‚æœå•ä¾‹ç±»å®ç°äº† `Serializable` æ¥å£ï¼Œæˆ‘ä»¬éœ€è¦æ·»åŠ ä¸€ä¸ª `readResolve()` æ–¹æ³•ï¼Œåœ¨ååºåˆ—åŒ–æ—¶è¿”å›å…¨å±€å”¯ä¸€çš„é‚£ä¸ªå®ä¾‹ã€‚â€\n>\n> 4.  **ï¼ˆæœ€ä½³å®è·µï¼‰**\n>\n>       * â€œä¸è¿‡ï¼Œæœ€ç®€å•ã€æœ€å®‰å…¨çš„å®ç°æ–¹å¼æ˜¯**ä½¿ç”¨æšä¸¾ï¼ˆEnumï¼‰**ã€‚å®ƒå¤©ç”Ÿå°±æ˜¯å•ä¾‹ï¼Œå¹¶ä¸”ç”± JVM è‡ªåŠ¨ä¿è¯äº†ä¸Šè¿°æ‰€æœ‰å®‰å…¨é—®é¢˜ï¼ˆçº¿ç¨‹ã€åå°„ã€åºåˆ—åŒ–ï¼‰ï¼Œæ˜¯ã€ŠEffective Javaã€‹ä½œè€…æ¨èçš„ç»ˆææ–¹æ¡ˆã€‚â€"
    },
    {
      "question": "â€œè®²è®² `volatile` å…³é”®å­—ï¼Ÿâ€",
      "answer": "â€œä¸€çœ‹å°±è§â€æŒ‡çš„æ˜¯å¯è§æ€§ã€‚è¢« volatile ä¿®é¥°çš„å˜é‡ï¼Œèƒ½ä¿è¯ä¸€ä¸ªçº¿ç¨‹å¯¹å®ƒçš„ä¿®æ”¹ï¼Œèƒ½è¢«å…¶ä»–çº¿ç¨‹ç«‹å³çœ‹åˆ°ã€‚å®ƒé€šè¿‡å¼ºåˆ¶è¯»å†™éƒ½èµ°ä¸»å†…å­˜ï¼Œè€Œä¸æ˜¯çº¿ç¨‹ç¼“å­˜æ¥å®ç°çš„ã€‚â€\n\nâ€œäºŒä¸ä¹±åºâ€æŒ‡çš„æ˜¯æœ‰åºæ€§ã€‚volatile ä¼šç¦æ­¢æŒ‡ä»¤é‡æ’ã€‚è¿™åœ¨DCLï¼ˆåŒé‡æ£€æŸ¥é”å®šï¼‰å•ä¾‹ä¸­è‡³å…³é‡è¦ï¼Œå®ƒèƒ½é˜²æ­¢ instance = new Singleton() è¢«é‡æ’ï¼Œå¯¼è‡´å…¶ä»–çº¿ç¨‹æ‹¿åˆ°â€˜åŠæˆå“â€™å¯¹è±¡ã€‚â€\n\nâ€œä¸‰ä¸ä¿åŸå­â€æ˜¯å®ƒçš„å±€é™æ€§ã€‚volatile ä¸èƒ½ä¿è¯å¤åˆæ“ä½œçš„åŸå­æ€§ã€‚æ¯”å¦‚ i++ è¿™ç§æ“ä½œï¼Œvolatile æ˜¯æ— æ³•ä¿è¯çº¿ç¨‹å®‰å…¨çš„ï¼Œè¿™ç§æƒ…å†µå¿…é¡»ä½¿ç”¨ synchronized æˆ–è€… AtomicIntegerã€‚â€",
      "detail": "`volatile` æ˜¯ Java å¹¶å‘ç¼–ç¨‹ä¸­ä¸€ä¸ªéå¸¸é‡è¦ä½†ä¹Ÿææ˜“è¢«è¯¯è§£çš„å…³é”®å­—ã€‚é¢è¯•å®˜é—®è¿™ä¸ªï¼Œæ˜¯æƒ³è€ƒå¯Ÿä½ å¯¹ **JMM (Java å†…å­˜æ¨¡å‹)**ã€**çº¿ç¨‹å¯è§æ€§**å’Œ**æŒ‡ä»¤é‡æ’**çš„æ·±å…¥ç†è§£ã€‚\n\nç®€å•æ¥è¯´ï¼Œ`volatile` æ˜¯ä¸€ä¸ª**è½»é‡çº§çš„ `synchronized`**ã€‚å®ƒä¸èƒ½æ›¿ä»£ `synchronized`ï¼Œä½†å®ƒåœ¨æŸäº›ç‰¹å®šåœºæ™¯ä¸‹æä¾›äº†æ›´è½»é‡çš„åŒæ­¥ã€‚\n\n### ğŸš€ æ ¸å¿ƒå£è¯€\n\nè¿™ä¸ªå£è¯€ä½ ä¸€å®šè¦èƒŒä¸‹æ¥ï¼Œå®ƒæ¦‚æ‹¬äº† `volatile` çš„ä¸€åˆ‡ï¼š\n\n> **â€œä¸€çœ‹å°±è§ï¼ˆå¯è§æ€§ï¼‰ï¼ŒäºŒä¸ä¹±åºï¼ˆæœ‰åºæ€§ï¼‰ï¼›â€**\n> **â€œä¸‰ä¸ä¿åŸå­ï¼ˆéåŸå­æ€§ï¼‰ã€‚â€**\n\n---\n\n### 1. ä¸€çœ‹å°±è§ (ä¿è¯å¯è§æ€§ Visibility)\n\nè¿™æ˜¯ `volatile` æœ€æ ¸å¿ƒçš„ä½œç”¨ã€‚\n\n* **é—®é¢˜æ‰€åœ¨ï¼š**\n    åœ¨ Java å†…å­˜æ¨¡å‹ (JMM) ä¸­ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½æœ‰è‡ªå·±çš„**å·¥ä½œå†…å­˜ï¼ˆä¾‹å¦‚ CPU ç¼“å­˜ï¼‰**ã€‚å½“ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹ä¸€ä¸ªå…±äº«å˜é‡æ—¶ï¼ˆæ¯”å¦‚ `isRunning = false;`ï¼‰ï¼Œå®ƒå¯èƒ½åªæ˜¯å…ˆä¿®æ”¹äº†**è‡ªå·±ç¼“å­˜ä¸­**çš„å‰¯æœ¬ï¼Œå¹¶æ²¡æœ‰ç«‹åˆ»å†™å›**ä¸»å†…å­˜ (Main Memory)**ã€‚\n    æ­¤æ—¶ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹Bå»è¯»å– `isRunning`ï¼Œå®ƒå¯èƒ½ä¼šä»ä¸»å†…å­˜ä¸­è¯»åˆ°æ—§å€¼ `true`ï¼Œå¯¼è‡´çº¿ç¨‹Bæ— æ³•åœæ­¢ã€‚\n\n* **`volatile` çš„è§£å†³æ–¹æ¡ˆï¼š**\n    ä¸€æ—¦ä¸€ä¸ªå˜é‡è¢« `volatile` ä¿®é¥°ï¼š\n    1.  **å†™æ“ä½œ (Write)ï¼š** çº¿ç¨‹Aå¯¹ `volatile` å˜é‡çš„**æ¯ä¸€æ¬¡ä¿®æ”¹**ï¼Œéƒ½ä¼šè¢«**ç«‹å³**å¼ºåˆ¶åˆ·ï¼ˆflushï¼‰å›**ä¸»å†…å­˜**ã€‚\n    2.  **è¯»æ“ä½œ (Read)ï¼š** çº¿ç¨‹Bå¯¹ `volatile` å˜é‡çš„**æ¯ä¸€æ¬¡è¯»å–**ï¼Œéƒ½ä¼š**ç«‹å³**å¼ºåˆ¶ä½¿å…¶æœ¬åœ°ç¼“å­˜å¤±æ•ˆï¼Œå¿…é¡»å»**ä¸»å†…å­˜**ä¸­é‡æ–°è¯»å–æœ€æ–°å€¼ã€‚\n\n> **ğŸ’¡ ç»ä½³æ¯”å–»ï¼šäº‘ç«¯å…±äº«æ–‡æ¡£ï¼ˆvs æœ¬åœ°æ–‡æ¡£ï¼‰**\n> * **é `volatile`ï¼š** åƒä½ æˆ‘åœ¨æœ¬åœ°ç”¨ Word å†™æ–‡æ¡£ã€‚æˆ‘æ”¹äº†æˆ‘çš„æœ¬åœ°æ–‡ä»¶ï¼Œä½ ä¸çŸ¥é“ã€‚åªæœ‰ç­‰æˆ‘â€œä¿å­˜å¹¶ä¸Šä¼ â€åï¼ˆå†™å›ä¸»å†…å­˜ï¼‰ï¼Œä½ å†â€œä¸‹è½½â€æ‰èƒ½çœ‹åˆ°ï¼ˆè¯»ä¸»å†…å­˜ï¼‰ã€‚\n> * **`volatile`ï¼š** åƒä½ æˆ‘**åŒæ—¶åœ¨çº¿ç¼–è¾‘ä¸€ä¸ª Google Doc**ã€‚æˆ‘ä¸€æ‰“å­—ï¼ˆå†™æ“ä½œï¼‰ï¼Œä½ çš„å±å¹•ä¸Š**ç«‹åˆ»**å°±èƒ½çœ‹åˆ°å˜åŒ–ï¼ˆå¯è§æ€§ï¼‰ã€‚\n\n---\n\n### 2. äºŒä¸ä¹±åº (ä¿è¯æœ‰åºæ€§ Ordering)\n\nè¿™æ˜¯ `volatile` å¦ä¸€ä¸ªå…³é”®ä½œç”¨ï¼Œä¹Ÿæ˜¯å®ƒåœ¨**å•ä¾‹DCL**ï¼ˆåŒé‡æ£€æŸ¥é”å®šï¼‰ä¸­å¿…ä¸å¯å°‘çš„åŸå› ã€‚\n\n* **é—®é¢˜æ‰€åœ¨ï¼š**\n    ä¸ºäº†æé«˜æ€§èƒ½ï¼Œç¼–è¯‘å™¨å’Œ CPU å¯èƒ½ä¼šå¯¹ä½ å†™çš„ä»£ç è¿›è¡Œ**æŒ‡ä»¤é‡æ’ (Instruction Reordering)**ï¼Œåªè¦ä¸å½±å“å•çº¿ç¨‹çš„æœ€ç»ˆç»“æœã€‚ä½†åœ¨å¤šçº¿ç¨‹ä¸‹ï¼Œè¿™å°±å‡ºäº‹äº†ã€‚\n\n* **ç»å…¸æ¡ˆä¾‹ï¼ˆDCL å•ä¾‹ï¼‰ï¼š**\n    è¿˜è®°å¾—æˆ‘ä»¬ä¸Šä¸€èŠ‚è¯¾è®²çš„ `instance = new Singleton();` å—ï¼Ÿå®ƒä¸æ˜¯åŸå­çš„ï¼Œåˆ†ä¸ºä¸‰æ­¥ï¼š\n    1.  åˆ†é…å†…å­˜ç©ºé—´ã€‚\n    2.  è°ƒç”¨æ„é€ å‡½æ•°ï¼Œåˆå§‹åŒ–å¯¹è±¡ã€‚\n    3.  å°† `instance` å˜é‡æŒ‡å‘åˆ†é…çš„å†…å­˜åœ°å€ã€‚\n\n    ç¼–è¯‘å™¨å¯èƒ½ä¼šé‡æ’ä¸º **1 -> 3 -> 2**ã€‚\n\n    * **å‡ºäº‹æµç¨‹ï¼š**\n        1.  çº¿ç¨‹ A æ‰§è¡Œäº† 1ï¼ˆåˆ†é…å†…å­˜ï¼‰å’Œ 3ï¼ˆ`instance` æŒ‡å‘å†…å­˜ï¼Œæ­¤æ—¶ `instance != null`ï¼‰ã€‚\n        2.  ä½† 2ï¼ˆåˆå§‹åŒ–ï¼‰**è¿˜æ²¡æ‰§è¡Œ**ï¼\n        3.  çº¿ç¨‹ B æ­¤æ—¶è¿›å…¥ï¼Œæ‰§è¡Œç¬¬ä¸€æ¬¡æ£€æŸ¥ `if (instance == null)`ï¼Œå‘ç°**ä¸ä¸º null**ã€‚\n        4.  çº¿ç¨‹ B ç›´æ¥ `return instance`ï¼Œä½†æ‹¿åˆ°çš„å´æ˜¯ä¸€ä¸ª**æœªè¢«åˆå§‹åŒ–çš„â€œåŠæˆå“â€å¯¹è±¡**ï¼Œæ­¤æ—¶ä½¿ç”¨å®ƒå°±ä¼šå´©æºƒã€‚\n\n* **`volatile` çš„è§£å†³æ–¹æ¡ˆï¼š**\n    `volatile` å…³é”®å­—ä¼šæ’å…¥**å†…å­˜å±éšœ (Memory Barrier)**ï¼Œåƒä¸€é“æ …æ ï¼Œç¦æ­¢ç¼–è¯‘å™¨å’Œ CPU è¶Šè¿‡å®ƒå»é‡æ’æŒ‡ä»¤ã€‚\n    * åœ¨ `volatile` **å†™**æ“ä½œ**ä¹‹å‰**çš„æ‰€æœ‰æ“ä½œï¼Œå¿…é¡»å…ˆå®Œæˆã€‚\n    * åœ¨ `volatile` **è¯»**æ“ä½œ**ä¹‹å**çš„æ‰€æœ‰æ“ä½œï¼Œå¿…é¡»ç­‰è¯»å®Œå†æ‰§è¡Œã€‚\n\n    ç”¨åœ¨ DCL ä¸Šï¼ˆ`private static volatile Singleton instance;`ï¼‰ï¼Œå®ƒå°±ä¿è¯äº† `instance = new Singleton();` å¿…é¡»æ˜¯ 1 -> 2 -> 3 æŒ‰é¡ºåºæ‰§è¡Œï¼Œçº¿ç¨‹ B ç»ä¸ä¼šæ‹¿åˆ°åŠæˆå“å¯¹è±¡ã€‚\n\n---\n\n### 3. ä¸‰ä¸ä¿åŸå­ (éåŸå­æ€§ Atomicity)\n\nè¿™æ˜¯ `volatile` **æœ€å¤§çš„å±€é™**ï¼Œä¹Ÿæ˜¯é¢è¯•ä¸­æœ€å®¹æ˜“è¢«è¿½é—®çš„â€œé™·é˜±â€ã€‚\n\n* **é—®é¢˜æ‰€åœ¨ï¼š**\n    `volatile` **ä¸èƒ½ä¿è¯**å¤åˆæ“ä½œçš„åŸå­æ€§ã€‚\n\n* **ç»å…¸æ¡ˆä¾‹ (`i++`)ï¼š**\n    å‡ï¿½ï¿½ï¿½ `volatile int i = 0;`ï¼Œä¸¤ä¸ªçº¿ç¨‹åŒæ—¶å¯¹å®ƒæ‰§è¡Œ `i++`ã€‚\n    `i++` å®é™…ä¸Šæ˜¯ä¸‰ä¸ªæ­¥éª¤ï¼š\n    1.  è¯»å– `i` çš„å€¼ï¼ˆ`volatile` ä¿è¯è¯»åˆ°æœ€æ–°å€¼ï¼Œæ¯”å¦‚ 0ï¼‰ã€‚\n    2.  åœ¨è‡ªå·±çš„å·¥ä½œå†…å­˜é‡Œ +1ï¼ˆå˜ä¸º 1ï¼‰ã€‚\n    3.  æŠŠæ–°å€¼å†™å›ä¸»å†…å­˜ï¼ˆ`volatile` ä¿è¯ç«‹åˆ»å†™å›ï¼‰ã€‚\n\n* **å‡ºäº‹æµç¨‹ï¼š**\n    1.  çº¿ç¨‹ A **è¯»å–** `i` (å€¼ä¸º 0)ã€‚\n    2.  çº¿ç¨‹ A è¢«æŒ‚èµ·ã€‚\n    3.  çº¿ç¨‹ B **è¯»å–** `i` (å€¼ä¹Ÿæ˜¯ 0ï¼Œå› ä¸º A è¿˜æ²¡å†™å›)ã€‚\n    4.  çº¿ç¨‹ B æ‰§è¡Œ +1ï¼Œå¹¶**å†™å›** `i` (ä¸»å†…å­˜ `i` = 1)ã€‚\n    5.  çº¿ç¨‹ A æ¢å¤ï¼Œå®ƒåŸºäº**è‡ªå·±ä¹‹å‰è¯»åˆ°çš„ 0** æ‰§è¡Œ +1ï¼Œå¹¶**å†™å›** `i` (ä¸»å†…å­˜ `i` = 1)ã€‚\n\n    **æœ€ç»ˆç»“æœï¼š1**ã€‚ æœŸæœ›ç»“æœï¼š2ã€‚è¿™å°±æ˜¯**çº¿ç¨‹ä¸å®‰å…¨**ã€‚\n\n* **ç»“è®ºï¼š**\n    å¯¹äº `i++` è¿™ç§â€œå…ˆè¯»åæ”¹â€çš„å¤åˆæ“ä½œï¼Œ`volatile` æ— èƒ½ä¸ºåŠ›ã€‚ä½ å¿…é¡»ä½¿ç”¨ `synchronized` æˆ– `AtomicInteger` (å®ƒç”¨äº†æ›´åº•å±‚çš„ CAS æŠ€æœ¯) æ¥ä¿è¯åŸå­æ€§ã€‚\n\n---\n\n### ğŸ’¡ é¢è¯•æ¨¡æ‹Ÿå›ç­”\n\n\n\n**ä½ ï¼š** â€œ`volatile` æ˜¯ Java æä¾›çš„ä¸€ä¸ªè½»é‡çº§åŒæ­¥æœºåˆ¶ï¼Œæˆ‘ç”¨ä¸€ä¸ªå£è¯€è®°å®ƒï¼šâ€˜**ä¸€çœ‹å°±è§ï¼ŒäºŒä¸ä¹±åºï¼Œä¸‰ä¸ä¿åŸå­**â€™ã€‚â€\n\n> 1.  â€œ**ä¸€çœ‹å°±è§**â€æŒ‡çš„æ˜¯**å¯è§æ€§**ã€‚è¢« `volatile` ä¿®é¥°çš„å˜é‡ï¼Œèƒ½ä¿è¯ä¸€ä¸ªçº¿ç¨‹å¯¹å®ƒçš„ä¿®æ”¹ï¼Œèƒ½è¢«å…¶ä»–çº¿ç¨‹**ç«‹å³**çœ‹åˆ°ã€‚å®ƒé€šè¿‡å¼ºåˆ¶è¯»å†™éƒ½èµ°ä¸»å†…å­˜ï¼Œè€Œä¸æ˜¯çº¿ç¨‹ç¼“å­˜æ¥å®ç°çš„ã€‚â€\n>\n> 2.  â€œ**äºŒä¸ä¹±åº**â€æŒ‡çš„æ˜¯**æœ‰åºæ€§**ã€‚`volatile` ä¼šç¦æ­¢æŒ‡ä»¤é‡æ’ã€‚è¿™åœ¨**DCLï¼ˆåŒé‡æ£€æŸ¥é”å®šï¼‰å•ä¾‹**ä¸­è‡³å…³é‡è¦ï¼Œå®ƒèƒ½é˜²æ­¢ `instance = new Singleton()` è¢«é‡æ’ï¼Œå¯¼è‡´å…¶ä»–çº¿ç¨‹æ‹¿åˆ°â€˜åŠæˆå“â€™å¯¹è±¡ã€‚â€\n>\n> 3.  â€œ**ä¸‰ä¸ä¿åŸå­**â€æ˜¯å®ƒçš„å±€é™æ€§ã€‚`volatile` **ä¸èƒ½ä¿è¯**å¤åˆæ“ä½œçš„åŸå­æ€§ã€‚æ¯”å¦‚ `i++` è¿™ç§æ“ä½œï¼Œ`volatile` æ˜¯æ— æ³•ä¿è¯çº¿ç¨‹å®‰å…¨çš„ï¼Œè¿™ç§æƒ…å†µå¿…é¡»ä½¿ç”¨ `synchronized` æˆ–è€… `AtomicInteger`ã€‚â€\n>\n> 4.  â€œæ‰€ä»¥ï¼Œ`volatile` æœ€é€‚åˆç”¨åœ¨â€˜**ä¸€ä¸ªçº¿ç¨‹å†™ï¼Œå¤šä¸ªçº¿ç¨‹è¯»**â€™çš„**çŠ¶æ€æ ‡è®°**åœºæ™¯ï¼ˆæ¯”å¦‚ `volatile boolean isRunning = true;`ï¼‰ï¼Œæˆ–è€…ç”¨åœ¨ DCL å•ä¾‹ä¸­ã€‚â€\n\nä½ å¸Œæœ›æˆ‘å†æ·±å…¥è®²è®² `volatile` å’Œ `synchronized` çš„è¯¦ç»†åŒºåˆ«å—ï¼Ÿ"
    },
    {
      "question": "LruCache ï¼Ÿ",
      "answer": "",
      "detail": "`LruCache` æ˜¯ä¸€ç§éå¸¸ç»å…¸ä¸”åœ¨ Android å¼€å‘ä¸­æå…¶é‡è¦çš„**ç¼“å­˜æ·˜æ±°ç­–ç•¥**ã€‚\n\n`LRU` æ˜¯ **Least Recently Used** çš„ç¼© WILLIAMï¼š**æœ€è¿‘æœ€å°‘ä½¿ç”¨**ã€‚\n\nç®€å•æ¥è¯´ï¼Œ`LruCache` å°±æ˜¯ä¸€ä¸ª**å®¹é‡æœ‰é™**çš„â€œç›’å­â€ï¼ˆç¼“å­˜ï¼‰ã€‚å½“è¿™ä¸ªç›’å­æ»¡äº†ï¼Œä½ è¿˜æƒ³å¾€é‡Œæ”¾æ–°ä¸œè¥¿æ—¶ï¼Œå®ƒä¼š**è‡ªåŠ¨æŠŠâ€œæœ€ä¹…æ²¡è¢«ç”¨è¿‡â€çš„é‚£ä¸ªä¸œè¥¿è¸¢å‡ºå»**ï¼Œæ¥è…¾å‡ºç©ºé—´ã€‚\n\n-----\n\n### ğŸš€ æ ¸å¿ƒå£è¯€\n\nè¿™ä¸ªå£è¯€èƒ½å¸®ä½ ç¬é—´è®°ä½å®ƒçš„æ ¸å¿ƒåŸç†ï¼š\n\n> **â€œå®¹é‡æœ‰ä¸Šé™ï¼›â€**\n> **â€œè®¿é—®ï¼ˆGet/Putï¼‰ç®—â€˜æ‘¸â€™ï¼ˆä½¿ç”¨ï¼‰ä¸€ä¸‹ï¼Œâ€˜æ‘¸â€™äº†å°±å˜æ–°ï¼›â€**\n> **â€œç¼“å­˜æ»¡äº†ï¼Œå°±æŠŠâ€˜æœ€ä¹…æ²¡è¢«æ‘¸â€™çš„é‚£ä¸ªè¸¢å‡ºå»ã€‚â€**\n\n-----\n\n### 1\\. ä¸ºä»€ä¹ˆéœ€è¦ LruCacheï¼Ÿï¼ˆåº”ç”¨åœºæ™¯ï¼‰\n\nåœ¨ Android ä¸­ï¼Œå†…å­˜æ˜¯æå…¶å®è´µçš„èµ„æºã€‚ä½ ä¸èƒ½æ— é™åœ°æŠŠä¸œè¥¿ï¼ˆå°¤å…¶æ˜¯å›¾ç‰‡ï¼‰åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œå¦åˆ™ 100% ä¼š OOMï¼ˆå†…å­˜æº¢å‡ºï¼‰ã€‚\n\n**æœ€ç»å…¸çš„åº”ç”¨åœºæ™¯ï¼šå›¾ç‰‡å†…å­˜ç¼“å­˜ (Image Caching)**\n\n1.  **åœºæ™¯ï¼š** ä½ åœ¨åˆ·ä¸€ä¸ª `RecyclerView`ï¼Œé‡Œé¢æœ‰å¾ˆå¤šå›¾ç‰‡ã€‚\n2.  **LruCache çš„ä½œç”¨ï¼š**\n      * ä½ æŠŠ**åŠ è½½è¿‡**çš„å›¾ç‰‡ï¼ˆBitmapï¼‰æ”¾è¿› `LruCache`ã€‚\n      * å½“ä½ **å¿«é€Ÿæ»‘å›**åˆšåˆšçœ‹è¿‡çš„å›¾ç‰‡æ—¶ï¼ŒApp ä¼šå…ˆæ£€æŸ¥ `LruCache`ã€‚\n      * **å‘½ä¸­ (Hit)ï¼š** ç¼“å­˜é‡Œæœ‰ï¼App **ç«‹åˆ»**ä»å†…å­˜ä¸­è¯»å–ï¼Œå›¾ç‰‡â€œç§’â€åŠ è½½ï¼Œä½“éªŒæå¥½ã€‚\n      * **æœªå‘½ä¸­ (Miss)ï¼š** ç¼“å­˜é‡Œæ²¡æœ‰ï¼ŒApp æ‰ä¼šå»ç£ç›˜æˆ–ç½‘ç»œåŠ è½½ï¼ˆè¿™ä¸ªå¾ˆæ…¢ï¼‰ã€‚\n3.  **æ·˜æ±° (Evict)ï¼š**\n      * å½“ä½ ä¸€ç›´å¾€ä¸‹æ»‘ï¼ŒåŠ è½½äº† 100 å¼ æ–°å›¾ç‰‡ï¼Œ`LruCache`ï¼ˆæ¯”å¦‚å®¹é‡åªæœ‰ 20 å¼ ï¼‰å°±æ»¡äº†ã€‚\n      * å®ƒä¼šæŠŠä½ **æœ€æ—©ï¼ˆæœ€ä¹…æ²¡çœ‹ï¼‰åŠ è½½çš„é‚£äº›å›¾ç‰‡ä»å†…å­˜ä¸­è¸¢å‡ºå»**ï¼Œä¸ºæ–°å›¾ç‰‡è…¾åœ°æ–¹ã€‚\n      * è¿™å°±ä¿è¯äº†å†…å­˜ä¸­æ°¸è¿œåªä¿ç•™â€œ**æœ€è¿‘è¢«æŸ¥çœ‹è¿‡**â€çš„ 20 å¼ å›¾ç‰‡ã€‚\n\n> **Glide, Picasso, Coil** è¿™äº›ä¸»æµçš„å›¾ç‰‡åŠ è½½åº“ï¼Œå®ƒä»¬çš„ç¬¬ä¸€çº§ç¼“å­˜ï¼ˆå†…å­˜ç¼“å­˜ï¼‰**æ ¸å¿ƒå°±æ˜¯ LruCache**ã€‚\n\n-----\n\n### 2\\. å®ƒæ˜¯å¦‚ä½•å®ç°çš„ï¼Ÿï¼ˆé¢è¯•é‡ç‚¹ï¼‰\n\né¢è¯•å®˜é€šå¸¸ä¼šè¿½é—®ï¼šâ€œ`LruCache` çš„åŸç†æ˜¯ä»€ä¹ˆï¼Ÿâ€\n\n`LruCache` çš„é«˜æ•ˆï¼ˆ`get` å’Œ `put` éƒ½æ˜¯ O(1) å¤æ‚åº¦ï¼‰æ˜¯é ä¸€ä¸ªâ€œé»„é‡‘ç»„åˆâ€å®ç°çš„ï¼š\n\n**HashMap + åŒå‘é“¾è¡¨ (Doubly Linked List)**\n\n1.  **`HashMap<Key, Node>`ï¼š**\n\n      * **ä½œç”¨ï¼š** è´Ÿè´£å¿«é€ŸæŸ¥æ‰¾ï¼ˆO(1)ï¼‰ã€‚\n      * `Key` å°±æ˜¯ä½ çš„é”®ï¼ˆæ¯”å¦‚å›¾ç‰‡çš„ URLï¼‰ï¼Œ`Value` **ä¸æ˜¯**å›¾ç‰‡æœ¬èº«ï¼Œè€Œæ˜¯å›¾ç‰‡åœ¨**åŒå‘é“¾è¡¨ä¸­çš„â€œèŠ‚ç‚¹ (Node)â€**ã€‚\n\n2.  **`Doubly Linked List` (åŒå‘é“¾è¡¨)ï¼š**\n\n      * **ä½œç”¨ï¼š** è´Ÿè´£ç»´æŠ¤â€œæ–°æ—§â€é¡ºåºï¼ˆO(1) çš„æ’å…¥å’Œåˆ é™¤ï¼‰ã€‚\n      * æˆ‘ä»¬è§„å®šï¼š\n          * **é“¾è¡¨å°¾ (Tail)ï¼š** å­˜æ”¾\\*\\*â€œæœ€æ–°â€\\*\\*ï¼ˆæœ€è¿‘è¢«è®¿é—®ï¼‰çš„å…ƒç´ ã€‚\n          * **é“¾è¡¨å¤´ (Head)ï¼š** å­˜æ”¾\\*\\*â€œæœ€æ—§â€\\*\\*ï¼ˆæœ€è¿‘æœ€å°‘ä½¿ç”¨ï¼‰çš„å…ƒç´ ã€‚\n\n#### å·¥ä½œæµç¨‹ï¼ˆâ€œå£è¯€â€çš„å®ç°ï¼‰ï¼š\n\n**A. å½“ä½  `get(key)`ï¼ˆè®¿é—®ï¼‰æ—¶ï¼š**\n\n1.  **æŸ¥æ‰¾ï¼š** ç”¨ `HashMap` å¿«é€Ÿæ‰¾åˆ° `Node`ã€‚\n2.  **â€œæ‘¸â€ä¸€ä¸‹ï¼š** `Node` æ‰¾åˆ°äº†ï¼Œè¯´æ˜â€œè¢«ä½¿ç”¨äº†â€ã€‚\n3.  **å˜æ–°ï¼š** å°†è¿™ä¸ª `Node` ä»å®ƒåœ¨é“¾è¡¨ä¸­çš„**å½“å‰ä½ç½®**ï¼Œç§»åŠ¨åˆ°**é“¾è¡¨çš„â€œå°¾éƒ¨â€**ï¼ˆä»£è¡¨å®ƒç°åœ¨æ˜¯â€œæœ€æ–°â€çš„äº†ï¼‰ã€‚\n\n**B. å½“ä½  `put(key, value)`ï¼ˆæ”¾å…¥ï¼‰æ—¶ï¼š**\n\n1.  **æ£€æŸ¥å­˜åœ¨ï¼Ÿ**\n      * **å¦‚æœå·²å­˜åœ¨ï¼š** æ›´æ–° `value`ï¼Œå¹¶æŠŠè¿™ä¸ª `Node` **ç§»åŠ¨åˆ°é“¾è¡¨â€œå°¾éƒ¨â€**ï¼ˆåŒ `get`ï¼‰ã€‚\n      * **å¦‚æœæ˜¯æ–°çš„ï¼š**\n        1.  åˆ›å»ºä¸€ä¸ªæ–° `Node`ã€‚\n        2.  æŠŠå®ƒ**æ’å…¥åˆ°é“¾è¡¨â€œå°¾éƒ¨â€**ã€‚\n        3.  æŠŠ `(key, Node)` å­˜å…¥ `HashMap`ã€‚\n2.  **æ£€æŸ¥å®¹é‡ï¼š**\n      * `if (size > capacity)`\n      * **è¸¢äººï¼š** ç§»é™¤\\*\\*é“¾è¡¨â€œå¤´éƒ¨â€\\*\\*çš„é‚£ä¸ª `Node`ï¼ˆå®ƒå°±æ˜¯â€œæœ€ä¹…æ²¡è¢«æ‘¸â€çš„ï¼‰ã€‚\n      * **æ¸…ç†ï¼š** åˆ«å¿˜äº†ä¹Ÿä» `HashMap` ä¸­ç§»é™¤è¿™ä¸ª `Node` çš„ `key`ã€‚\n\n-----\n\n### 3\\. åœ¨ Android ä¸­å¦‚ä½•â€œä½¿ç”¨â€ LruCache\n\nå¹¸è¿çš„æ˜¯ï¼ŒGoogle å·²ç»å¸®æˆ‘ä»¬æŠŠä¸Šé¢é‚£å¥—å¤æ‚çš„ `HashMap + é“¾è¡¨` é€»è¾‘å°è£…å¥½äº†ã€‚\n\nå®ƒå°±æ˜¯ `android.util.LruCache` ç±»ã€‚ï¼ˆå†…éƒ¨æ˜¯ä½¿ç”¨ `LinkedHashMap` å®ç°çš„ï¼Œè¿™æ˜¯ Java æä¾›çš„ä¸€ä¸ªâ€œè‡ªå¸¦ LRU åŠŸèƒ½â€çš„ Mapï¼‰\n\nä½ **åªéœ€è¦**åšä¸¤ä»¶äº‹ï¼š\n\n1.  **æŒ‡å®šæœ€å¤§å®¹é‡ (Max Size)ï¼š**\n      * æ¯”å¦‚ï¼Œä½ æƒ³é™åˆ¶ç¼“å­˜æœ€å¤šå ç”¨ 10MB å†…å­˜ã€‚\n2.  **é‡å†™ `sizeOf()` æ–¹æ³•ï¼š**\n      * ä½ éœ€è¦å‘Šè¯‰ `LruCache`ï¼Œä½ å­˜å…¥çš„**æ¯ä¸€ä¸ªâ€œä¸œè¥¿â€åˆ°åº•æœ‰å¤šå¤§**ã€‚\n\n**ä»£ç ç¤ºä¾‹ï¼šåˆ›å»ºä¸€ä¸ªå›¾ç‰‡å†…å­˜ç¼“å­˜**\n\n```kotlin\nimport android.graphics.Bitmap\nimport android.util.LruCache\n\n// 1. è·å– App æœ€å¤§å¯ç”¨å†…å­˜çš„ 1/8 ä½œä¸ºç¼“å­˜å¤§å°\nval maxMemory = (Runtime.getRuntime().maxMemory() / 1024).toInt()\nval cacheSize = maxMemory / 8 // å•ä½æ˜¯ KB\n\n// 2. åˆ›å»º LruCache å®ä¾‹\n//    Key æ˜¯ String (URL), Value æ˜¯ Bitmap (å›¾ç‰‡)\nval memoryCache = object : LruCache<String, Bitmap>(cacheSize) {\n\n    // 3. å¿…é¡»é‡å†™ sizeOf()\n    //    å‘Šè¯‰ LruCache æ¯ä¸€å¼  Bitmap æœ‰å¤šå¤§ (å•ä½è¦å’Œ cacheSize ç»Ÿä¸€)\n    override fun sizeOf(key: String, bitmap: Bitmap): Int {\n        // è¿”å›è¿™å¼ å›¾ç‰‡å ç”¨çš„ KB\n        return bitmap.byteCount / 1024\n    }\n\n    // 4. (å¯é€‰) é‡å†™ entryRemoved()\n    //    å½“ä¸€ä¸ªæ¡ç›®è¢«â€œè¸¢å‡ºâ€æ—¶ä¼šå›è°ƒ\n    override fun entryRemoved(\n        evicted: Boolean, \n        key: String, \n        oldValue: Bitmap, \n        newValue: Bitmap?\n    ) {\n        // evicted=true è¡¨ç¤ºæ˜¯è¢«è‡ªåŠ¨è¸¢å‡ºçš„\n        // å¯ä»¥åœ¨è¿™é‡Œåšä¸€äº›èµ„æºå›æ”¶ï¼Œæ¯”å¦‚ oldValue.recycle() (è™½ç„¶ç°åœ¨ä¸æ¨è)\n    }\n}\n\n// 4. ä½¿ç”¨\nfun loadBitmap(url: String): Bitmap? {\n    // 4.1 å°è¯•ä»ç¼“å­˜å–\n    var bitmap = memoryCache.get(url)\n    \n    if (bitmap == null) {\n        // 4.2 ç¼“å­˜æ²¡æœ‰ï¼Œå»åŠ è½½\n        bitmap = decodeBitmapFromNetwork(url) // (å‡è®¾è¿™æ˜¯ä¸ªè€—æ—¶æ“ä½œ)\n        \n        // 4.3 åŠ è½½æˆåŠŸåï¼Œæ”¾å…¥ç¼“å­˜\n        if (bitmap != null) {\n            memoryCache.put(url, bitmap)\n        }\n    }\n    \n    // get(url) ä¼šè‡ªåŠ¨æŠŠ url æ ‡è®°ä¸ºâ€œæœ€æ–°â€\n    return bitmap \n}\n```"
    },
    {
      "question": "æ–°é¢˜ç›®",
      "answer": "",
      "detail": ""
    }
  ],
  "resume": [
    {
      "question": "æˆ‘æƒ³é—®ä¸€ä¸‹ Room çš„ Relation å’Œ Transaction ä¼˜åŒ–äº†é¢˜åº“çš„æŸ¥è¯¢æ€§èƒ½ ï¼Œ å…·ä½“æ€ä¹ˆå®ç°",
      "answer": "ä½¿ç”¨ @Transaction ç¡®ä¿ä¸€è‡´æ€§\nä¼˜åŒ–ç‚¹ï¼š å½“ Room å¤„ç† @Relation æ—¶ï¼Œå®ƒå®é™…ä¸Šåœ¨åå°æ‰§è¡Œäº†ä¸¤ä¸ª SQL æŸ¥è¯¢ï¼š\n1. SELECT * FROM questions\n2. SELECT * FROM options WHERE questionId IN (id1, id2, ...)\nå¦‚æœåœ¨ç¬¬ 1 æ­¥å’Œç¬¬ 2 æ­¥ä¹‹é—´ï¼Œæ•°æ®åº“å‘ç”Ÿäº†æ›´æ–°ï¼ˆæ¯”å¦‚æŸä¸ªé€‰é¡¹è¢«åˆ é™¤äº†ï¼‰ï¼Œé‚£ä¹ˆä½ æ‹¿åˆ°çš„æ•°æ®å°±æ˜¯ä¸ä¸€è‡´çš„ã€‚@Transaction ä¿è¯äº†è¿™ä¸¤ä¸ªæŸ¥è¯¢æ˜¯åŸå­æ€§çš„ï¼ˆè¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥ï¼‰ï¼Œä¸”æ˜¯åœ¨åŒä¸€ä¸ªæ•°æ®åº“å¿«ç…§ä¸­è¯»å–ã€‚\n\nä¸ºä»€ä¹ˆè¿™èƒ½ä¼˜åŒ–æ€§èƒ½ï¼Ÿ è™½ç„¶è¿™æ˜¯ä¸¤æ¬¡æŸ¥è¯¢ï¼Œä½†åœ¨ç§»åŠ¨ç«¯æ•°æ®åº“ï¼ˆSQLiteï¼‰åœºæ™¯ä¸‹ï¼Œé€šè¿‡ @Relationåˆ†ç¦»æŸ¥è¯¢é€šå¸¸æ¯”ç›´æ¥ JOIN å¤§é‡æ–‡æœ¬æ•°æ®æ›´é«˜æ•ˆï¼Œå› ä¸ºå®ƒé¿å…äº†Cursor Windowï¼ˆæ•°æ®åº“æ¸¸æ ‡çª—å£ï¼‰å› æ•°æ®é‡è¿‡å¤§ï¼ˆé‡å¤çš„é¢˜ç›®æ–‡æœ¬ï¼‰è€Œçˆ†æ»¡çš„é—®é¢˜ã€‚",
      "detail": "è¿™æ˜¯ä¸€ä¸ªéå¸¸æ£’çš„å­¦ä¹ åˆ‡å…¥ç‚¹ï¼åœ¨å¼€å‘â€œé¢˜åº“â€ç±»åº”ç”¨æ—¶ï¼Œæˆ‘ä»¬ç»å¸¸é¢ä¸´**ä¸€å¯¹å¤š (1:N)** çš„æ•°æ®ç»“æ„ï¼Œæ¯”å¦‚â€œä¸€é“é¢˜ç›®â€å¯¹åº”â€œå¤šä¸ªé€‰é¡¹â€ (A, B, C, D)ã€‚\n\nå¦‚æœä¸ä½¿ç”¨ Room çš„ç‰¹æ€§ï¼Œä½ å¯èƒ½éœ€è¦å†™å¤æ‚çš„ SQL `JOIN` æŸ¥è¯¢ï¼Œæˆ–è€…æ‰‹åŠ¨æŸ¥è¯¢ä¸¤æ¬¡æ•°æ®åº“å¹¶åœ¨å†…å­˜ä¸­æ‹¼æ¥æ•°æ®ã€‚**`@Relation`** å’Œ **`@Transaction`** æ­£æ˜¯ä¸ºäº†ä¼˜é›…ä¸”é«˜æ•ˆåœ°è§£å†³è¿™ä¸ªé—®é¢˜è€Œç”Ÿçš„ã€‚\n\næˆ‘ä»¬å°†é€šè¿‡ä¸€ä¸ªå…·ä½“çš„\\*\\*â€œé¢˜ç›® (Question) + é€‰é¡¹ (Option)â€\\*\\*çš„åœºæ™¯æ¥æ¼”ç¤ºå¦‚ä½•å®ç°å’Œä¼˜åŒ–ã€‚\n\n-----\n\n### 1\\. åœºæ™¯å®šä¹‰ï¼šé¢˜ç›®ä¸é€‰é¡¹\n\né¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦ä¸¤å¼ è¡¨ï¼š\n\n1.  **Question è¡¨**ï¼šå­˜å‚¨é¢˜ç›®å†…å®¹ã€‚\n2.  **Option è¡¨**ï¼šå­˜å‚¨é€‰é¡¹å†…å®¹ï¼Œå¹¶é€šè¿‡ `questionId` å…³è”åˆ°é¢˜ç›®ã€‚\n\n#### ç¬¬ä¸€æ­¥ï¼šå®šä¹‰å®ä½“ (Entities)\n\n```kotlin\n// 1. é¢˜ç›®è¡¨\n@Entity(tableName = \"questions\")\ndata class Question(\n    @PrimaryKey val questionId: Long,\n    val answer: String,   // è­¬å¦‚ï¼š\"Room çš„é»˜è®¤æ•°æ®åº“åæ˜¯ä»€ä¹ˆï¼Ÿ\"\n    val difficulty: Int\n)\n\n// 2. é€‰é¡¹è¡¨\n@Entity(tableName = \"options\")\ndata class Option(\n    @PrimaryKey val optionId: Long,\n    val questionId: Long,  // å¤–é”®ï¼Œå…³è”åˆ°é¢˜ç›®\n    val text: String,      // è­¬å¦‚ï¼š\"A. database.db\"\n    val isCorrect: Boolean\n)\n```\n\n-----\n\n### 2\\. æ ¸å¿ƒä¼˜åŒ–ï¼šä½¿ç”¨ `@Relation` è‡ªåŠ¨æ˜ å°„\n\n**ä¼˜åŒ–ç‚¹**ï¼š\nä¼ ç»Ÿçš„ SQL `LEFT JOIN` ä¼šå¯¼è‡´å¤§é‡å†—ä½™æ•°æ®ï¼ˆé¢˜ç›®ä¿¡æ¯ä¼šåœ¨æ¯ä¸€è¡Œé€‰é¡¹ä¸­é‡å¤å‡ºç°ï¼‰ã€‚\nRoom çš„ `@Relation` å®é™…ä¸Šæ˜¯å°†è¿™ä¸ªæ“ä½œæ‹†åˆ†ä¸º**ä¸¤æ¬¡æŸ¥è¯¢**ï¼ˆä¸€æ¬¡æŸ¥é¢˜ç›®ï¼Œä¸€æ¬¡æŸ¥é€‰é¡¹ï¼‰ï¼Œç„¶ååœ¨å†…å­˜ä¸­è‡ªåŠ¨ç»„è£…ã€‚è¿™é¿å…äº†æ•°æ®å†—ä½™ä¼ è¾“ï¼Œä¸”ä»£ç å¯è¯»æ€§æé«˜ã€‚\n\næˆ‘ä»¬éœ€è¦åˆ›å»ºä¸€ä¸ªä¸­é—´æ•°æ®ç±»ï¼ˆPOJOï¼‰ï¼Œç”¨æ¥è¡¨ç¤ºâ€œå«é€‰é¡¹çš„é¢˜ç›®â€ã€‚\n\n```kotlin\n// è¿™æ˜¯ä¸€ä¸ªæ™®é€šçš„ Data Classï¼Œä¸æ˜¯ @Entity\ndata class QuestionWithOptions(\n    // å°†çˆ¶å®ä½“ï¼ˆQuestionï¼‰åµŒå…¥è¿›æ¥\n    @Embedded val question: Question,\n\n    // å®šä¹‰å…³è”å…³ç³»\n    @Relation(\n        parentColumn = \"questionId\", // Question è¡¨ä¸­çš„ä¸»é”®\n        entityColumn = \"questionId\"  // Option è¡¨ä¸­çš„å¤–é”®\n    )\n    val options: List<Option>\n)\n```\n\n  * **`@Embedded`**: æŠŠ `Question` çš„å­—æ®µå¹³é“ºåœ¨è¿™é‡Œã€‚\n  * **`@Relation`**: å‘Šè¯‰ Roomï¼Œâ€œå» Options è¡¨é‡Œæ‰¾ `questionId` ç­‰äºå½“å‰ `Question.questionId` çš„æ‰€æœ‰æ•°æ®ï¼Œå¹¶æŠŠå®ƒä»¬å¡è¿› `List<Option>` é‡Œâ€ã€‚\n\n-----\n\n### 3\\. æ ¸å¿ƒä¿éšœï¼šä½¿ç”¨ `@Transaction` ç¡®ä¿ä¸€è‡´æ€§\n\n**ä¼˜åŒ–ç‚¹**ï¼š\nå½“ Room å¤„ç† `@Relation` æ—¶ï¼Œå®ƒå®é™…ä¸Šåœ¨åå°æ‰§è¡Œäº†**ä¸¤ä¸ª** SQL æŸ¥è¯¢ï¼š\n\n1.  `SELECT * FROM questions`\n2.  `SELECT * FROM options WHERE questionId IN (id1, id2, ...)`\n\nå¦‚æœåœ¨ç¬¬ 1 æ­¥å’Œç¬¬ 2 æ­¥ä¹‹é—´ï¼Œæ•°æ®åº“å‘ç”Ÿäº†æ›´æ–°ï¼ˆæ¯”å¦‚æŸä¸ªé€‰é¡¹è¢«åˆ é™¤äº†ï¼‰ï¼Œé‚£ä¹ˆä½ æ‹¿åˆ°çš„æ•°æ®å°±æ˜¯ä¸ä¸€è‡´çš„ã€‚**`@Transaction`** ä¿è¯äº†è¿™ä¸¤ä¸ªæŸ¥è¯¢æ˜¯**åŸå­æ€§**çš„ï¼ˆè¦ä¹ˆéƒ½æˆåŠŸï¼Œè¦ä¹ˆéƒ½å¤±è´¥ï¼‰ï¼Œä¸”æ˜¯åœ¨åŒä¸€ä¸ªæ•°æ®åº“å¿«ç…§ä¸­è¯»å–ã€‚\n\n#### DAO å±‚å®ç°\n\n```kotlin\n@Dao\ninterface QuestionDao {\n\n    // è¿™é‡Œçš„ @Transaction è‡³å…³é‡è¦\n    @Transaction\n    @Query(\"SELECT * FROM questions WHERE difficulty = :level\")\n    fun getQuestionsWithDetail(level: Int): List<QuestionWithOptions>\n}\n```\n\n**ä¸ºä»€ä¹ˆè¿™èƒ½ä¼˜åŒ–æ€§èƒ½ï¼Ÿ**\nè™½ç„¶è¿™æ˜¯ä¸¤æ¬¡æŸ¥è¯¢ï¼Œä½†åœ¨ç§»åŠ¨ç«¯æ•°æ®åº“ï¼ˆSQLiteï¼‰åœºæ™¯ä¸‹ï¼Œé€šè¿‡ `@Relation` åˆ†ç¦»æŸ¥è¯¢é€šå¸¸æ¯”ç›´æ¥ `JOIN` å¤§é‡æ–‡æœ¬æ•°æ®æ›´é«˜æ•ˆï¼Œå› ä¸ºå®ƒé¿å…äº†**Cursor Window**ï¼ˆæ•°æ®åº“æ¸¸æ ‡çª—å£ï¼‰å› æ•°æ®é‡è¿‡å¤§ï¼ˆé‡å¤çš„é¢˜ç›®æ–‡æœ¬ï¼‰è€Œçˆ†æ»¡çš„é—®é¢˜ã€‚\n\n-----\n\n### 4\\. è¿›é˜¶ï¼šå†™å…¥æ—¶çš„ `@Transaction` ä¼˜åŒ–\n\né™¤äº†æŸ¥è¯¢ï¼Œ`@Transaction` åœ¨**æ’å…¥æ•°æ®**ï¼ˆä¾‹å¦‚å¯¼å…¥ä¸€å¥—è¯•å·ï¼‰æ—¶å¯¹æ€§èƒ½æå‡æ˜¯å·¨å¤§çš„ã€‚\n\nå¦‚æœä½ å¾ªç¯æ’å…¥ 100 é“é¢˜ï¼š\n\n  * **ä¸åŠ  Transaction**ï¼šç³»ç»Ÿä¼šå¼€å¯ 100 æ¬¡äº‹åŠ¡ï¼Œå†™å…¥ç£ç›˜ 100 æ¬¡ã€‚ææ…¢ã€‚\n  * **åŠ  Transaction**ï¼šç³»ç»Ÿå¼€å¯ 1 æ¬¡äº‹åŠ¡ï¼Œå…¨éƒ¨åœ¨å†…å­˜æ“ä½œï¼Œæœ€åä¸€æ¬¡æ€§å†™å…¥ç£ç›˜ã€‚æå¿«ã€‚\n\n<!-- end list -->\n\n```kotlin\n@Dao\ninterface QuestionDao {\n    @Insert\n    fun insertQuestion(question: Question): Long\n\n    @Insert\n    fun insertOptions(options: List<Option>)\n\n    // ç»„åˆæ“ä½œï¼šä¸€æ¬¡æ€§æ’å…¥é¢˜ç›®å’Œå¯¹åº”çš„é€‰é¡¹\n    @Transaction\n    fun insertFullQuestion(question: Question, options: List<Option>) {\n        val qId = insertQuestion(question)\n        // ç¡®ä¿é€‰é¡¹å…³è”åˆ°æ­£ç¡®çš„é¢˜ç›®ID\n        val optionsWithId = options.map { it.copy(questionId = qId) }\n        insertOptions(optionsWithId)\n    }\n}\n```\n\n-----\n\n### 5\\. æ€»ç»“ï¼šæ€§èƒ½ä¸å®ç°çš„å¯¹æ¯”\n\nä¸ºäº†è®©ä½ æ›´ç›´è§‚åœ°ç†è§£ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ¯”ä¸€ä¸‹ä¸‰ç§æ–¹å¼ï¼š\n\n| æ–¹å¼                                | å®ç°å¤æ‚åº¦ |                                                         SQL åŸç† |         æ€§èƒ½ (æŸ¥è¯¢é¢˜åº“åœºæ™¯) | ç¼ºç‚¹ |\n| :---                                  | :--- | :--- | :--- | :--- |\n| **æ‰‹åŠ¨å¤šæ¬¡æŸ¥è¯¢**            | é«˜             | æ‰‹å†™å¤šæ¬¡ SELECTï¼Œæ‰‹åŠ¨ For å¾ªç¯æ‹¼æ¥                |å·® (N+1 é—®é¢˜) | ä»£ç å•°å—¦ï¼Œå®¹æ˜“å‡ºé”™ |\n| **SQL å¤šè¡¨è¿æ¥ (JOIN)** | ä¸­            | `SELECT * FROM q LEFT JOIN o ON...`              | ä¸€èˆ¬                | é¢˜ç›®æ–‡æœ¬é‡å¤ä¼ è¾“ï¼Œæµªè´¹å†…å­˜ï¼›è¿”å›ç±»å‹å¤„ç†éº»çƒ¦ |\n| **Room @Relation**     | **ä½**       | **è‡ªåŠ¨æ‹†åˆ†ä¸º 2 æ¬¡ SELECT**                              | **ä¼˜**              | éœ€è¦å®šä¹‰é¢å¤–çš„ POJO ç±» |\n\n**ç»“è®º**ï¼š\nåœ¨é¢˜åº“è¿™ç§â€œä¸»è¡¨å†…å®¹è¾ƒå¤šï¼ˆé¢˜ç›®æ–‡æœ¬é•¿ï¼‰â€ä¸”â€œä¸€å¯¹å¤šâ€çš„åœºæ™¯ä¸‹ï¼Œ**`@Relation` + `@Transaction`** æ˜¯æœ€ä½³å®è·µã€‚å®ƒæ—¢ä¿è¯äº†æ•°æ®çš„ä¸€è‡´æ€§ï¼Œåˆé¿å…äº† JOIN å¸¦æ¥çš„å¤§é‡å†—ä½™æ•°æ® IOã€‚\n\n-----\n\n### ä¸‹ä¸€æ­¥æˆ‘å¯ä»¥ä¸ºä½ åšä»€ä¹ˆï¼Ÿ\n\nå¦‚æœä½ æƒ³è¿›ä¸€æ­¥æ·±å…¥ï¼Œæˆ‘å¯ä»¥ä¸ºä½ å±•ç¤ºï¼š\n\n1.  **å¤šå¯¹å¤šå…³ç³» (Many-to-Many)**ï¼šæ¯”å¦‚â€œè¿™é“é¢˜â€åŒæ—¶å±äºâ€œå†å²â€å’Œâ€œæ”¿æ²»â€ä¸¤ä¸ªåˆ†ç±»ï¼Œè¯¥å¦‚ä½•ç”¨ Room çš„ `@Junction` å®ç°ï¼Ÿ\n2.  **åˆ†é¡µæŸ¥è¯¢ (Paging3)**ï¼šå¦‚æœé¢˜åº“æœ‰ 10,000 é“é¢˜ï¼Œå¦‚ä½•ç»“åˆ `@Relation` è¿›è¡Œé«˜æ•ˆçš„åˆ†é¡µåŠ è½½ï¼Ÿ\n\nä½ æƒ³å…ˆäº†è§£å“ªä¸€ä¸ªï¼Ÿ"
    },
    {
      "question": "WorkManager: å¤„ç†åå°ä»»åŠ¡ï¼ˆå¦‚ï¼šæ¯å¤©è‡ªåŠ¨åŒæ­¥æ–°é¢˜åº“ï¼‰ã€‚  è¿™ä¸ªæ€ä¹ˆåšï¼Ÿ",
      "answer": "1.  **`CoroutineWorker`**: åœ¨ `doWork` é‡Œå†™ç½‘ç»œè¯·æ±‚ + Room å†™å…¥é€»è¾‘ã€‚\n2.  **`Result.retry()`**: é‡åˆ°ç½‘ç»œé”™è¯¯è‡ªåŠ¨é‡è¯•ï¼Œä¸éœ€è¦è‡ªå·±å†™é‡è¯•å¾ªç¯ã€‚\n3.  **`Constraints`**: ä¿è¯åªåœ¨æœ‰ç½‘çš„æ—¶å€™è·‘ã€‚\n4.  **`ExistingPeriodicWorkPolicy.KEEP`**: ä¿è¯ä»»åŠ¡å•ä¾‹ï¼Œä¸ä¼šé‡å¤æ³¨å†Œã€‚",
      "detail": "è¿™æ˜¯ä¸€ä¸ªéå¸¸å®ç”¨çš„åœºæ™¯ã€‚åœ¨ Android å¼€å‘ä¸­ï¼Œ**WorkManager** æ˜¯å¤„ç†è¿™ç§â€œå³ä½¿ App é€€å‡ºäº†ä¹Ÿå¿…é¡»æ‰§è¡Œâ€ã€â€œä¸éœ€è¦ç«‹å³æ‰§è¡Œâ€çš„åå°ä»»åŠ¡çš„æœ€ä½³é€‰æ‹©ã€‚\n\né’ˆå¯¹ä½ æåˆ°çš„ **â€œæ¯å¤©è‡ªåŠ¨åŒæ­¥æ–°é¢˜åº“â€**ï¼Œæˆ‘ä»¬å¯ä»¥åˆ©ç”¨ WorkManager çš„ `PeriodicWorkRequest`ï¼ˆå‘¨æœŸæ€§ä»»åŠ¡ï¼‰æ¥å®ç°ã€‚\n\nä¸‹é¢æˆ‘å°†åˆ† **ä¸‰ä¸ªæ­¥éª¤** å¸¦ä½ å®Œæˆè¿™ä¸ªåŠŸèƒ½ã€‚\n\n-----\n\n### ç¬¬ä¸€æ­¥ï¼šå®šä¹‰â€œæ¬ç –å·¥â€ (Worker)\n\né¦–å…ˆï¼Œä½ éœ€è¦åˆ›å»ºä¸€ä¸ªç±»æ¥å‘Šè¯‰ç³»ç»Ÿâ€œå…·ä½“è¦åšä»€ä¹ˆâ€ã€‚\nå› ä¸ºåŒæ­¥é¢˜åº“é€šå¸¸æ¶‰åŠç½‘ç»œè¯·æ±‚å’Œæ•°æ®åº“å†™å…¥ï¼ˆè€—æ—¶æ“ä½œï¼‰ï¼Œå¼ºçƒˆå»ºè®®ä½¿ç”¨ **`CoroutineWorker`**ï¼Œå®ƒå¤©ç„¶æ”¯æŒ Kotlin åç¨‹ï¼Œä»£ç å†™èµ·æ¥åƒåŒæ­¥ä»£ç ä¸€æ ·ç®€å•ã€‚\n\n```kotlin\nclass SyncQuestionWorker(\n    context: Context,\n    workerParams: WorkerParameters\n) : CoroutineWorker(context, workerParams) {\n\n    override suspend fun doWork(): Result {\n        // doWork å·²ç»åœ¨åå°çº¿ç¨‹ä¸­è¿è¡Œäº†ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨ suspend å‡½æ•°\n\n        return try {\n            // 1. æ¨¡æ‹Ÿï¼šä»ç½‘ç»œè·å–æœ€æ–°é¢˜åº“ JSON\n            // val newQuestions = myApi.fetchNewQuestions()\n\n            // 2. æ¨¡æ‹Ÿï¼šåˆ©ç”¨æˆ‘ä»¬ä¸Šä¸€èŠ‚è®²çš„ Room @Transaction å†™å…¥æ•°æ®åº“\n            // questionDatabase.questionDao().insertFullQuestion(...)\n\n            Log.d(\"WorkManager\", \"é¢˜åº“åŒæ­¥æˆåŠŸï¼\")\n            \n            // å‘Šè¯‰ç³»ç»Ÿä»»åŠ¡å®Œæˆäº†\n            Result.success() \n        } catch (e: Exception) {\n            // å¦‚æœå¤±è´¥ï¼ˆæ¯”å¦‚ç½‘ç»œæ–­äº†ï¼‰ï¼Œå‘Šè¯‰ç³»ç»Ÿä¸‹æ¬¡é‡è¯•\n            // WorkManager ä¼šè‡ªåŠ¨å¤„ç†æŒ‡æ•°é€€é¿é‡è¯•ï¼ˆç¨åé‡è¯•ï¼‰\n            Result.retry() \n        }\n    }\n}\n```\n\n-----\n\n### ç¬¬äºŒæ­¥ï¼šè®¾ç½®â€œå·¥å¤´â€çš„è¦æ±‚ (Constraints)\n\nåŒæ­¥é¢˜åº“éœ€è¦è€—è´¹æµé‡å’Œç”µé‡ã€‚ä¸ºäº†ç”¨æˆ·ä½“éªŒï¼Œæˆ‘ä»¬é€šå¸¸ä¼šè®¾ç½®ä¸€äº›**çº¦æŸæ¡ä»¶ (Constraints)**ã€‚æ¯”å¦‚ï¼šåªæœ‰åœ¨â€œè¿æ¥ Wi-Fiâ€ä¸”â€œè®¾å¤‡åœ¨å……ç”µâ€æ—¶æ‰åŒæ­¥ï¼Œé¿å…ç”¨æˆ·ä¸çŸ¥æƒ…æ—¶å·è·‘æµé‡ã€‚\n\n```kotlin\nval constraints = Constraints.Builder()\n    // è¦æ±‚å¿…é¡»æœ‰ç½‘ç»œè¿æ¥\n    .setRequiredNetworkType(NetworkType.CONNECTED) \n    // (å¯é€‰) è¦æ±‚å¿…é¡»è¿æ¥ Wi-Fi (UNMETERED)\n    // .setRequiredNetworkType(NetworkType.UNMETERED)\n    // (å¯é€‰) è¦æ±‚è®¾å¤‡æ­£åœ¨å……ç”µï¼ˆé€‚åˆå¤§æ•°æ®é‡åŒæ­¥ï¼‰\n    // .setRequiresCharging(true)\n    .build()\n```\n\n-----\n\n### ç¬¬ä¸‰æ­¥ï¼šå‘å¸ƒä»»åŠ¡ (Enqueue)\n\næœ€åï¼Œæˆ‘ä»¬éœ€è¦åœ¨åˆé€‚çš„åœ°æ–¹ï¼ˆé€šå¸¸æ˜¯ `Application` çš„ `onCreate` æˆ–è€…ä¸»é¡µé¢çš„ `onCreate`ï¼‰æŠŠè¿™ä¸ªä»»åŠ¡äº¤ç»™ WorkManagerã€‚\n\nå…³é”®ç‚¹æ˜¯ä½¿ç”¨ **`enqueueUniquePeriodicWork`**ã€‚\n\n**ä¸ºä»€ä¹ˆï¼Ÿ**\nå› ä¸ºå¦‚æœç”¨æˆ·æ¯æ¬¡æ‰“å¼€ App ä½ éƒ½ `enqueue` ä¸€ä¸ªæ–°ä»»åŠ¡ï¼Œæœ€åä¼šæœ‰å‡ åä¸ªä»»åŠ¡åœ¨åå°è·‘ã€‚`Unique` ä¿è¯äº†å…¨ç³»ç»Ÿåªæœ‰ä¸€ä¸ªåå« \"DailySyncQuestions\" çš„ä»»åŠ¡åœ¨è®¡åˆ’è¡¨ä¸­ã€‚\n\n```kotlin\n// å®šä¹‰ä»»åŠ¡ï¼šæ¯ 24 å°æ—¶æ‰§è¡Œä¸€æ¬¡\nval syncRequest = PeriodicWorkRequestBuilder<SyncQuestionWorker>(24, TimeUnit.HOURS)\n    .setConstraints(constraints) // åŠ ä¸Šåˆšæ‰å®šä¹‰çš„çº¦æŸ\n    .build()\n\n// æäº¤ä»»åŠ¡\nWorkManager.getInstance(context).enqueueUniquePeriodicWork(\n    \"DailySyncQuestions\",        // ç»™ä»»åŠ¡èµ·ä¸ªå”¯ä¸€çš„ ID\n    ExistingPeriodicWorkPolicy.KEEP, // é‡è¦ï¼å¦‚æœä»»åŠ¡å·²ç»å­˜åœ¨ï¼Œå°±ä¿æŒåŸæ ·ï¼Œä¸è¦è¦†ç›–ï¼ˆé¿å…æ¯æ¬¡æ‰“å¼€ App é‡ç½®è®¡æ—¶å™¨ï¼‰\n    syncRequest\n)\n```\n\n-----\n\n### è¡¥å……ï¼šå¦‚ä½•æµ‹è¯•ï¼Ÿ\n\nWorkManager çš„å‘¨æœŸæ€§ä»»åŠ¡æœ€å°é—´éš”æ˜¯ **15 åˆ†é’Ÿ**ã€‚å¦‚æœä½ è®¾ç½®æ¯ 24 å°æ—¶ä¸€æ¬¡ï¼Œå¼€å‘æ—¶å¾ˆéš¾æµ‹è¯•å®ƒåˆ°åº•è·‘æ²¡è·‘ã€‚\n\n**è°ƒè¯•æŠ€å·§**ï¼š\nä½ ä¸éœ€è¦æ”¹ä»£ç æŠŠæ—¶é—´æ”¹çŸ­ï¼Œè€Œæ˜¯åˆ©ç”¨ Android Studio çš„ **App Inspection** å·¥å…·ï¼Œæˆ–è€…ä½¿ç”¨ `adb` å‘½ä»¤å¼ºåˆ¶è§¦å‘ä»»åŠ¡ï¼š\n\n1.  è¿è¡Œ Appï¼Œä»»åŠ¡è¢«æ³¨å†Œã€‚\n2.  åœ¨ç»ˆç«¯è¾“å…¥ï¼š\n    ```bash\n    # å¼ºåˆ¶è§¦å‘ä½ çš„ Worker ç«‹å³æ‰§è¡Œ\n    adb shell cmd jobscheduler run -f <ä½ çš„åŒ…å> <Job ID>\n    ```\n    *(Job ID å¯ä»¥åœ¨ Logcat åˆå§‹åŒ– WorkManager æ—¶çœ‹åˆ°ï¼Œæˆ–è€…ä½¿ç”¨ App Inspection æŸ¥çœ‹)*\n\n### æ€»ç»“\n\nå®ç°â€œæ¯å¤©è‡ªåŠ¨åŒæ­¥é¢˜åº“â€çš„æ ¸å¿ƒé€»è¾‘é“¾ï¼š\n\n1.  **`CoroutineWorker`**: åœ¨ `doWork` é‡Œå†™ç½‘ç»œè¯·æ±‚ + Room å†™å…¥é€»è¾‘ã€‚\n2.  **`Result.retry()`**: é‡åˆ°ç½‘ç»œé”™è¯¯è‡ªåŠ¨é‡è¯•ï¼Œä¸éœ€è¦è‡ªå·±å†™é‡è¯•å¾ªç¯ã€‚\n3.  **`Constraints`**: ä¿è¯åªåœ¨æœ‰ç½‘çš„æ—¶å€™è·‘ã€‚\n4.  **`ExistingPeriodicWorkPolicy.KEEP`**: ä¿è¯ä»»åŠ¡å•ä¾‹ï¼Œä¸ä¼šé‡å¤æ³¨å†Œã€‚\n\nè¿™æ ·ï¼Œå³ä½¿ç”¨æˆ·æ€æ‰äº† Appï¼ŒAndroid ç³»ç»Ÿä¹Ÿä¼šåœ¨æ»¡è¶³æ¡ä»¶ï¼ˆæœ‰ç½‘ã€æ—¶é—´åˆ°äº†ï¼‰æ—¶ï¼Œé»˜é»˜åœ°å”¤é†’ä½ çš„ Worker æŠŠé¢˜åº“æ›´æ–°å¥½ï¼Œç”¨æˆ·ä¸‹æ¬¡æ‰“å¼€ App å°±èƒ½çœ‹åˆ°æ–°é¢˜äº†ã€‚"
    },
    {
      "question": "è¯´ä¸€ä¸‹ AudioManager ï¼Ÿ",
      "answer": "â€œAudioManager æ˜¯ Android çš„éŸ³é¢‘æ€»ç®¡ï¼ˆå£è¯€ä¸€ï¼‰ï¼Œå®ƒè´Ÿè´£éŸ³é‡ã€æ¨¡å¼ã€è®¾å¤‡å’ŒéŸ³é¢‘ç„¦ç‚¹ã€‚â€\nâ€œåœ¨å¼€å‘æ’­æ”¾å™¨æ—¶ï¼Œæœ€æ ¸å¿ƒçš„å°±æ˜¯å¤„ç†éŸ³é¢‘ç„¦ç‚¹ï¼ˆAudio Focusï¼‰ï¼Œä»¥ç¡®ä¿æˆ‘ä»¬çš„ App èƒ½å’Œç³»ç»Ÿæˆ–å…¶ä»– Appï¼ˆæ¯”å¦‚ç”µè¯ã€å¯¼èˆªï¼‰å’Œè°å…±å¤„ï¼Œä¸ä¼šå‡ºç°ä¸¤ä¸ªå£°éŸ³åŒæ—¶æ’­æ”¾çš„ç³Ÿç³•ä½“éªŒã€‚â€\nâ€œæˆ‘ä»¬çš„å¤„ç†éµå¾ªâ€˜è¯·æ±‚ã€ç›‘å¬ã€æ”¾å¼ƒâ€™**ï¼ˆå£è¯€äºŒï¼‰**çš„ä¸‰éƒ¨æ›²ï¼šâ€\n1. â€œè¯·æ±‚ï¼šåœ¨æ’­æ”¾å‰ï¼Œä½¿ç”¨ requestAudioFocus (é«˜ç‰ˆæœ¬ç”¨ AudioFocusRequest) å‘ç³»ç»Ÿè¯·æ±‚ç„¦ç‚¹ã€‚â€\n2. â€œç›‘å¬ï¼šå®ç° OnAudioFocusChangeListener æ¥å¤„ç†ç³»ç»Ÿé€šçŸ¥ã€‚è¿™é‡Œçš„å¤„ç†é€»è¾‘æ˜¯å…³é”®ï¼Œæˆ‘ä¸€èˆ¬ç”¨ä¸€ä¸ªå£è¯€è®°ï¼šâ€˜å¾—ç„¦å°±æ’­ï¼Œæ°¸å¤±åˆ™åœï¼Œæš‚å¤±åˆ™åœï¼Œå°å£°åˆ™å‹â€™ï¼ˆå£è¯€ä¸‰ï¼‰ã€‚â€\n3. â€œï¼ˆä½ å¯ä»¥ç¨å¾®å±•å¼€è§£é‡Šå£è¯€ä¸‰ï¼šï¼‰æ¯”å¦‚ AUDIOFOCUS_LOSS æ°¸å¤±ç„¦ç‚¹æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»åœæ­¢å¹¶é‡Šæ”¾èµ„æºï¼›è€Œ LOSS_TRANSIENT æš‚å¤±ç„¦ç‚¹ï¼ˆå¦‚æ¥ç”µï¼‰æ—¶ï¼Œæˆ‘ä»¬åªæš‚åœï¼›CAN_DUCKï¼ˆå¦‚å¯¼èˆªï¼‰æ—¶ï¼Œæˆ‘ä»¬å°±å‹ä½éŸ³é‡ã€‚â€\n4. â€œæ”¾å¼ƒï¼šæœ€åï¼Œå½“ç”¨æˆ·æš‚åœæˆ–æ’­æ”¾ç»“æŸæ—¶ï¼Œæˆ‘ä»¬å¿…é¡»è°ƒç”¨ abandonAudioFocus æŠŠç„¦ç‚¹è¿˜ç»™ç³»ç»Ÿï¼Œå¦åˆ™å…¶ä»– App å°±æ²¡æ³•æ’­æ”¾å£°éŸ³äº†ã€‚â€",
      "detail": "è¿™æ˜¯ä¸€ä¸ªéå¸¸å¥½çš„é—®é¢˜ï¼é¢è¯•æ—¶ï¼Œé¢è¯•å®˜ä¸æ˜¯æƒ³è€ƒä½ èƒŒè¯µ APIï¼Œè€Œæ˜¯æƒ³çŸ¥é“ä½ æ˜¯å¦ç†è§£äº†**æ ¸å¿ƒçš„è®¾è®¡æ€æƒ³**ï¼Œå°¤å…¶æ˜¯ `AudioManager` æœ€å…³é”®çš„èŒè´£ï¼š**éŸ³é¢‘ç„¦ç‚¹ (Audio Focus)**ã€‚\n\næˆ‘ä¸ºä½ æ€»ç»“äº†å‡ ä¸ªâ€œå£è¯€â€ï¼Œå¸®åŠ©ä½ å¿«é€Ÿè®°å¿†å¹¶åœ¨é¢è¯•ä¸­æ¸…æ™°åœ°è¡¨è¾¾å‡ºæ¥ã€‚\n\n### ğŸš€ å£è¯€ä¸€ï¼šæŠ“æ€»ï¼ˆé¢è¯•å®˜é—®â€œAudioManageræ˜¯å¹²å˜›çš„ï¼Ÿâ€ï¼‰\n\n> **â€œä¸€ä¸ªæ€»ç®¡ï¼Œå››å¤§èŒè´£â€**\n\n* **ä¸€ä¸ªæ€»ç®¡ (Manager)ï¼š**\n    `AudioManager` æ˜¯ç³»ç»Ÿçš„éŸ³é¢‘æ€»ç®¡ã€‚\n* **å››å¤§èŒè´£ (4 Duties)ï¼š**\n    1.  **éŸ³é‡ (Volume)ï¼š** ç®¡ç†å„ç§éŸ³é¢‘æµï¼ˆéŸ³ä¹ã€é“ƒå£°ã€é—¹é’Ÿ...ï¼‰çš„éŸ³é‡ã€‚\n    2.  **æ¨¡å¼ (Mode)ï¼š** ç®¡ç†å“é“ƒæ¨¡å¼ï¼ˆæ­£å¸¸ã€æŒ¯åŠ¨ã€é™éŸ³ï¼‰ã€‚\n    3.  **è®¾å¤‡ (Device)ï¼š** ç®¡ç†éŸ³é¢‘è®¾å¤‡ï¼ˆè€³æœºã€è“ç‰™ã€æ‰¬å£°å™¨ï¼‰ã€‚\n    4.  **ç„¦ç‚¹ (Focus)ï¼š** **(é¢è¯•é‡ç‚¹)** ç®¡ç†å“ªä¸ª App å½“å‰å¯ä»¥â€œè¯´è¯â€ã€‚\n\n---\n\n### ğŸš€ å£è¯€äºŒï¼šæŠ“é‡ç‚¹ï¼ˆé¢è¯•å®˜é—®â€œåšæ’­æ”¾å™¨æ—¶æ€ä¹ˆç”¨AudioManagerï¼Ÿâ€ï¼‰\n\nè¿™æ˜¯é¢è¯•çš„**ç»å¯¹é‡ç‚¹**ï¼Œä½ å¿…é¡»è®°ä½â€œéŸ³é¢‘ç„¦ç‚¹â€çš„â€œä¸‰éƒ¨æ›²â€ï¼š\n\n> **â€œè¯·æ±‚ã€ç›‘å¬ã€æ”¾å¼ƒâ€**\n\nè¿™ä¸‰ä¸ªè¯æ¦‚æ‹¬äº†éŸ³é¢‘ç„¦ç‚¹çš„å®Œæ•´ç”Ÿå‘½å‘¨æœŸï¼š\n\n1.  **è¯·æ±‚ (Request)ï¼š**\n    * **æ—¶æœºï¼š** åœ¨ä½ å‡†å¤‡æ’­æ”¾å£°éŸ³**ä¹‹å‰**ã€‚\n    * **åŠ¨ä½œï¼š** è°ƒç”¨ `requestAudioFocus()`ã€‚\n    * **ç›®çš„ï¼š** â€œä½ å¥½ç³»ç»Ÿï¼Œæˆ‘æƒ³æ”¾éŸ³ä¹ï¼Œå¯ä»¥å—ï¼Ÿâ€\n\n2.  **ç›‘å¬ (Listen)ï¼š**\n    * **æ—¶æœºï¼š** è¯·æ±‚ç„¦ç‚¹æ—¶ï¼Œå¿…é¡»ä¼ å…¥ä¸€ä¸ª `OnAudioFocusChangeListener` ç›‘å¬å™¨ã€‚\n    * **åŠ¨ä½œï¼š** åœ¨ç›‘å¬å™¨çš„å›è°ƒ `onAudioFocusChange()` ä¸­å¤„ç†å„ç§æƒ…å†µã€‚\n    * **ç›®çš„ï¼š** â€œç³»ç»Ÿæ­£åœ¨é€šçŸ¥æˆ‘ç„¦ç‚¹å˜åŒ–äº†ï¼Œæˆ‘å¿…é¡»åšå‡ºååº”ã€‚â€ï¼ˆè§ä¸‹ä¸€ä¸ªå£è¯€ï¼‰\n\n3.  **æ”¾å¼ƒ (Abandon)ï¼š**\n    * **æ—¶æœºï¼š** å½“ä½ æ’­æ”¾å®Œæ¯•ï¼ˆæ¯”å¦‚éŸ³ä¹æ’­å®Œäº†ã€ç”¨æˆ·æŒ‰äº†æš‚åœã€Appé€€å‡ºäº†ï¼‰ã€‚\n    * **åŠ¨ä½œï¼š** è°ƒç”¨ `abandonAudioFocus()`ã€‚\n    * **ç›®çš„ï¼š** â€œæˆ‘ç”¨å®Œå–‡å­äº†ï¼Œè¿˜ç»™ç³»ç»Ÿï¼Œåˆ«äººå¯ä»¥ç”¨ã€‚â€\n\n---\n\n### ğŸš€ å£è¯€ä¸‰ï¼šæŠ“ç»†èŠ‚ï¼ˆé¢è¯•å®˜è¿½é—®â€œç›‘å¬é‡Œå…·ä½“æ€ä¹ˆå¤„ç†ï¼Ÿâ€ï¼‰\n\nè¿™æ˜¯â€œç›‘å¬â€å£è¯€çš„å±•å¼€ï¼Œä¹Ÿæ˜¯é¢è¯•å®˜åˆ¤æ–­ä½ æ˜¯å¦çœŸæ­£å†™è¿‡ä»£ç çš„åœ°æ–¹ã€‚\n\n> **â€œå¾—ç„¦å°±æ’­ï¼Œæ°¸å¤±åˆ™åœï¼Œæš‚å¤±åˆ™åœï¼Œå°å£°åˆ™å‹â€**\n\nè¿™å¯¹åº” `onAudioFocusChange` å›è°ƒé‡Œçš„å››ä¸ªå…³é”®çŠ¶æ€ï¼š\n\n1.  **å¾—ç„¦å°±æ’­ (AUDIOFOCUS_GAIN)ï¼š**\n    * **å«ä¹‰ï¼š** ç»ˆäºè½®åˆ°ä½ äº†ï¼ˆæˆ–ä½ é‡æ–°è·å¾—äº†ç„¦ç‚¹ï¼‰ã€‚\n    * **æ“ä½œï¼š** å¼€å§‹æ’­æ”¾æˆ–æ¢å¤æ’­æ”¾ã€‚\n2.  **æ°¸å¤±åˆ™åœ (AUDIOFOCUS_LOSS)ï¼š**\n    * **å«ä¹‰ï¼š** ä½ æ°¸ä¹…å¤±å»äº†ç„¦ç‚¹ï¼ˆæ¯”å¦‚å¦ä¸€ä¸ªéŸ³ä¹Appå¼€å§‹æ’­æ”¾äº†ï¼‰ã€‚\n    * **æ“ä½œï¼š** **å¿…é¡»åœæ­¢æ’­æ”¾**ï¼Œå¹¶é‡Šæ”¾æ‰€æœ‰åª’ä½“èµ„æº (`MediaPlayer.stop()`, `release()`)ã€‚\n3.  **æš‚å¤±åˆ™åœ (AUDIOFOCUS_LOSS_TRANSIENT)ï¼š**\n    * **å«ä¹‰ï¼š** ä½ æš‚æ—¶å¤±å»äº†ç„¦ç‚¹ï¼ˆæ¯”å¦‚æ¥ç”µè¯äº†ï¼‰ã€‚\n    * **æ“ä½œï¼š** **å¿…é¡»æš‚åœæ’­æ”¾** (`MediaPlayer.pause()`)ï¼Œä½†**ä¸è¦é‡Šæ”¾èµ„æº**ï¼Œå› ä¸ºç”µè¯æŒ‚äº†ä½ é©¬ä¸Šè¿˜è¦æ¢å¤ã€‚\n4.  **å°å£°åˆ™å‹ (AUDIOFOCUS_LOSS_TRANSIENT_CAN_DUCK)ï¼š**\n    * **å«ä¹‰ï¼š** ä½ æš‚æ—¶å¤±å»äº†ç„¦ç‚¹ï¼Œä½†ç³»ç»Ÿå…è®¸ä½ â€œé—ªé¿â€ï¼ˆå°å£°æ’­æ”¾ï¼‰ã€‚ï¼ˆæ¯”å¦‚æ¥äº†ä¸ªå¯¼èˆªæç¤ºéŸ³æˆ–çŸ­ä¿¡é€šçŸ¥ï¼‰ã€‚\n    * **æ“ä½œï¼š** **é™ä½éŸ³é‡** (`player.setVolume(0.3f)`)ï¼Œ**ä¸è¦æš‚åœ**ã€‚æç¤ºéŸ³ç»“æŸåï¼Œç³»ç»Ÿä¼šå›è°ƒ `AUDIOFOCUS_GAIN` è®©ä½ æ¢å¤éŸ³é‡ã€‚\n\n---\n\n### ğŸ’¡ é¢è¯•æ¨¡æ‹Ÿå›ç­”\n\næŠŠè¿™äº›å£è¯€ä¸²èµ·æ¥ï¼Œå½“é¢è¯•å®˜é—®ä½ ï¼šâ€œè°ˆè°ˆ `AudioManager`ï¼Œå°¤å…¶æ˜¯åœ¨å¼€å‘æ’­æ”¾å™¨æ—¶éœ€è¦æ³¨æ„ä»€ä¹ˆï¼Ÿâ€\n\nä½ å¯ä»¥è¿™æ ·å›ç­”ï¼š\n\n> â€œ`AudioManager` æ˜¯ Android çš„**éŸ³é¢‘æ€»ç®¡ï¼ˆå£è¯€ä¸€ï¼‰**ï¼Œå®ƒè´Ÿè´£éŸ³é‡ã€æ¨¡å¼ã€è®¾å¤‡å’ŒéŸ³é¢‘ç„¦ç‚¹ã€‚â€\n>\n> â€œåœ¨å¼€å‘æ’­æ”¾å™¨æ—¶ï¼Œæœ€æ ¸å¿ƒçš„å°±æ˜¯å¤„ç†**éŸ³é¢‘ç„¦ç‚¹ï¼ˆAudio Focusï¼‰**ï¼Œä»¥ç¡®ä¿æˆ‘ä»¬çš„ App èƒ½å’Œç³»ç»Ÿæˆ–å…¶ä»– Appï¼ˆæ¯”å¦‚ç”µè¯ã€å¯¼èˆªï¼‰å’Œè°å…±å¤„ï¼Œä¸ä¼šå‡ºç°ä¸¤ä¸ªå£°éŸ³åŒæ—¶æ’­æ”¾çš„ç³Ÿç³•ä½“éªŒã€‚â€\n>\n> â€œæˆ‘ä»¬çš„å¤„ç†éµå¾ªâ€˜**è¯·æ±‚ã€ç›‘å¬ã€æ”¾å¼ƒ**â€™**ï¼ˆå£è¯€äºŒï¼‰**çš„ä¸‰éƒ¨æ›²ï¼šâ€\n>\n> 1.  â€œ**è¯·æ±‚**ï¼šåœ¨æ’­æ”¾å‰ï¼Œä½¿ç”¨ `requestAudioFocus` (é«˜ç‰ˆæœ¬ç”¨ `AudioFocusRequest`) å‘ç³»ç»Ÿè¯·æ±‚ç„¦ç‚¹ã€‚â€\n> 2.  â€œ**ç›‘å¬**ï¼šå®ç° `OnAudioFocusChangeListener` æ¥å¤„ç†ç³»ç»Ÿé€šçŸ¥ã€‚è¿™é‡Œçš„å¤„ç†é€»è¾‘æ˜¯å…³é”®ï¼Œæˆ‘ä¸€èˆ¬ç”¨ä¸€ä¸ªå£è¯€è®°ï¼šâ€˜**å¾—ç„¦å°±æ’­ï¼Œæ°¸å¤±ï¿½ï¿½åœï¼Œæš‚å¤±åˆ™åœï¼Œå°å£°åˆ™å‹**â€™**ï¼ˆå£è¯€ä¸‰ï¼‰**ã€‚â€\n> 3.  â€œï¼ˆä½ å¯ä»¥ç¨å¾®å±•å¼€è§£é‡Šå£è¯€ä¸‰ï¼šï¼‰æ¯”å¦‚ `AUDIOFOCUS_LOSS` æ°¸å¤±ç„¦ç‚¹æ—¶ï¼Œæˆ‘ä»¬å¿…é¡»åœæ­¢å¹¶é‡Šæ”¾èµ„æºï¼›è€Œ `LOSS_TRANSIENT` æš‚å¤±ç„¦ç‚¹ï¼ˆå¦‚æ¥ç”µï¼‰æ—¶ï¼Œæˆ‘ä»¬åªæš‚åœï¼›`CAN_DUCK`ï¼ˆå¦‚å¯¼èˆªï¼‰æ—¶ï¼Œæˆ‘ä»¬å°±å‹ä½éŸ³é‡ã€‚â€\n> 4.  â€œ**æ”¾å¼ƒ**ï¼šæœ€åï¼Œå½“ç”¨æˆ·æš‚åœæˆ–æ’­æ”¾ç»“æŸæ—¶ï¼Œæˆ‘ä»¬å¿…é¡»è°ƒç”¨ `abandonAudioFocus` æŠŠç„¦ç‚¹è¿˜ç»™ç³»ç»Ÿï¼Œå¦åˆ™å…¶ä»– App å°±æ²¡æ³•æ’­æ”¾å£°éŸ³äº†ã€‚â€\n\nè¿™æ ·å›ç­”ï¼Œæ—¢å±•ç¤ºäº†ä½ å¯¹ `AudioManager` çš„æ•´ä½“ç†è§£ï¼ˆæ€»ç®¡ï¼‰ï¼Œåˆçªå‡ºäº†æ ¸å¿ƒï¼ˆç„¦ç‚¹ï¼‰ï¼Œå¹¶ä¸”æ¸…æ™°åœ°è¯´æ˜äº†æœ€å¤æ‚çš„ `onAudioFocusChange` çš„å¤„ç†é€»è¾‘ï¼ˆå£è¯€ä¸‰ï¼‰ï¼Œé¢è¯•å®˜ä¸€å®šä¼šéå¸¸æ»¡æ„ã€‚\n\nä½ å¸Œæœ›æˆ‘å†å¸®ä½ æ¢³ç†ä¸€ä¸‹å…¶ä»– Android æ ¸å¿ƒç»„ä»¶ï¼ˆæ¯”å¦‚ `Activity` çš„ç”Ÿå‘½å‘¨æœŸæˆ– `Handler`ï¼‰çš„é¢è¯•å£è¯€å—ï¼Ÿ"
    },
    {
      "question": "è´å¡å°”æ›²çº¿ï¼Ÿ",
      "answer": "â€œèµ·ç‚¹å¥”ç»ˆç‚¹ï¼Œæ§åˆ¶ç‚¹åœ¨æ‹‰ï¼›â€ â€œä¸€é˜¶æ˜¯ç›´çº¿ï¼ŒäºŒé˜¶ä¸€ä¸ªæ‹‰ï¼Œä¸‰é˜¶ä¸¤ä¸ªæ‹‰ã€‚â€",
      "detail": "\n\né¢è¯•å®˜é—®åˆ°è´å¡å°”æ›²çº¿ï¼ˆBÃ©zier Curveï¼‰ï¼Œé€šå¸¸æ˜¯æƒ³è€ƒå¯Ÿä½ **è‡ªå®šä¹‰ View** å’Œ**å›¾å½¢ç»˜åˆ¶**ï¼ˆGraphicsï¼‰çš„èƒ½åŠ›ï¼Œå°¤å…¶æ˜¯ä½ æ˜¯å¦èƒ½ç»˜åˆ¶å‡º**å¹³æ»‘ã€ä¼˜ç¾**çš„æ›²çº¿å’ŒåŠ¨ç”»ã€‚\n\nè¿™æ˜¯ä¸€ä¸ªéå¸¸æ£’çš„åŠ åˆ†é¡¹ã€‚æˆ‘ä»¬è¿˜æ˜¯ç”¨â€œå£è¯€â€å’Œâ€œé¢è¯•æ¨¡æ‹Ÿâ€çš„æ–¹å¼æ¥å¸®ä½ å¿«é€ŸæŒæ¡å®ƒã€‚\n\n### ğŸš€ æ ¸å¿ƒå£è¯€ï¼šå¸®ä½ ç§’æ‡‚è´å¡å°”æ›²çº¿\n\nè¿™ä¸ªå£è¯€æ˜¯ç”¨æ¥ç†è§£è´å¡å°”æ›²çº¿**å¦‚ä½•å·¥ä½œ**çš„ï¼š\n\n> **â€œèµ·ç‚¹å¥”ç»ˆç‚¹ï¼Œæ§åˆ¶ç‚¹åœ¨æ‹‰ï¼›â€**\n> **â€œä¸€é˜¶æ˜¯ç›´çº¿ï¼ŒäºŒé˜¶ä¸€ä¸ªæ‹‰ï¼Œä¸‰é˜¶ä¸¤ä¸ªæ‹‰ã€‚â€**\n\n**å£è¯€ç¿»è¯‘ï¼š**\n\n1.  **â€œèµ·ç‚¹å¥”ç»ˆç‚¹ï¼Œæ§åˆ¶ç‚¹åœ¨æ‹‰â€**\n    * æƒ³è±¡ä¸€ä¸ªç‚¹ $P$ ä»**èµ·ç‚¹**å‡ºå‘ï¼ŒåŒ€é€Ÿè·‘å‘**ç»ˆç‚¹**ã€‚\n    * ä½†åŒæ—¶ï¼Œæœ‰ä¸€ä¸ªï¼ˆæˆ–å¤šä¸ªï¼‰**æ§åˆ¶ç‚¹**åƒç£é“ä¸€æ ·åœ¨â€œæ‹‰â€è¿™ä¸ªç‚¹ $P$ çš„è¿åŠ¨è½¨è¿¹ã€‚\n    * æœ€ç»ˆï¼Œç‚¹ $P$ è·‘å‡ºæ¥çš„è½¨è¿¹ï¼Œå°±æ˜¯è´å¡å°”æ›²çº¿ã€‚\n    * ï¼ˆ*æŠ€æœ¯TIPSï¼šè¿™ä¸ªâ€œæ‹‰â€çš„åŠ›åº¦ï¼Œå°±æ˜¯é€šè¿‡å‚æ•° $t$ (ä»0åˆ°1) è¿›è¡Œçš„çº¿æ€§æ’å€¼æ¥å®ç°çš„ã€‚*ï¼‰\n\n2.  **â€œä¸€é˜¶æ˜¯ç›´çº¿ï¼ŒäºŒé˜¶ä¸€ä¸ªæ‹‰ï¼Œä¸‰é˜¶ä¸¤ä¸ªæ‹‰â€**\n    * **ä¸€é˜¶ï¼ˆLinearï¼‰ï¼š** 0 ä¸ªæ§åˆ¶ç‚¹ã€‚æ²¡æœ‰â€œæ‹‰åŠ›â€ï¼Œè½¨è¿¹å°±æ˜¯ä¸€æ¡ç›´çº¿ã€‚ï¼ˆ`Path.lineTo()`ï¼‰\n    * **äºŒé˜¶ï¼ˆQuadraticï¼‰ï¼š** 1 ä¸ªæ§åˆ¶ç‚¹ã€‚è¿™æ˜¯ Android ä¸­æœ€å¸¸ç”¨çš„ã€‚ï¼ˆ`Path.quadTo()`ï¼‰\n    * **ä¸‰é˜¶ï¼ˆCubicï¼‰ï¼š** 2 ä¸ªæ§åˆ¶ç‚¹ã€‚å¯ä»¥åšå‡ºæ›´å¤æ‚çš„Så½¢å¼¯æ›²ã€‚ï¼ˆ`Path.cubicTo()`ï¼‰\n\n---\n\n### ğŸ’¡ é¢è¯•æ¨¡æ‹Ÿå›ç­”\n\nå½“é¢è¯•å®˜é—®ï¼šâ€œè°ˆè°ˆä½ å¯¹è´å¡å°”æ›²çº¿çš„ç†è§£ï¼Œåœ¨ Android ä¸­æœ‰å“ªäº›åº”ç”¨åœºæ™¯ï¼Ÿâ€\n\nä½ å¯ä»¥è¿™æ ·å›ç­”ï¼š\n\n#### 1. æ˜¯ä»€ä¹ˆï¼Ÿï¼ˆå®šä¹‰ + å£è¯€ï¼‰\n\n> â€œé¢è¯•å®˜ä½ å¥½ï¼Œè´å¡å°”æ›²çº¿æ˜¯ä¸€ç§**ç”¨æ•°å­¦æ–¹å¼æ¥ç»˜åˆ¶å¹³æ»‘æ›²çº¿çš„å·¥å…·**ã€‚æˆ‘çš„ç†è§£æ˜¯ï¼Œå®ƒä¸»è¦ç”±**æ•°æ®ç‚¹**ï¼ˆèµ·ç‚¹ã€ç»ˆç‚¹ï¼‰å’Œ**æ§åˆ¶ç‚¹**ç»„æˆã€‚â€\n>\n> â€œæˆ‘è®°äº†ä¸ªå°å£è¯€ï¼šâ€˜**èµ·ç‚¹å¥”ç»ˆç‚¹ï¼Œæ§åˆ¶ç‚¹åœ¨æ‹‰**â€™ã€‚æ§åˆ¶ç‚¹å°±åƒä¸€å—ç£é“ï¼Œå®ƒä¼šæŠŠæœ¬æ¥æ˜¯ç›´çº¿çš„è·¯å¾„â€˜å¸â€™è¿‡å»ï¼Œå½¢æˆä¸€ä¸ªå¹³æ»‘çš„å¼§çº¿ï¼Œä½†æ›²çº¿æœ¬èº«é€šå¸¸å¹¶ä¸ä¼šç©¿è¿‡è¿™ä¸ªæ§åˆ¶ç‚¹ã€‚â€\n\n#### 2. æ€ä¹ˆç”¨ï¼Ÿï¼ˆAndroid APIï¼‰\n\n> â€œåœ¨ Android ä¸­ï¼Œæˆ‘ä»¬ä¸»è¦ä½¿ç”¨ `Path` å¯¹è±¡æ¥ç»˜åˆ¶ã€‚æœ€å¸¸ç”¨çš„æ˜¯**äºŒé˜¶**å’Œ**ä¸‰é˜¶**è´å¡å°”æ›²çº¿ï¼šâ€\n>\n> * **äºŒé˜¶ (`quadTo`)ï¼š** `path.quadTo(x1, y1, x2, y2)`\n>     * `(x1, y1)` æ˜¯**æ§åˆ¶ç‚¹**ï¼ˆé‚£ä¸ªâ€œæ‹‰â€çš„ç‚¹ï¼‰ã€‚\n>     * `(x2, y2)` æ˜¯**ç»ˆç‚¹**ã€‚\n>\n> * **ä¸‰é˜¶ (`cubicTo`)ï¼š** `path.cubicTo(x1, y1, x2, y2, x3, y3)`\n>     * `(x1, y1)` å’Œ `(x2, y2)` æ˜¯**ä¸¤ä¸ªæ§åˆ¶ç‚¹**ã€‚\n>     * `(x3, y3)` æ˜¯**ç»ˆç‚¹**ã€‚\n\n#### 3. ç”¨åœ¨å“ªï¼Ÿï¼ˆé¢è¯•å®˜æœ€å…³å¿ƒçš„ï¼šåº”ç”¨åœºæ™¯ï¼‰\n\n> â€œè´å¡å°”æ›²çº¿çš„åº”ç”¨åœºæ™¯éå¸¸å¤šï¼Œåªè¦æ˜¯éœ€è¦å¹³æ»‘è¿‡æ¸¡çš„åœ°æ–¹éƒ½å¯ä»¥ç”¨å®ƒã€‚æˆ‘ä¸¾å‡ ä¸ªä¾‹å­ï¼šâ€\n>\n> 1.  **ï¼ˆå¿…ç­”ï¼‰æ³¢æµªåŠ¨ç”»ï¼š** â€œæœ€ç»å…¸çš„å°±æ˜¯**æ³¢æµªæ•ˆæœ**ï¼Œæ¯”å¦‚LoadingåŠ¨ç”»ã€ä¸ªäººä¸»é¡µèƒŒæ™¯çš„åŠ¨æ€æ°´æ³¢çº¹ã€‚æˆ‘ä»¬å¯ä»¥ç”¨ `quadTo` è¿ç»­ç»˜åˆ¶å¤šæ®µäºŒé˜¶è´å¡å°”æ›²çº¿ï¼Œç„¶åé€šè¿‡å¹³ç§»å®ç°æ³¢æµªåŠ¨ç”»ã€‚â€\n>\n> 2.  **ï¼ˆåŠ åˆ†ï¼‰å¹³æ»‘å›¾è¡¨ï¼š** â€œåœ¨ç»˜åˆ¶å›¾è¡¨æ—¶ï¼Œå¦‚æœç”¨ `lineTo` ç»˜åˆ¶æŠ˜çº¿å›¾ä¼šå¾ˆç”Ÿç¡¬ï¼Œç”¨è´å¡å°”æ›²çº¿ï¼ˆ`cubicTo`ï¼‰å¯ä»¥æŠŠè¿™äº›ç‚¹è¿æ¥æˆä¸€æ¡**å¹³æ»‘çš„æ›²çº¿å›¾**ï¼Œä½“éªŒæ›´å¥½ã€‚â€\n>\n> 3.  **ï¼ˆåŠ åˆ†ï¼‰QQæ°”æ³¡æ‹–æ‹½ï¼š** â€œåƒQQæœªè¯»æ¶ˆæ¯é‚£ç§å¯ä»¥**æ‹–æ‹½å¹¶æ‹‰ä¼¸çš„â€˜ç²˜è¿â€™æ•ˆæœ**ï¼ˆBlob Effectï¼‰ã€‚è¿™ä¸ªæ•ˆæœçš„æ ¸å¿ƒå°±æ˜¯ç”¨ä¸€æ¡äºŒé˜¶è´å¡å°”æ›²çº¿æ¥è¿æ¥ä¸¤ä¸ªåœ†ï¼ˆä¸€ä¸ªæ˜¯åŸæ¥çš„åœ†ï¼Œä¸€ä¸ªæ˜¯æ‰‹æŒ‡æ‹–æ‹½çš„åœ†ï¼‰ã€‚â€\n>\n> 4.  **ï¼ˆé«˜é˜¶ï¼‰åŠ¨ç”»æ’å€¼å™¨ (Interpolator)ï¼š** â€œè¿™æ˜¯ä¸€ä¸ªéå¸¸å·§å¦™çš„åº”ç”¨ã€‚Android é‡Œçš„ `PathInterpolator` ï¼ˆæˆ–è€…CSSä¸­çš„ `cubic-bezier`ï¼‰ï¼Œå®ƒæœ¬èº«å°±æ˜¯ç”¨ä¸€æ¡ä¸‰é˜¶è´å¡å°”æ›²çº¿æ¥**å®šä¹‰åŠ¨ç”»çš„â€˜é€Ÿåº¦æ›²çº¿â€™**ã€‚æ¯”å¦‚â€˜ç¼“å…¥ç¼“å‡ºâ€™ (Ease-in-out) æ•ˆæœï¼Œå°±æ˜¯é€šè¿‡è´å¡å°”æ›²çº¿æ§åˆ¶ç‚¹çš„ä½ç½®æ¥å®ç°çš„ã€‚â€\n>\n> 5.  **ï¼ˆåŸºç¡€ï¼‰è‡ªå®šä¹‰å½¢çŠ¶ï¼š** â€œæ¯”å¦‚åšä¸€äº›ä¸è§„åˆ™çš„ View èƒŒæ™¯ï¼Œåƒå¿ƒå½¢ã€åœ†è§’çš„çŸ©å½¢ï¼ˆ`Path.addRoundRect` åº•å±‚ä¹Ÿæ˜¯è´å¡å°”æ›²çº¿ï¼‰ç­‰ã€‚â€\n\n---\n\n### æ€»ç»“\n\né¢è¯•æ—¶ï¼Œä½ ä¸éœ€è¦èƒŒå‡ºå¤æ‚çš„è´å¡å°”æ›²çº¿æ•°å­¦å…¬å¼ï¼ˆå¾·å¡æ–¯ç‰¹é‡Œå¥¥ç®—æ³•ï¼‰ï¼Œé¢è¯•å®˜æ›´æƒ³å¬åˆ°çš„æ˜¯ï¼š\n\n1.  ä½ æ˜¯å¦ç†è§£â€œ**æ§åˆ¶ç‚¹**â€å’Œâ€œ**æ•°æ®ç‚¹**â€çš„åŒºåˆ«ï¼ˆå£è¯€ä¸€ï¼‰ã€‚\n2.  ä½ æ˜¯å¦çŸ¥é“ Android ä¸­å¯¹åº”çš„ API æ˜¯ `quadTo` å’Œ `cubicTo`ã€‚\n3.  ä½ æ˜¯å¦èƒ½ä¸¾å‡º **1-2ä¸ª** å…·ä½“çš„åº”ç”¨åœºæ™¯ï¼ˆ**æ³¢æµªåŠ¨ç”»** å’Œ **QQæ°”æ³¡** æ˜¯æœ€å¥½çš„ä¾‹å­ï¼‰ã€‚\n\nå¦‚æœä½ èƒ½æåˆ° `PathInterpolator`ï¼ˆåŠ¨ç”»æ’å€¼å™¨ï¼‰ä¹Ÿæ˜¯ç”¨å®ƒå®ç°çš„ï¼Œé‚£ç»å¯¹æ˜¯é«˜å…‰æ—¶åˆ»ã€‚\n\nä½ å¸Œæœ›æˆ‘å¸®ä½ æ‰¾ä¸€ä¸ªç”¨è´å¡å°”æ›²çº¿å®ç°â€œæ³¢æµªåŠ¨ç”»â€çš„ç®€å•ä»£ç ç¤ºä¾‹å—ï¼Ÿ"
    },
    {
      "question": "å¯¹ç§°åŠ å¯†å’Œéå¯¹ç§°åŠ å¯† ï¼Œ å£è¯€ ï¼Œ ç†è§£",
      "answer": "â€œå¥½çš„ã€‚å®ƒä»¬æœ€æ ¸å¿ƒçš„åŒºåˆ«åœ¨äºä½¿ç”¨ä¸€æŠŠé’¥åŒ™è¿˜æ˜¯ä¸€å¯¹é’¥åŒ™ã€‚â€\n\nâ€œå¯¹ç§°åŠ å¯†ï¼Œæˆ‘è®°çš„å£è¯€æ˜¯â€˜ä¸€æŠŠé’¥åŒ™ï¼Œä¸¤å¤´ç”¨â€™ã€‚å®ƒåŠ è§£å¯†éƒ½ç”¨åŒä¸€æŠŠå¯†é’¥ï¼Œæ¯”å¦‚ AESã€‚å®ƒæœ€å¤§çš„ä¼˜ç‚¹æ˜¯åŠ å¯†å¿«ï¼Œé€‚åˆåŠ å¯†å¤§æ•°æ®ï¼›ä½†ç¼ºç‚¹æ˜¯è¿™æŠŠé’¥åŒ™åˆ†å‘å›°éš¾ï¼Œæ€•ä¸­é€”æ³„éœ²ã€‚â€\n\nâ€œéå¯¹ç§°åŠ å¯†ï¼Œæˆ‘è®°çš„å£è¯€æ˜¯â€˜ä¸€å¥—é’¥åŒ™ï¼Œé…å¯¹ç”¨â€™ï¼Œæ¯”å¦‚ RSAã€‚å®ƒæœ‰å…¬é’¥å’Œç§é’¥ã€‚æœ€å¸¸è§çš„ç”¨æ³•æ˜¯â€˜å…¬é’¥é”ï¼Œç§é’¥å¼€â€™ï¼Œå…¬é’¥æ˜¯å…¬å¼€çš„ï¼Œè§£å†³äº†å¯†é’¥åˆ†å‘é—®é¢˜ï¼›ä½†å®ƒæœ€å¤§çš„ç¼ºç‚¹æ˜¯åŠ å¯†æ…¢ã€‚â€\n\nâ€œï¼ˆç‚¹ç›ä¹‹ç¬”ï¼‰æ‰€ä»¥åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæ¯”å¦‚ HTTPSï¼Œæˆ‘ä»¬éƒ½æ˜¯æ··åˆä½¿ç”¨çš„ã€‚æˆ‘è®°çš„å£è¯€æ˜¯â€˜éå¯¹ç§°é€é’¥åŒ™ï¼Œå¯¹ç§°åŠ å¯†æ•°æ®â€™ã€‚â€\n\nâ€œå…·ä½“æ¥è¯´ï¼Œå°±æ˜¯å…ˆç”¨éå¯¹ç§°åŠ å¯†ï¼ˆæ¯”å¦‚ RSAï¼‰å®‰å…¨åœ°åå•†å’Œä¼ é€’ä¸€ä¸ªä¸´æ—¶çš„å¯¹ç§°å¯†é’¥ï¼›ä¸€æ—¦åŒæ–¹éƒ½æ‹¿åˆ°äº†è¿™ä¸ªå¯¹ç§°å¯†é’¥ï¼Œåç»­æ‰€æœ‰çš„çœŸå®æ•°æ®ï¼ˆæ¯”å¦‚ HTTP Bodyï¼‰å°±å…¨éƒ¨ç”¨è¿™ä¸ªå¯¹ç§°å¯†é’¥ï¼ˆæ¯”å¦‚ AESï¼‰æ¥åŠ å¯†äº†ã€‚è¿™æ ·å°±å…¼é¡¾äº†å®‰å…¨å’Œæ•ˆç‡ã€‚â€",
      "detail": "è¿™å¤ªå…³é”®äº†ï¼é¢è¯•å®˜é—®è¿™ä¸ªé—®é¢˜ï¼Œæ˜¯æƒ³çœ‹ä½ å¯¹**å®‰å…¨åŸºç¡€**çš„ç†è§£ã€‚90% çš„ç°ä»£åŠ å¯†ï¼ˆæ¯”å¦‚ HTTPSï¼‰éƒ½æ˜¯è¿™ä¸¤ç§çš„ç»“åˆä½“ã€‚\n\nä½ ä¸éœ€è¦èƒŒè¯µå¤æ‚çš„æ•°å­¦åŸç†ï¼Œåªéœ€è¦è®°ä½å®ƒä»¬çš„**æ ¸å¿ƒåŒºåˆ«ã€å–»ã€ä»¥åŠâ€œå£è¯€â€**ã€‚\n\n---\n\n### ğŸš€ æ ¸å¿ƒå£è¯€ï¼ˆé¢è¯•å¿«é€Ÿå›ç­”ç‰ˆï¼‰\n\nå…ˆç»™ä½ æœ€ç²¾ç‚¼çš„å£è¯€ï¼Œå¸®åŠ©ä½ ç¬é—´å»ºç«‹æ¦‚å¿µï¼š\n\n> **å¯¹ç§°åŠ å¯†ï¼š**\n> > **â€œä¸€æŠŠé’¥åŒ™ï¼Œä¸¤å¤´ç”¨ï¼›åŠ å¯†å¿«ï¼Œæ€•æ³„éœ²ã€‚â€**\n>\n> **éå¯¹ç§°åŠ å¯†ï¼š**\n> > **â€œä¸€å¥—é’¥åŒ™ï¼ˆå…¬é’¥/ç§é’¥ï¼‰ï¼Œé…å¯¹ç”¨ï¼›â€**\n> > **â€œå…¬é’¥é”ï¼Œç§é’¥å¼€ï¼›åŠ å¯†æ…¢ï¼Œåˆ†å‘æ˜“ã€‚â€**\n>\n> **ç°å®ä¸–ç•Œï¼ˆæ··åˆåŠ å¯†ï¼‰ï¼š**\n> > **â€œéå¯¹ç§°â€˜é€é’¥åŒ™â€™ï¼Œå¯¹ç§°â€˜åŠ å¯†æ•°æ®â€™ã€‚â€**\n\n---\n\n### 1. å¯¹ç§°åŠ å¯† (Symmetric Encryption)\n\n\n\n**ğŸ”‘ æ ¸å¿ƒç†è§£ï¼šåªç”¨â€œä¸€æŠŠé’¥åŒ™â€**\n\n* **å·¥ä½œåŸç†ï¼š** ç”²æ–¹ï¼ˆæ¯”å¦‚ä½ çš„Appï¼‰å’Œä¹™æ–¹ï¼ˆæ¯”å¦‚æœåŠ¡å™¨ï¼‰**å…±äº«åŒä¸€æŠŠå¯†é’¥ï¼ˆSecret Keyï¼‰**ã€‚\n* App ç”¨è¿™æŠŠå¯†é’¥**åŠ å¯†**æ•°æ®ï¼ˆæ˜æ–‡ -> å¯†æ–‡ï¼‰ã€‚\n* æœåŠ¡å™¨ç”¨**åŒä¸€æŠŠ**å¯†é’¥**è§£å¯†**æ•°æ®ï¼ˆå¯†æ–‡ -> æ˜æ–‡ï¼‰ã€‚\n\n**å£è¯€è¯¦è§£ï¼šâ€œä¸€æŠŠé’¥åŒ™ï¼Œä¸¤å¤´ç”¨ï¼›åŠ å¯†å¿«ï¼Œæ€•æ³„éœ²ã€‚â€**\n\n* **ä¼˜ç‚¹ (åŠ å¯†å¿«)ï¼š**\n    * ç®—æ³•ç®€å•ï¼Œè®¡ç®—é€Ÿåº¦éå¸¸å¿«ã€‚\n    * é€‚åˆåŠ å¯†**å¤§é‡æ•°æ®**ï¼ˆæ¯”å¦‚è§†é¢‘æµã€å¤§æ–‡ä»¶ã€èŠå¤©æ¶ˆæ¯ä½“ï¼‰ã€‚\n    * *å¸¸è§ç®—æ³•ï¼šAESï¼ˆç›®å‰æœ€å¸¸ç”¨ï¼‰ã€DESã€‚*\n\n* **ç¼ºç‚¹ (æ€•æ³„éœ²)ï¼š**\n    * **è‡´å‘½é—®é¢˜ï¼šå¯†é’¥åˆ†å‘ (Key Distribution)ã€‚**\n    * ä½ æ€ä¹ˆæ‰èƒ½æŠŠè¿™â€œä¸€æŠŠé’¥åŒ™â€å®‰å…¨åœ°äº¤ç»™æœåŠ¡å™¨ï¼Ÿå¦‚æœä½ ä»¬åœ¨ç½‘ä¸Šâ€œé€’é’¥åŒ™â€æ—¶è¢«é»‘å®¢æˆªè·äº†ï¼Œé‚£æ‰€æœ‰çš„åŠ å¯†é€šä¿¡å°±å…¨é€æ˜äº†ã€‚\n\n**ğŸ’¡ ç»ä½³æ¯”å–»ï¼šä¿é™©ç®±**\n* å¯¹ç§°åŠ å¯†å°±åƒä¸€ä¸ª**ä¿é™©ç®±**ã€‚\n* æˆ‘ç”¨ä¸€æŠŠç‰©ç†é’¥åŒ™é”ä¸Šï¼Œç„¶åæŠŠä¿é™©ç®±**å’Œè¿™æŠŠé’¥åŒ™**ä¸€èµ·å¿«é€’ç»™ä½ ã€‚\n* ä½ ç”¨**åŒä¸€æŠŠé’¥åŒ™**æ‰“å¼€ã€‚\n* **é£é™©ï¼š** å¦‚æœå¿«é€’å‘˜ï¼ˆé»‘å®¢ï¼‰åœ¨åŠè·¯å¤åˆ¶äº†è¿™æŠŠé’¥åŒ™ï¼Œä»–å°±ä¹Ÿèƒ½æ‰“å¼€ä½ çš„ä¿é™©ç®±äº†ã€‚\n\n---\n\n### 2. éå¯¹ç§°åŠ å¯† (Asymmetric Encryption)\n\n\n\n**ğŸ”‘ æ ¸å¿ƒç†è§£ï¼šä½¿ç”¨â€œä¸€å¯¹é’¥åŒ™â€ï¼ˆå…¬é’¥+ç§é’¥ï¼‰**\n\n* **å·¥ä½œåŸç†ï¼š** ç³»ç»Ÿä¼šç”Ÿæˆä¸€å¯¹æ•°å­¦ä¸Šç›¸å…³çš„é’¥åŒ™ã€‚\n    * **å…¬é’¥ (Public Key)ï¼š** å…¬å¼€çš„ï¼Œä»»ä½•äººéƒ½å¯ä»¥æ‹¿åˆ°ã€‚\n    * **ç§é’¥ (Private Key)ï¼š** ç§æœ‰çš„ï¼Œåªæœ‰ä½ è‡ªå·±ï¼ˆæ¯”å¦‚æœåŠ¡å™¨ï¼‰æŒæœ‰ï¼Œç»å¯¹ä¸èƒ½æ³„éœ²ã€‚\n\n**å£è¯€è¯¦è§£ï¼šâ€œå…¬é’¥é”ï¼Œç§é’¥å¼€ï¼›åŠ å¯†æ…¢ï¼Œåˆ†å‘æ˜“ã€‚â€**\n\n* **ç‰¹æ€§ï¼ˆå…¬é’¥é”ï¼Œç§é’¥å¼€ï¼‰ï¼š**\n    * ç”¨**å…¬é’¥**åŠ å¯†çš„æ•°æ®ï¼Œ**åªæœ‰**å¯¹åº”çš„**ç§é’¥**æ‰èƒ½è§£å¼€ã€‚\n    * ç”¨**ç§é’¥**åŠ å¯†çš„æ•°æ®ï¼ˆè¿™å«â€œç­¾åâ€ï¼‰ï¼Œ**åªæœ‰**å¯¹åº”çš„**å…¬é’¥**æ‰èƒ½è§£å¼€ï¼ˆè¿™å«â€œéªŒç­¾â€ï¼‰ã€‚\n\n* **ä¼˜ç‚¹ (åˆ†å‘æ˜“)ï¼š**\n    * å®Œç¾è§£å†³äº†å¯†é’¥åˆ†å‘é—®é¢˜ã€‚\n    * æœåŠ¡å™¨åªéœ€è¦æŠŠ**å…¬é’¥**æ˜­å‘Šå¤©ä¸‹ï¼ˆæ¯”å¦‚ App æ‹¿åˆ°å…¬é’¥ï¼‰ã€‚App ç”¨è¿™ä¸ªå…¬é’¥åŠ å¯†æ•°æ®åå‘ç»™æœåŠ¡å™¨ï¼ŒæœåŠ¡å™¨ç”¨è‡ªå·±çš„**ç§é’¥**è§£å¯†ã€‚\n    * é»‘å®¢å°±ç®—åœ¨åŠè·¯æˆªè·äº†æ•°æ®å’Œ**å…¬é’¥**ï¼Œä½†æ²¡æœ‰**ç§é’¥**ï¼Œä»–ä¹Ÿè§£ä¸å¼€ã€‚\n\n* **ç¼ºç‚¹ (åŠ å¯†æ…¢)ï¼š**\n    * ç®—æ³•éå¸¸å¤æ‚ï¼Œè®¡ç®—é€Ÿåº¦**ææ…¢**ï¼ˆæ¯”å¯¹ç§°åŠ å¯†æ…¢ 100 åˆ° 1000 å€ï¼‰ã€‚\n    * **ä¸é€‚åˆ**ç”¨æ¥åŠ å¯†å¤§é‡æ•°æ®ã€‚\n    * *å¸¸è§ç®—æ³•ï¼šRSAã€ECCã€‚*\n\n**ğŸ’¡ ç»ä½³æ¯”å–»ï¼šå®‰å…¨ä¿¡ç®±**\n* éå¯¹ç§°åŠ å¯†å°±åƒä¸€ä¸ª**å¸¦æŠ•é€’å£çš„å®‰å…¨ä¿¡ç®±**ã€‚\n* **å…¬é’¥** = ä¿¡ç®±çš„â€œæŠ•é€’å£â€ï¼ˆ`Mail Slot`ï¼‰ï¼Œè¿™ä¸ªæŠ•é€’å£åœ°å€æ˜¯å…¬å¼€çš„ï¼Œè°éƒ½å¯ä»¥å¾€é‡Œå¡ä¿¡ã€‚\n* **ç§é’¥** = ä¿¡ç®±çš„â€œå–ä¿¡é’¥åŒ™â€ï¼ˆ`Door Key`ï¼‰ï¼Œåªæœ‰ä¿¡ç®±çš„ä¸»äººï¼ˆæœåŠ¡å™¨ï¼‰æœ‰ã€‚\n* **è¿‡ç¨‹ï¼š** Appï¼ˆå¯„ä¿¡äººï¼‰æŠŠä¿¡ä»¶ä»â€œæŠ•é€’å£â€ï¼ˆå…¬é’¥ï¼‰å¡è¿›å»ï¼Œä¿¡å°±é”åœ¨é‡Œé¢äº†ã€‚åªæœ‰æœåŠ¡å™¨ï¼ˆæ”¶ä¿¡äººï¼‰ç”¨â€œå–ä¿¡é’¥åŒ™â€ï¼ˆç§é’¥ï¼‰æ‰èƒ½æ‰“å¼€ä¿¡ç®±ã€‚\n\n---\n\n### 3. ç°å®ä¸–ç•Œï¼šæ··åˆåŠ å¯† (Hybrid Encryption)\n\né¢è¯•å®˜æœ€æƒ³å¬åˆ°çš„ç­”æ¡ˆã€‚ç°å®ä¸­ï¼Œæˆ‘ä»¬**ä»ä¸å•ç‹¬ä½¿ç”¨**å…¶ä¸­ä¸€ç§ï¼Œè€Œæ˜¯ç»“åˆä¸¤è€…çš„ä¼˜ç‚¹ã€‚\n\n**å£è¯€ï¼šâ€œéå¯¹ç§°â€˜é€é’¥åŒ™â€™ï¼Œå¯¹ç§°â€˜åŠ å¯†æ•°æ®â€™ã€‚â€**\n\nè¿™æ­£æ˜¯ **HTTPS** (SSL/TLS) çš„æ ¸å¿ƒåŸç†ï¼š\n\n1.  **â€œé€é’¥åŒ™â€é˜¶æ®µï¼ˆéå¯¹ç§°ï¼‰ï¼š**\n    * **[App]**ï¼šä½ å¥½æœåŠ¡å™¨ï¼Œæˆ‘è¦å®‰å…¨é€šä¿¡ã€‚\n    * **[æœåŠ¡å™¨]**ï¼šå¥½çš„ï¼Œè¿™æ˜¯æˆ‘çš„**å…¬é’¥**ï¼ˆä¿¡ç®±æŠ•é€’å£ï¼‰ï¼Œä½ æ‹¿å»ç”¨ã€‚\n    * **[App]**ï¼š(è‡ªå·±**éšæœºç”Ÿæˆä¸€æŠŠå¯¹ç§°å¯†é’¥**ï¼Œæ¯”å¦‚å« `key_123`)ã€‚\n    * **[App]**ï¼š(ç”¨æœåŠ¡å™¨çš„**å…¬é’¥**æŠŠ `key_123` åŠ å¯†) -> å‘é€ç»™æœåŠ¡å™¨ã€‚\n    * **[æœåŠ¡å™¨]**ï¼š(æ”¶åˆ°å¯†æ–‡ï¼Œç”¨è‡ªå·±çš„**ç§é’¥**è§£å¯†) -> å¾—åˆ°äº† `key_123`ã€‚\n\n2.  **â€œåŠ å¯†æ•°æ®â€é˜¶æ®µï¼ˆå¯¹ç§°ï¼‰ï¼š**\n    * ç°åœ¨ï¼ŒApp å’ŒæœåŠ¡å™¨**åŒæ–¹éƒ½æ‹¥æœ‰äº†åŒä¸€æŠŠ**å¯¹ç§°å¯†é’¥ `key_123`ï¼ˆè€Œä¸”è¿™ä¸ªä¼ é€’è¿‡ç¨‹æ˜¯å®‰å…¨çš„ï¼‰ã€‚\n    * æ¥ä¸‹æ¥ï¼ŒåŒæ–¹æ‰€æœ‰çš„çœŸå®é€šä¿¡ï¼ˆæ¯”å¦‚ POST çš„è¡¨å•æ•°æ®ã€è¿”å›çš„ JSONï¼‰ï¼Œå…¨éƒ½ä½¿ç”¨ `key_123` è¿›è¡Œ**å¯¹ç§°åŠ å¯†**ã€‚\n    * **ä¸ºä»€ä¹ˆï¼Ÿ** å› ä¸ºå¯¹ç§°åŠ å¯†**å¿«**ï¼\n\n**æ€»ç»“ï¼š** æˆ‘ä»¬ç”¨â€œéå¯¹ç§°åŠ å¯†â€çš„**å®‰å…¨**ç‰¹æ€§ï¼Œæ¥è§£å†³äº†â€œå¯¹ç§°åŠ å¯†â€çš„**å¯†é’¥åˆ†å‘**éš¾é¢˜ï¼›ç„¶åç”¨â€œå¯¹ç§°åŠ å¯†â€çš„**é«˜æ•ˆ**ç‰¹æ€§ï¼Œæ¥ä¼ è¾“çœŸæ­£çš„æµ·é‡æ•°æ®ã€‚\n\n---\n\n### ğŸ’¡ é¢è¯•æ¨¡æ‹Ÿå›ç­”\n\n**é¢è¯•å®˜ï¼š** â€œè®²ä¸€ä¸‹å¯¹ç§°åŠ å¯†å’Œéå¯¹ç§°åŠ å¯†ã€‚â€\n\n**ä½ ï¼š** â€œå¥½çš„ã€‚å®ƒä»¬æœ€æ ¸å¿ƒçš„åŒºåˆ«åœ¨äºä½¿ç”¨**ä¸€æŠŠé’¥åŒ™**è¿˜æ˜¯**ä¸€å¯¹é’¥åŒ™**ã€‚â€\n\n> 1.  â€œ**å¯¹ç§°åŠ å¯†**ï¼Œæˆ‘è®°çš„å£è¯€æ˜¯â€˜**ä¸€æŠŠé’¥åŒ™ï¼Œä¸¤å¤´ç”¨**â€™ã€‚å®ƒåŠ è§£å¯†éƒ½ç”¨åŒä¸€æŠŠå¯†é’¥ï¼Œæ¯”å¦‚ AESã€‚å®ƒæœ€å¤§çš„ä¼˜ç‚¹æ˜¯**åŠ å¯†å¿«**ï¼Œé€‚åˆåŠ å¯†å¤§æ•°æ®ï¼›ä½†ç¼ºç‚¹æ˜¯è¿™æŠŠé’¥åŒ™**åˆ†å‘å›°éš¾**ï¼Œæ€•ä¸­é€”æ³„éœ²ã€‚â€\n>\n> 2.  â€œ**éå¯¹ç§°åŠ å¯†**ï¼Œæˆ‘è®°çš„å£è¯€æ˜¯â€˜**ä¸€å¥—é’¥åŒ™ï¼Œé…å¯¹ç”¨**â€™ï¼Œæ¯”å¦‚ RSAã€‚å®ƒæœ‰å…¬é’¥å’Œç§é’¥ã€‚æœ€å¸¸è§çš„ç”¨æ³•æ˜¯â€˜**å…¬é’¥é”ï¼Œç§é’¥å¼€**â€™ï¼Œå…¬é’¥æ˜¯å…¬å¼€çš„ï¼Œè§£å†³äº†å¯†é’¥åˆ†å‘é—®é¢˜ï¼›ä½†å®ƒæœ€å¤§çš„ç¼ºç‚¹æ˜¯**åŠ å¯†æ…¢**ã€‚â€\n>\n> 3.  â€œï¼ˆ**ç‚¹ç›ä¹‹ç¬”**ï¼‰æ‰€ä»¥åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæ¯”å¦‚ **HTTPS**ï¼Œæˆ‘ä»¬éƒ½æ˜¯**æ··åˆä½¿ç”¨**çš„ã€‚æˆ‘è®°çš„å£è¯€æ˜¯â€˜**éå¯¹ç§°é€é’¥åŒ™ï¼Œå¯¹ç§°åŠ å¯†æ•°æ®**â€™ã€‚â€\n>\n> 4.  â€œå…·ä½“æ¥è¯´ï¼Œå°±æ˜¯å…ˆç”¨**éå¯¹ç§°åŠ å¯†**ï¼ˆæ¯”å¦‚ RSAï¼‰å®‰å…¨åœ°åå•†å’Œä¼ é€’ä¸€ä¸ª**ä¸´æ—¶çš„å¯¹ç§°å¯†é’¥**ï¼›ä¸€æ—¦åŒæ–¹éƒ½æ‹¿åˆ°äº†è¿™ä¸ªå¯¹ç§°å¯†é’¥ï¼Œåç»­æ‰€æœ‰çš„çœŸå®æ•°æ®ï¼ˆæ¯”å¦‚ HTTP Bodyï¼‰å°±å…¨éƒ¨ç”¨è¿™ä¸ª**å¯¹ç§°å¯†é’¥**ï¼ˆæ¯”å¦‚ AESï¼‰æ¥åŠ å¯†äº†ã€‚è¿™æ ·å°±å…¼é¡¾äº†å®‰å…¨å’Œæ•ˆç‡ã€‚â€"
    },
    {
      "question": "ä½ åœ¨å®é™…çš„å¼€å‘ä¸­æ˜¯æ€ä¹ˆä½¿ç”¨ æ‰©å±•å‡½æ•°çš„ ï¼Ÿ",
      "answer": "â€œä¸æ”¹æºç ï¼Œå¤–æŒ‚æ–¹æ³•ï¼›â€ â€œå°è£…æ¨¡æ¿ï¼Œä»£ç æˆè¯—ã€‚â€",
      "detail": "\n\nå•Šï¼Œæ‰©å±•å‡½æ•°ï¼ˆExtension Functionsï¼‰ï¼è¿™ç»å¯¹æ˜¯ Kotlin è¯­è¨€ä¸­æœ€å®ç”¨çš„ç‰¹æ€§ä¹‹ä¸€ï¼Œ**æ˜¯æˆ‘åœ¨æ—¥å¸¸å¼€å‘ä¸­æ¶ˆé™¤â€œæ¨¡æ¿ä»£ç â€çš„ç¬¬ä¸€ç¥å™¨**ã€‚\n\né¢è¯•å®˜é—®è¿™ä¸ªï¼Œå°±æ˜¯æƒ³çœ‹ä½ æœ‰æ²¡æœ‰â€œå·æ‡’â€çš„æ„è¯†ï¼Œèƒ½ä¸èƒ½æŠŠé‡å¤çš„ä»£ç å°è£…æˆå¯è¯»æ€§æé«˜ã€å¯é“¾å¼è°ƒç”¨çš„â€œè¯­æ³•ç³–â€ã€‚\n\næˆ‘çš„æ ¸å¿ƒä½¿ç”¨å£è¯€æ˜¯ï¼š\n\n> **â€œä¸æ”¹æºç ï¼Œå¤–æŒ‚æ–¹æ³•ï¼›â€**\n> **â€œå°è£…æ¨¡æ¿ï¼Œä»£ç æˆè¯—ã€‚â€**\n\nâ€œä¸æ”¹æºç ï¼Œå¤–æŒ‚æ–¹æ³•â€æ˜¯å®ƒçš„åŸç†ï¼š**å®ƒå…è®¸æˆ‘ä»¬ä¸ºâ€œåˆ«äººçš„ç±»â€æ·»åŠ æ–°åŠŸèƒ½**ï¼Œå“ªæ€•è¿™ä¸ªç±»æ˜¯ `final` çš„ï¼Œæˆ–è€…æ˜¯æ¥è‡ªç¬¬ä¸‰æ–¹åº“çš„ï¼ˆæ¯”å¦‚ `View`ã€`String`ã€`Context`ï¼‰ã€‚\n\nä¸‹é¢æ˜¯æˆ‘åœ¨å®é™…é¡¹ç›®ä¸­**æœ€å¸¸ç”¨**çš„ 4 ä¸ªåœºæ™¯ï¼Œå®ƒä»¬å‡ ä¹è´¯ç©¿äº†æˆ‘çš„æ‰€æœ‰ä¸šåŠ¡é€»è¾‘ï¼š\n\n-----\n\n### åœºæ™¯ä¸€ï¼š(æœ€å¸¸ç”¨) å°è£… UI æ§ä»¶çš„æ¨¡æ¿ä»£ç \n\nè¿™æ˜¯æœ€ç›´è§‚çš„ç”¨æ³•ã€‚Android å¼€å‘ä¸­æœ‰å¤§é‡â€œè®¾ç½®å¯è§æ€§â€ã€â€œåŠ è½½å›¾ç‰‡â€ç­‰é‡å¤æ“ä½œã€‚\n\n**âŒ ä»¥å‰çš„å†™æ³•ï¼š**\n\n```kotlin\n// 1. è®¾ç½®å¯è§æ€§ï¼Œåˆè‡­åˆé•¿\nmyView.visibility = View.VISIBLE\nmyOtherView.visibility = View.GONE\nerrorTextView.visibility = if (showError) View.VISIBLE else View.GONE\n```\n\n**âœ… ç”¨æ‰©å±•å‡½æ•°â€œå¤–æŒ‚â€æ–¹æ³•ï¼š**\n\n**ç¬¬1æ­¥ï¼šåœ¨ `ViewExtensions.kt` æ–‡ä»¶ä¸­å®šä¹‰**\n\n```kotlin\n// ä¸º View ç±»â€œå¤–æŒ‚â€ä¸€ä¸ª .visible() æ–¹æ³•\nfun View.visible() {\n    this.visibility = View.VISIBLE\n}\n\n// ä¸º View ç±»â€œå¤–æŒ‚â€ä¸€ä¸ª .gone() æ–¹æ³•\nfun View.gone() {\n    this.visibility = View.GONE\n}\n\n// ä¸º View ç±»â€œå¤–æŒ‚â€ä¸€ä¸ªæ ¹æ®æ¡ä»¶è®¾ç½®çš„æ–¹æ³•\nfun View.setVisible(isTrue: Boolean) {\n    this.visibility = if (isTrue) View.VISIBLE else View.GONE\n}\n```\n\n**ç¬¬2æ­¥ï¼šåœ¨ Activity/Fragment ä¸­â€œäº«å—â€å®ƒ**\n\n```kotlin\n// ä»£ç æ˜¯ä¸æ˜¯â€œæˆè¯—â€äº†ï¼Ÿ\nmyView.visible()\nmyOtherView.gone()\nerrorTextView.setVisible(showError)\n```\n\n-----\n\n### åœºæ™¯äºŒï¼šæŠ½è±¡ç¬¬ä¸‰æ–¹åº“ï¼ˆå¦‚ Glide / Coilï¼‰\n\næˆ‘ä¸å¸Œæœ›æˆ‘çš„ä¸šåŠ¡ä»£ç ï¼ˆActivity/Fragmentï¼‰**ç›´æ¥ä¾èµ–**æŸä¸ªç‰¹å®šçš„å›¾ç‰‡åŠ è½½åº“ï¼Œä¸‡ä¸€ä»¥åè¦æ¢å‘¢ï¼Ÿ\n\n**âŒ ä»¥å‰çš„å†™æ³•ï¼š**\n\n```kotlin\n// ä¸šåŠ¡ä»£ç å’Œ Glide å¼ºè€¦åˆ\nGlide.with(this)\n    .load(url)\n    .placeholder(R.drawable.ic_placeholder)\n    .error(R.drawable.ic_error)\n    .into(myImageView)\n```\n\n**âœ… ç”¨æ‰©å±•å‡½æ•°â€œéš”ç¦»â€å®ƒï¼š**\n\n**ç¬¬1æ­¥ï¼šåœ¨ `ImageViewExtensions.kt` æ–‡ä»¶ä¸­å®šä¹‰**\n\n```kotlin\n// ä¸º ImageView â€œå¤–æŒ‚â€ä¸€ä¸ªç»Ÿä¸€çš„ .loadImage() æ–¹æ³•\nfun ImageView.loadImage(\n    url: String?, \n    placeholder: Int = R.drawable.ic_placeholder,\n    error: Int = R.drawable.ic_error\n) {\n    // æ‰€æœ‰çš„ Glide é€»è¾‘éƒ½è¢«å°è£…åœ¨è¿™é‡Œ\n    Glide.with(this.context) // 'this' å°±æ˜¯ ImageView å®ä¾‹\n        .load(url)\n        .placeholder(placeholder)\n        .error(error)\n        .into(this)\n}\n```\n\n**ç¬¬2æ­¥ï¼šåœ¨å¼€å‘ä¸­â€œäº«å—â€å®ƒ**\n\n```kotlin\n// éå¸¸å¹²å‡€ï¼Œå®Œå…¨ä¸çŸ¥é“åº•å±‚æ˜¯ Glide è¿˜æ˜¯ Coil\nmyImageView.loadImage(user.avatarUrl)\nproductImageView.loadImage(product.imageUrl, error = R.drawable.ic_product_error)\n```\n\n-----\n\n### åœºæ™¯ä¸‰ï¼šå•ä½è½¬æ¢ (dp/sp) å’Œæ ¼å¼åŒ–\n\nè¿™ä¹Ÿæ˜¯ä¸€ä¸ªæåº¦é‡å¤çš„æ¨¡æ¿ä»£ç ã€‚\n\n**âŒ ä»¥å‰çš„å†™æ³•ï¼š**\n\n```kotlin\n// åœ¨ Activity é‡Œå†™è¿™ä¸ªå¾ˆå•°å—¦\nval paddingPx = TypedValue.applyDimension(\n    TypedValue.COMPLEX_UNIT_DIP,\n    16f,\n    resources.displayMetrics\n).toInt()\n```\n\n**âœ… ç”¨æ‰©å±•å‡½æ•°â€œç®€åŒ–â€å®ƒï¼š**\n\n**ç¬¬1æ­¥ï¼šåœ¨ `ContextExtensions.kt` æˆ– `NumericExtensions.kt` ä¸­å®šä¹‰**\n\n```kotlin\n// ä¸º Int ç±»å‹â€œå¤–æŒ‚â€ .dpToPx()\nfun Int.dpToPx(context: Context): Int {\n    val scale = context.resources.displayMetrics.density\n    return (this * scale + 0.5f).toInt()\n}\n\n// ä¸º Float ç±»å‹â€œå¤–æŒ‚â€ .dpToPx()\nfun Float.dpToPx(context: Context): Int {\n    val scale = context.resources.displayMetrics.density\n    return (this * scale + 0.5f).toInt()\n}\n```\n\n**ç¬¬2æ­¥ï¼šåœ¨å¼€å‘ä¸­â€œäº«å—â€å®ƒ**\n\n```kotlin\nval padding = 16.dpToPx(context)\nmyView.setPadding(padding, padding, padding, padding)\n```\n\n-----\n\n### åœºæ™¯å››ï¼š(é«˜çº§ç”¨æ³•) æ•°æ®æ¨¡å‹è½¬æ¢ (DTO -\\> Domain)\n\nåœ¨å¤šå±‚æ¶æ„ï¼ˆå¦‚ MVVMï¼‰ä¸­ï¼Œä½ éœ€è¦ä¸æ–­åœ°è½¬æ¢æ•°æ®æ¨¡å‹ï¼ˆæ¯”å¦‚æ•°æ®åº“ `Dbo` -\\> ä¸šåŠ¡ `Domain` -\\> ç•Œé¢ `UiModel`ï¼‰ã€‚\n\n**âŒ ä»¥å‰çš„å†™æ³•ï¼ˆç”¨å·¥å…·ç±»ï¼‰ï¼š**\n\n```kotlin\n// 1. å®šä¹‰ä¸€ä¸ªå·¥å…·ç±»\nobject UserMapper {\n    fun mapDboToDomain(dbo: UserDbo): UserDomain {\n        return UserDomain(\n            id = dbo.userId,\n            name = dbo.userName,\n            // ...\n        )\n    }\n}\n// 2. ä½¿ç”¨\nval userDomain = UserMapper.mapDboToDomain(userDbo)\n```\n\n**âœ… ç”¨æ‰©å±•å‡½æ•°â€œå®ç°â€å®ƒï¼š**\n`toXXX()` æ˜¯æ‰©å±•å‡½æ•°æœ€é…·çš„ç”¨æ³•ä¹‹ä¸€ã€‚\n\n**ç¬¬1æ­¥ï¼šåœ¨ `MapperExtensions.kt` æ–‡ä»¶ä¸­å®šä¹‰**\n\n```kotlin\n// ä¸ºâ€œæ•°æ®åº“æ¨¡å‹ UserDboâ€ç±»ï¼Œå¤–æŒ‚ä¸€ä¸ª .toUserDomain() æ–¹æ³•\nfun UserDbo.toUserDomain(): UserDomain {\n    // 'this' å°±æ˜¯ UserDbo å®ä¾‹\n    return UserDomain(\n        id = this.userId,\n        name = this.userName,\n        // ...\n    )\n}\n\n// ä¹Ÿå¯ä»¥å®šä¹‰åå‘çš„\nfun UserDomain.toUiModel(): UserUiModel {\n    return UserUiModel(\n        displayName = this.name.toUpperCase(),\n        // ...\n    )\n}\n```\n\n**ç¬¬2Bæ­¥ï¼šåœ¨å¼€å‘ä¸­â€œäº«å—â€å®ƒï¼ˆå¯è¯»æ€§æå¼ºï¼‰**\n\n```kotlin\n// åœ¨ Repository ä¸­\nval userDbo = database.getUser(1)\nval userDomain = userDbo.toUserDomain() // è¯»èµ·æ¥åƒâ€œuserDbo è½¬æ¢æˆ UserDomainâ€\n\n// åœ¨ ViewModel ä¸­\nval userUiModel = userDomain.toUiModel()\n```\n\n-----\n\n### æ€»ç»“ï¼šæˆ‘çš„ä½¿ç”¨åŸåˆ™\n\n1.  **é«˜åº¦ç»„ç»‡åŒ–ï¼š** æˆ‘ä¸ä¼šæŠŠæ‰©å±•å‡½æ•°éšä¾¿ä¹±æ”¾ã€‚æˆ‘ä¼šåˆ›å»ºä¸“é—¨çš„æ–‡ä»¶ï¼Œå¦‚ `ViewExtensions.kt`, `ContextExtensions.kt`, `DataExtensions.kt`ã€‚\n2.  **å°è€Œç¾ï¼š** æ‰©å±•å‡½æ•°åº”è¯¥åªåšä¸€ä»¶äº‹ï¼Œå¹¶æŠŠå®ƒåšå¥½ï¼ˆå¦‚ `visible()`ï¼‰ã€‚\n3.  **æ³¨æ„ï¼š** æˆ‘å¾ˆæ¸…æ¥šæ‰©å±•å‡½æ•°æ˜¯**é™æ€è§£æ**çš„ï¼Œå®ƒæ²¡æœ‰å¤šæ€æ€§ã€‚è¿™æ„å‘³ç€å®ƒ**ä¸èƒ½**çœŸæ­£â€œé‡å†™â€(Override) ç±»çš„ç°æœ‰æ–¹æ³•ã€‚\n\næ€»è€Œè¨€ä¹‹ï¼Œæ‰©å±•å‡½æ•°æ˜¯æˆ‘**æé«˜å¼€å‘æ•ˆç‡ã€å¢å¼ºä»£ç å¯è¯»æ€§ã€å°è£…é‡å¤é€»è¾‘**çš„ç¬¬ä¸€åˆ©å™¨ã€‚"
    },
    {
      "question": "google æ¨å‡ºå®˜æ–¹æ¶æ„ ï¼Œ ä½ åœ¨ç°å®å¼€å‘ä¸­æ˜¯æ€ä¹ˆç”¨çš„ï¼Ÿ",
      "answer": "Hilt è´Ÿè´£â€œç»„è£…â€æ‰€æœ‰é›¶ä»¶ã€‚\n\nActivity é€šçŸ¥ ViewModelï¼šâ€œæˆ‘è¦æ•°æ®ï¼â€\n\nViewModel ä½¿ç”¨ viewModelScope.launch å¯åŠ¨åç¨‹ï¼Œå¹¶æ›´æ–° StateFlowï¼ˆUIæ˜¾ç¤ºåŠ è½½ä¸­ï¼‰ã€‚\n\nViewModel è°ƒç”¨ Repository çš„ suspend å‡½æ•°ã€‚\n\nRepository ä½¿ç”¨ withContext(Dispatchers.IO) åˆ‡æ¢çº¿ç¨‹ï¼Œè°ƒç”¨ Retrofit è¯·æ±‚ç½‘ç»œï¼Œç„¶åæŠŠæ•°æ®å­˜å…¥ Roomã€‚\n\nRoom çš„ Flow è‡ªåŠ¨æ£€æµ‹åˆ°æ•°æ®å˜åŒ–ï¼Œé€šçŸ¥ ViewModelã€‚\n\nViewModel æ”¶åˆ° Flow çš„æ–°æ•°æ®ï¼Œæ›´æ–° StateFlowã€‚\n\nActivity çš„ collect è§‚å¯Ÿåˆ° StateFlow å˜åŒ–ï¼Œå°†æœ€ç»ˆæ•°æ®æ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚",
      "detail": "ä½ é—®çš„è¿™ä¸ªé—®é¢˜ï¼Œæ˜¯ç°åœ¨ Android ä¸­é«˜çº§é¢è¯•çš„**å¿…è€ƒé¢˜**ï¼Œä¹Ÿæ˜¯åŒºåˆ†â€œä¼šå†™ä»£ç â€å’Œâ€œä¼šæ­æ¶æ„â€çš„åˆ†æ°´å²­ã€‚\n\nGoogle æ¨èçš„â€œå®˜æ–¹æ¶æ„â€å¹¶ä¸æ˜¯ä¸€ä¸ªå…¨æ–°çš„å‘æ˜ï¼Œå®ƒæœ¬è´¨ä¸Šæ˜¯\\*\\*â€œMVVM + æ´å‡€æ¶æ„ (Clean Architecture) + å“åº”å¼ç¼–ç¨‹â€\\*\\*çš„æœ€ä½³å®è·µç»„åˆã€‚\n\nåœ¨ç°å®å¼€å‘ä¸­ï¼Œæˆ‘**ä¸¥æ ¼éµå¾ª**è¿™å¥—æ¶æ„æ¥æ­å»ºæˆ‘çš„ Appã€‚å®ƒå¸®æˆ‘è§£å†³äº† Android å¼€å‘ä¸­æœ€å¤§çš„ç—›ç‚¹ï¼š**ç”Ÿå‘½å‘¨æœŸæ··ä¹±ã€ä»£ç è€¦åˆã€UIä¸é€»è¾‘æ··æ‚ã€éš¾ä»¥æµ‹è¯•**ã€‚\n\næˆ‘çš„â€œä½¿ç”¨å£è¯€â€æ˜¯ï¼š\n\n> **â€œä¸‰å±‚åˆ†ç¦»ï¼Œæ•°æ®å•å‘ï¼›â€**\n> **â€œUI é©±åŠ¨ï¼Œä¾èµ–å€’ç½®ï¼›â€**\n> **â€œåç¨‹ç®¡ç†ï¼ŒHilt æ³¨å…¥ã€‚â€**\n\nä¸‹é¢ï¼Œæˆ‘å°±ä»¥ä¸€ä¸ªâ€œåŠ è½½ç”¨æˆ·ä¿¡æ¯â€çš„**çœŸå®åœºæ™¯**ï¼Œæ¥è¯¦ç»†æ‹†è§£æˆ‘æ˜¯**å¦‚ä½•ä¸€æ­¥æ­¥ä½¿ç”¨**è¿™å¥—å®˜æ–¹æ¶æ„çš„ã€‚\n\n-----\n\n[Image of Google's official App Architecture diagram: UI Layer -\\> Domain Layer -\\> Data Layer]\n\n### 1\\. æ¶æ„åˆ†å±‚ï¼šæˆ‘çš„é¡¹ç›®ç»“æ„\n\næˆ‘é¦–å…ˆä¼šæŠŠé¡¹ç›®ä¸¥æ ¼åˆ†ä¸ºä¸‰å±‚ã€‚è¿™æ˜¯æ¶æ„çš„â€œåœ°åŸºâ€ï¼š\n\n  * **UI Layer (ç•Œé¢å±‚):** ç”¨æˆ·èƒ½çœ‹åˆ°å’Œäº¤äº’çš„ä¸€åˆ‡ã€‚\n  * **Domain Layer (é¢†åŸŸå±‚):** (å¯é€‰ï¼Œä½†æ¨è) å°è£…æ ¸å¿ƒä¸šåŠ¡è§„åˆ™ã€‚\n  * **Data Layer (æ•°æ®å±‚):** è´Ÿè´£æ‰€æœ‰çš„æ•°æ®æ¥æºå’Œæ“ä½œã€‚\n\n-----\n\n### 2\\. UI Layer (ç•Œé¢å±‚)ï¼šâ€œå“‘å·´â€View å’Œâ€œå¤§è„‘â€ViewModel\n\nè¿™ä¸€å±‚æ˜¯ç”¨æˆ·ç›´æ¥æ„ŸçŸ¥çš„ï¼Œæˆ‘çš„åŸåˆ™æ˜¯ï¼š**View è´Ÿè´£â€œçœ‹â€å’Œâ€œè¯´â€ï¼ŒViewModel è´Ÿè´£â€œæƒ³â€**ã€‚\n\n  * **View (Activity / Fragment / Composable):** ä¿æŒå®ƒâ€œå“‘å·´â€ã€‚\n\n      * **åªåšä¸¤ä»¶äº‹ï¼š** 1. **è§‚å¯Ÿ(Observe)** ViewModel æš´éœ²çš„â€œçŠ¶æ€â€ã€‚ 2. **é€šçŸ¥(Notify)** ViewModel å‘ç”Ÿäº†â€œäº‹ä»¶â€ã€‚\n      * **æˆ‘ä¸åšä»€ä¹ˆï¼š** ç»å¯¹ä¸ä¼šåœ¨ Activity/Fragment é‡Œç›´æ¥è°ƒç”¨ç½‘ç»œæˆ–æ•°æ®åº“ã€‚\n\n  * **ViewModel:** UI çš„â€œå¤§è„‘â€ã€‚\n\n      * **æˆ‘ç”¨ `viewModelScope`ï¼š** æ‰€æœ‰åœ¨ ViewModel ä¸­çš„å¼‚æ­¥æ“ä½œï¼Œæˆ‘**å…¨éƒ¨**ä½¿ç”¨ `viewModelScope.launch { ... }` æ¥å¯åŠ¨ã€‚è¿™ä¿è¯äº†å½“ ViewModel é”€æ¯æ—¶ï¼ˆæ¯”å¦‚ç”¨æˆ·é€€å‡ºé¡µé¢ï¼‰ï¼Œæ‰€æœ‰åç¨‹ï¼ˆå¦‚ç½‘ç»œè¯·æ±‚ï¼‰ä¼š**è‡ªåŠ¨å–æ¶ˆ**ï¼Œå®Œç¾è§£å†³å†…å­˜æ³„æ¼ã€‚\n      * **æˆ‘ç”¨ `StateFlow` æš´éœ²â€œçŠ¶æ€â€ (UDF)ï¼š** è¿™æ˜¯ç°ä»£ Android çš„æ ¸å¿ƒï¼æˆ‘ä¸å†ä½¿ç”¨ `LiveData`ï¼ˆé™¤éæ˜¯è€é¡¹ç›®ï¼‰ï¼Œè€Œæ˜¯ä½¿ç”¨ `StateFlow` æ¥å®ç°**å•å‘æ•°æ®æµ (Unidirectional Data Flow)**ã€‚\n\n**æˆ‘æ˜¯è¿™ä¹ˆå†™çš„ (ä»¥ `StateFlow` ä¸ºä¾‹)ï¼š**\n\n```kotlin\n// 1. å®šä¹‰ä¸€ä¸ªâ€œUI çŠ¶æ€â€æ•°æ®ç±»\ndata class UserUiState(\n    val isLoading: Boolean = false,\n    val user: User? = null,\n    val error: String? = null\n)\n\n// 2. åœ¨ ViewModel ä¸­\nclass UserViewModel(private val repository: UserRepository) : ViewModel() {\n    \n    // _uiState æ˜¯ç§æœ‰çš„ã€å¯å˜çš„\n    private val _uiState = MutableStateFlow(UserUiState())\n    // uiState æ˜¯å…¬å¼€çš„ã€åªè¯»çš„\n    val uiState: StateFlow<UserUiState> = _uiState.asStateFlow()\n\n    fun fetchUser(id: String) {\n        viewModelScope.launch {\n            // 2.1 çŠ¶æ€ï¼šå¼€å§‹åŠ è½½\n            _uiState.update { it.copy(isLoading = true) }\n            \n            try {\n                // 2.2 å§”æ‰˜ï¼šå»æ•°æ®å±‚æ‹¿æ•°æ®\n                val user = repository.getUser(id)\n                // 2.3 çŠ¶æ€ï¼šåŠ è½½æˆåŠŸ\n                _uiState.update { it.copy(isLoading = false, user = user) }\n            } catch (e: Exception) {\n                // 2.4 çŠ¶æ€ï¼šåŠ è½½å¤±è´¥\n                _uiState.update { it.copy(isLoading = false, error = \"åŠ è½½å¤±è´¥\") }\n            }\n        }\n    }\n}\n\n// 3. åœ¨ Activity/Fragment ä¸­ (ç”¨ lifecycleScope)\n// View åªè´Ÿè´£â€œè®¢é˜…â€çŠ¶æ€ï¼Œç„¶åæ›´æ–° UI\nlifecycleScope.launch {\n    // repeatOnLifecycle ä¿è¯äº†åªæœ‰åœ¨é¡µé¢å¯è§æ—¶æ‰æ”¶é›†\n    repeatOnLifecycle(Lifecycle.State.STARTED) {\n        viewModel.uiState.collect { state ->\n            // state å°±æ˜¯æœ€æ–°çš„ UserUiState\n            progressBar.setVisible(state.isLoading)\n            nameTextView.text = state.user?.name\n            errorTextView.text = state.error\n        }\n    }\n}\n\n// View åªè´Ÿè´£â€œé€šçŸ¥â€äº‹ä»¶\nretryButton.setOnClickListener {\n    viewModel.fetchUser(\"123\") // ä¸å…³å¿ƒæ€ä¹ˆåšï¼Œåªé€šçŸ¥\n}\n```\n\n-----\n\n### 3\\. Data Layer (æ•°æ®å±‚)ï¼šâ€œå•ä¸€æ•°æ®æºâ€å’Œâ€œä»“åº“â€\n\nè¿™ä¸€å±‚æ˜¯æ‰€æœ‰æ•°æ®çš„â€œåå‹¤éƒ¨â€ã€‚æˆ‘çš„åŸåˆ™æ˜¯ï¼š**ViewModel ä¸å…³å¿ƒæ•°æ®ä»å“ªæ¥ï¼Œå®ƒåªé—® Repository è¦ã€‚**\n\n  * **Repository (ä»“åº“)ï¼š** è¿™æ˜¯ ViewModel **å”¯ä¸€**çš„äº¤äº’å¯¹è±¡ã€‚\n\n      * **èŒè´£ï¼š** å°è£…æ‰€æœ‰æ•°æ®é€»è¾‘ã€‚æ¯”å¦‚ï¼Œæ˜¯å…ˆä»æœ¬åœ°ï¼ˆRoomï¼‰æ‹¿ï¼Ÿè¿˜æ˜¯å…ˆä»ç½‘ç»œï¼ˆRetrofitï¼‰æ‹¿ï¼ŸViewModel **ä¸€æ¦‚ä¸çŸ¥**ã€‚\n      * **æˆ‘ç”¨ `suspend` å‡½æ•°ï¼š** Repository çš„æ‰€æœ‰æ¥å£ï¼ˆå¦‚ `getUser`ï¼‰æˆ‘éƒ½ä¼šæ ‡è®°ä¸º `suspend`ï¼Œå¹¶ç”¨ `withContext(Dispatchers.IO)` æŠŠå·¥ä½œ**åˆ‡åˆ° IO çº¿ç¨‹**ï¼Œä¿è¯ ViewModelï¼ˆä¸»çº¿ç¨‹ï¼‰ä¸è¢«é˜»å¡ã€‚\n\n  * **DataSources (æ•°æ®æº)ï¼š**\n\n      * `RemoteDataSource`ï¼šä½¿ç”¨ **Retrofit** å’Œ `suspend` å‡½æ•°æ¥å®šä¹‰ API æ¥å£ã€‚\n      * `LocalDataSource`ï¼šä½¿ç”¨ **Room** æ•°æ®åº“ã€‚\n\n**æˆ‘ç”¨â€œå•ä¸€æ•°æ®æº (Single Source of Truth, SSOT)â€åŸåˆ™æ¥å¼€å‘ï¼š**\n\n1.  **æ•°æ®çš„â€œçœŸç›¸â€æ°¸è¿œåœ¨æ•°æ®åº“ (Room) ä¸­ã€‚**\n2.  UI (ViewModel) **åª**ä» Room è®¢é˜…æ•°æ®ï¼ˆæˆ‘ç”¨ `Room` + `Flow`ï¼Œæ•°æ®å˜åŒ–UIè‡ªåŠ¨æ›´æ–°ï¼‰ã€‚\n3.  ç½‘ç»œè¯·æ±‚ (Retrofit) çš„**å”¯ä¸€**ç›®çš„ï¼Œæ˜¯æ‹‰å–æ–°æ•°æ®ï¼Œç„¶å**æ›´æ–°åˆ° Room æ•°æ®åº“**ä¸­ã€‚\n\n**æˆ‘æ˜¯è¿™ä¹ˆå†™çš„ï¼š**\n\n```kotlin\n// 1. åœ¨ Repository ä¸­\nclass UserRepository(\n    private val api: MyApiService, // Retrofit\n    private val dao: UserDao       // Room\n) {\n    // 2. UI åªè®¢é˜… Room (Flow æ˜¯å“åº”å¼çš„)\n    val userStream: Flow<User> = dao.observeUser(\"123\")\n\n    // 3. ç½‘ç»œè¯·æ±‚åªè´Ÿè´£â€œæ›´æ–°â€æ•°æ®åº“\n    // suspend ä¿è¯äº†å®ƒåœ¨åç¨‹ä¸­è¢«è°ƒç”¨\n    suspend fun refreshUser(id: String) {\n        // withContext åˆ‡æ¢åˆ° IO çº¿ç¨‹\n        withContext(Dispatchers.IO) {\n            try {\n                val networkUser = api.fetchUser(id) // 1. Retrofit æ‹‰å–\n                dao.insertUser(networkUser.toDatabaseModel()) // 2. Room å­˜å…¥\n            } catch (e: Exception) {\n                // ... å¤„ç†å¼‚å¸¸\n            }\n        }\n    }\n}\n```\n\n-----\n\n### 4\\. Domain Layer (é¢†åŸŸå±‚)ï¼šâ€œä¸šåŠ¡é€»è¾‘â€çš„å¤ç”¨ (å¯é€‰)\n\nå½“æˆ‘çš„ `ViewModel` é€»è¾‘å˜å¾—å¾ˆå¤æ‚æ—¶ï¼ˆæ¯”å¦‚ï¼Œâ€œåŠ è½½ç”¨æˆ·ä¿¡æ¯â€åï¼Œè¿˜éœ€è¦â€œæ ¼å¼åŒ–åå­—â€ã€â€œåˆ¤æ–­ç­‰çº§â€ã€â€œç»„åˆæ•°æ®â€ï¼‰ï¼Œæˆ‘å°±å¼•å…¥ `Domain Layer`ã€‚\n\n  * **UseCase (ç”¨ä¾‹)ï¼š** æˆ‘ä¼šæŠŠè¿™ï¿½ï¿½å¤æ‚çš„ä¸šåŠ¡é€»è¾‘å°è£…æˆä¸€ä¸ª `UseCase` ç±»ï¼ˆå®ƒå°±æ˜¯ä¸€ä¸ªåªåšä¸€ä»¶äº‹çš„ `suspend` å‡½æ•°ç±»ï¼‰ã€‚\n  * **å¥½å¤„ï¼š**\n    1.  `ViewModel` å˜å¾—å¾ˆå¹²å‡€ï¼ˆåªç®¡è°ƒç”¨ `UseCase`ï¼‰ã€‚\n    2.  è¿™ä¸ªä¸šåŠ¡é€»è¾‘å¯ä»¥åœ¨ App çš„**ä¸åŒåœ°æ–¹è¢«å¤ç”¨**ï¼ˆæ¯”å¦‚ `FormatUserNameUseCase`ï¼‰ã€‚\n\n-----\n\n### 5\\. ç²˜åˆå‰‚ï¼šHilt (ä¾èµ–æ³¨å…¥)\n\næœ€åï¼Œæˆ‘å¦‚ä½•æŠŠ `Repository`ã€â€œ`Api`â€ã€â€œ`Dao`â€ è¿™ä¹ˆå¤šé›¶ä»¶â€œç»„è£…â€åˆ° `ViewModel` é‡Œçš„ï¼Ÿ\n\n**æˆ‘ç”¨ Hilt (Google å®˜æ–¹çš„ä¾èµ–æ³¨å…¥æ¡†æ¶)ã€‚**\n\næˆ‘**ä¸å†**æ‰‹åŠ¨ `new` å¯¹è±¡ï¼Œæˆ‘è®© Hilt **è‡ªåŠ¨â€œæ³¨å…¥â€**ã€‚\n\n```kotlin\n// 1. å‘Šè¯‰ Hilt å¦‚ä½•åˆ›å»º Repository\n// æˆ‘åœ¨ Repository çš„æ„é€ å‡½æ•°ä¸ŠåŠ  @Inject\nclass UserRepository @Inject constructor(\n    private val api: MyApiService,\n    private val dao: UserDao\n) {\n    // ...\n}\n\n// 2. åœ¨ ViewModel ä¸­â€œç´¢è¦â€å®ƒ\n// æˆ‘åœ¨ ViewModel çš„æ„é€ å‡½æ•°ä¸ŠåŠ  @HiltViewModel å’Œ @Inject\n@HiltViewModel\nclass UserViewModel @Inject constructor(\n    private val repository: UserRepository // Hilt ä¼šè‡ªåŠ¨å¸®æˆ‘ new ä¸€ä¸ª UserRepository å®ä¾‹\n) : ViewModel() {\n    // ...\n}\n```\n\n**å¥½å¤„ï¼š** `ViewModel` å’Œ `Repository` ä¹‹é—´**å®Œå…¨è§£è€¦**ã€‚åœ¨åšå•å…ƒæµ‹è¯•æ—¶ï¼Œæˆ‘å¯ä»¥**è½»æ¾åœ°æ³¨å…¥ä¸€ä¸ªâ€œå‡çš„â€ (Mock) `Repository`**ï¼Œæˆ‘çš„ App å˜å¾—ææ˜“æµ‹è¯•ã€‚\n\n-----\n\n### æ€»ç»“\n\nåœ¨ç°å®å¼€å‘ä¸­ï¼Œæˆ‘å°±æ˜¯è¿™æ ·ä½¿ç”¨è¿™å¥—å®˜æ–¹æ¶æ„çš„ï¼š\n\n1.  **`Hilt`** è´Ÿè´£â€œç»„è£…â€æ‰€æœ‰é›¶ä»¶ã€‚\n2.  **`Activity`** é€šçŸ¥ **`ViewModel`**ï¼šâ€œæˆ‘è¦æ•°æ®ï¼â€\n3.  **`ViewModel`** ä½¿ç”¨ **`viewModelScope.launch`** å¯åŠ¨åç¨‹ï¼Œå¹¶æ›´æ–° **`StateFlow`**ï¼ˆUIæ˜¾ç¤ºåŠ è½½ä¸­ï¼‰ã€‚\n4.  **`ViewModel`** è°ƒç”¨ **`Repository`** çš„ `suspend` å‡½æ•°ã€‚\n5.  **`Repository`** ä½¿ç”¨ **`withContext(Dispatchers.IO)`** åˆ‡æ¢çº¿ç¨‹ï¼Œè°ƒç”¨ **`Retrofit`** è¯·æ±‚ç½‘ç»œï¼Œç„¶åæŠŠæ•°æ®å­˜å…¥ **`Room`**ã€‚\n6.  **`Room`** çš„ **`Flow`** è‡ªåŠ¨æ£€æµ‹åˆ°æ•°æ®å˜åŒ–ï¼Œé€šçŸ¥ **`ViewModel`**ã€‚\n7.  **`ViewModel`** æ”¶åˆ° `Flow` çš„æ–°æ•°æ®ï¼Œæ›´æ–° **`StateFlow`**ã€‚\n8.  **`Activity`** çš„ `collect` è§‚å¯Ÿåˆ° **`StateFlow`** å˜åŒ–ï¼Œå°†æœ€ç»ˆæ•°æ®æ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚\n\nè¿™å¥—æµç¨‹è·‘ä¸‹æ¥ï¼Œæˆ‘çš„ App ç»“æ„æ¸…æ™°ã€çº¿ç¨‹å®‰å…¨ã€æ— å†…å­˜æ³„æ¼ã€æ˜“äºæµ‹è¯•å’Œç»´æŠ¤ã€‚\n\nä½ å¸Œæœ›æˆ‘å†æ·±å…¥è®²è®²æˆ‘æ˜¯å¦‚ä½•ä½¿ç”¨ `StateFlow` å®ç°å•å‘æ•°æ®æµ (UDF)ï¼Œè¿˜æ˜¯ Hilt æ˜¯å¦‚ä½•å®ç°ä¾èµ–æ³¨å…¥çš„å—ï¼Ÿ"
    },
    {
      "question": "Android ç°åœ¨è¦åŠ è½½ä¸€ä¸ªè¶…å¤§å›¾ç‰‡æ€ä¹ˆåš ï¼Ÿ åŠ è½½è¶…é•¿å›¾ç‰‡æ€ä¹ˆåšï¼Ÿ",
      "answer": "",
      "detail": "è¿™æ˜¯ Android å¼€å‘ä¸­éå¸¸ç»å…¸ä¸”å¿…è€ƒçš„ä¸¤ä¸ªé—®é¢˜ï¼Œå®ƒä»¬éƒ½ç›´æŒ‡åŒä¸€ä¸ªæ ¸å¿ƒç—›ç‚¹ï¼š**OOM (OutOfMemoryError)**ã€‚\n\nä½†è¿™ä¸¤ä¸ªé—®é¢˜çš„**æœ€ä½³è§£å†³æ–¹æ¡ˆæ˜¯å®Œå…¨ä¸åŒ**çš„ã€‚\n\n  * **è¶…å¤§å›¾ç‰‡**ï¼ˆæ¯”å¦‚ 8000x6000 åƒç´ çš„ç…§ç‰‡ï¼‰ï¼šæ ¸å¿ƒæ˜¯\\*\\*â€œé™é‡‡æ ·â€**ï¼Œæˆ–è€…åœ¨éœ€è¦ç¼©æ”¾æ—¶**â€œåˆ†ç‰‡åŠ è½½â€\\*\\*ã€‚\n  * **è¶…é•¿å›¾ç‰‡**ï¼ˆæ¯”å¦‚ 1000x50000 åƒç´ çš„æ¼«ç”»/é•¿æˆªå›¾ï¼‰ï¼šæ ¸å¿ƒ**å¿…é¡»æ˜¯â€œåˆ†ç‰‡åŠ è½½â€**ã€‚\n\nä¸‹é¢æˆ‘ä¸ºä½ å½»åº•æ‹†è§£è¿™ä¸¤ä¸ªé—®é¢˜ã€‚\n\n-----\n\n### 1\\. å¦‚ä½•åŠ è½½â€œè¶…å¤§å›¾ç‰‡â€ï¼ˆå¦‚ 8K ç…§ç‰‡ï¼‰\n\n**æ ¸å¿ƒé—®é¢˜ï¼š**\nä¸€å¼  8000x6000 åƒç´ çš„ç…§ç‰‡ï¼Œå¦‚æœä½¿ç”¨é»˜è®¤çš„ `ARGB_8888` é…ç½®ï¼ˆæ¯ä¸ªåƒç´  4 å­—èŠ‚ï¼‰åŠ è½½åˆ°å†…å­˜ï¼š\n`8000 * 6000 * 4 = 192,000,000` å­—èŠ‚ â‰ˆ **183MB**ã€‚\nè€Œä¸€ä¸ª App çš„å †å†…å­˜ä¸Šé™ï¼ˆHeap Limitï¼‰é€šå¸¸åªæœ‰ 128MB æˆ– 256MBï¼Œ**è¿™ä¼š 100% å¯¼è‡´ OOM**ã€‚\n\n**è§£å†³æ–¹æ¡ˆï¼ˆåˆ†ä¸¤ç§åœºæ™¯ï¼‰ï¼š**\n\n#### åœºæ™¯ Aï¼šæˆ‘åªæ˜¯æƒ³â€œæ˜¾ç¤ºâ€å®ƒï¼ˆä¸éœ€è¦ç¼©æ”¾ï¼‰\n\n**ç­”æ¡ˆï¼šæŒ‰éœ€â€œé™é‡‡æ ·â€(Downsampling)ã€‚**\n\nä½ æ ¹æœ¬ä¸éœ€è¦åŠ è½½ 183MB çš„æ•°æ®ã€‚ä½ çš„æ‰‹æœºå±å¹•ï¼ˆ`ImageView`ï¼‰å¯èƒ½åªæœ‰ 1080x1920 åƒç´ ã€‚ä½ åªéœ€è¦åŠ è½½ä¸€ä¸ª**åˆšå¥½**èƒ½å¡æ»¡è¿™ä¸ª `ImageView` çš„ç‰ˆæœ¬ã€‚\n\n**âœ… ç°å®ä¸­çš„æœ€ä½³å®è·µï¼š**\nä½¿ç”¨ **Glide / Coil / Picasso**ã€‚\n\n```kotlin\n// ä½ ä»€ä¹ˆéƒ½ä¸ç”¨åšï¼ŒGlide/Coil ä¼šè‡ªåŠ¨å¸®ä½ å®Œæˆé™é‡‡æ ·\nimageView.load(\".../super_large_image.jpg\")\n```\n\nè¿™äº›åº“ä¼šè‡ªåŠ¨æ£€æµ‹ `imageView` çš„å°ºå¯¸ï¼Œç„¶ååœ¨è§£ç ï¼ˆdecodeï¼‰æ—¶**è‡ªåŠ¨è®¡ç®—**ä¸€ä¸ªæœ€ä½³çš„é‡‡æ ·ç‡ï¼ŒåªåŠ è½½ä¸€ä¸ª 1080x1920 å·¦å³çš„ç¼©ç•¥å›¾åˆ°å†…å­˜ä¸­ï¼Œå†…å­˜å ç”¨æå°ã€‚\n\n**ğŸ“– é¢è¯•ä¸­çš„åº•å±‚åŸç†ï¼ˆå¿…ç­”ï¼‰ï¼š**\né¢è¯•å®˜æƒ³å¬çš„æ˜¯ `BitmapFactory.Options`ã€‚\nâ€œæˆ‘ä¼šä½¿ç”¨ `BitmapFactory.Options` æ¥å®ç°é™é‡‡æ ·ï¼Œåˆ†ä¸¤æ­¥èµ°ï¼šâ€\n\n**ç¬¬ 1 æ­¥ï¼šåªè§£ç è¾¹ç•Œ (inJustDecodeBounds)**\nâ€œé¦–å…ˆï¼Œè®¾ç½® `options.inJustDecodeBounds = true`ã€‚è¿™å…è®¸æˆ‘ä»¬â€˜å‡è£…â€™è§£ç å›¾ç‰‡ï¼Œ**å®ƒä¸ä¼šçœŸçš„åŠ è½½åƒç´ åˆ°å†…å­˜**ï¼Œä½†å¯ä»¥è¯»å–åˆ°å›¾ç‰‡çš„åŸå§‹å®½é«˜ï¼ˆ`outWidth` å’Œ `outHeight`ï¼‰ã€‚â€\n\n```kotlin\nval options = BitmapFactory.Options().apply {\n    inJustDecodeBounds = true // å…³é”®ï¼šåªè¯»è¾¹ç•Œ\n}\nBitmapFactory.decodeResource(resources, R.id.my_image, options)\n\nval imageWidth = options.outWidth   // æ‹¿åˆ°äº†åŸå§‹å®½ 8000\nval imageHeight = options.outHeight // æ‹¿åˆ°äº†åŸå§‹é«˜ 6000\n```\n\n**ç¬¬ 2 æ­¥ï¼šè®¡ç®—é‡‡æ ·ç‡ (inSampleSize)**\nâ€œç„¶åï¼Œæˆ‘ä¼šæ‹¿\nåˆ° `ImageView` çš„ç›®æ ‡å®½é«˜ï¼ˆ`reqWidth` å’Œ `reqHeight`ï¼‰ï¼Œå’ŒåŸå§‹å®½é«˜è¿›è¡Œå¯¹æ¯”ï¼Œè®¡ç®—å‡ºä¸€ä¸ªæœ€ä½³çš„**é‡‡æ ·ç‡ `inSampleSize`**ã€‚â€\n\n```kotlin\n// æ¯”å¦‚ reqWidth = 1000, reqHeight = 1000\n// inSampleSize å¿…é¡»æ˜¯ 2 çš„å¹‚ï¼Œæ¯”å¦‚ 2, 4, 8\n// è¿™é‡Œçš„è®¡ç®—é€»è¾‘æ˜¯ï¼šåŸå§‹å®½/ç›®æ ‡å®½ å’Œ åŸå§‹é«˜/ç›®æ ‡é«˜ ä¸­è¾ƒå°çš„é‚£ä¸ª\nvar inSampleSize = 1\nif (imageHeight > reqHeight || imageWidth > reqWidth) {\n    val halfHeight = imageHeight / 2\n    val halfWidth = imageWidth / 2\n    while ((halfHeight / inSampleSize) >= reqHeight && (halfWidth / inSampleSize) >= reqWidth) {\n        inSampleSize *= 2 // æ‰¾åˆ°é‚£ä¸ªæœ€ä½³çš„ 2 çš„å¹‚\n    }\n}\n// æœ€ç»ˆå¯èƒ½ç®—å‡ºæ¥ inSampleSize = 8\n```\n\n**ç¬¬ 3 æ­¥ï¼šçœŸæ­£è§£ç **\nâ€œæœ€åï¼Œè®¾ç½® `options.inJustDecodeBounds = false`ï¼Œå¹¶æŠŠç®—å¥½çš„ `options.inSampleSize = 8` ä¼ è¿›å»ï¼Œå†æ¬¡è°ƒç”¨ `BitmapFactory.decode`ã€‚\nè¿™æ—¶ï¼Œç³»ç»Ÿåªä¼šåŠ è½½ä¸€ä¸ª `(8000/8) x (6000/8) = 1000x750` åƒç´ çš„å›¾ç‰‡åˆ°å†…å­˜ï¼Œå†…å­˜å ç”¨**ç¬é—´é™ä½äº† 64 å€**ï¼Œå®Œç¾è§£å†³ OOMã€‚â€\n\n```kotlin\noptions.inSampleSize = 8\noptions.inJustDecodeBounds = false // å…³é”®ï¼šè¿™æ¬¡çœŸçš„è¦è§£ç äº†\nval bitmap = BitmapFactory.decodeResource(resources, R.id.my_image, options)\nimageView.setImageBitmap(bitmap)\n```\n\n-----\n\n#### åœºæ™¯ Bï¼šæˆ‘éœ€è¦â€œç¼©æ”¾å’Œå¹³ç§»â€æŸ¥çœ‹ï¼ˆå¦‚çœ‹åœ°å›¾ã€çœ‹å¤§ç…§ç‰‡ï¼‰\n\n**ç­”æ¡ˆï¼šå¿…é¡»â€œåˆ†ç‰‡åŠ è½½â€(Tiling)ã€‚**\n\nå¦‚æœä½ ç”¨äº†åœºæ™¯ A çš„é™é‡‡æ ·ï¼Œå›¾ç‰‡å°±æ¨¡ç³Šäº†ï¼Œç”¨æˆ·æ— æ³•æ”¾å¤§çœ‹æ¸…ç»†èŠ‚ã€‚\nè¿™ç§æƒ…å†µä¸‹ï¼Œä½ **å†³ä¸èƒ½**æŠŠåŸå›¾åŠ è½½è¿›æ¥ã€‚\n\n**âœ… ç°å®ä¸­çš„æœ€ä½³å®è·µï¼š**\nä½¿ç”¨ **`SubsamplingScaleImageView`** è¿™ä¸ªç¬¬ä¸‰æ–¹åº“ã€‚\nå®ƒæ˜¯ä¸€ä¸ªä¸“é—¨ä¸ºâ€œåŠ è½½å·¨å›¾â€å’Œâ€œé•¿å›¾â€è€Œç”Ÿçš„ `View`ã€‚\n\n**ğŸ“– é¢è¯•ä¸­çš„åº•å±‚åŸç†ï¼ˆå¿…ç­”ï¼‰ï¼š**\né¢è¯•å®˜æƒ³å¬çš„æ˜¯ **`BitmapRegionDecoder`**ã€‚\n\nâ€œæˆ‘ä¼šä½¿ç”¨ `BitmapRegionDecoder`ï¼ˆåŒºåŸŸä½å›¾è§£ç å™¨ï¼‰ã€‚è¿™ä¸ªç±»çš„ä½œç”¨æ˜¯ï¼Œ**å®ƒå…è®¸æˆ‘ä»¬åªè§£ç ä¸€ä¸ªå¤§å›¾ç‰‡æ–‡ä»¶ä¸­çš„â€œä¸€å°å—çŸ©å½¢åŒºåŸŸâ€** åˆ°å†…å­˜ã€‚â€\n\n**å·¥ä½œæµç¨‹ï¼š**\n\n1.  **åˆå§‹åŒ–ï¼š** `BitmapRegionDecoder.newInstance(path, false)`ï¼Œç”¨å®ƒè·å–åˆ°å›¾ç‰‡çš„æ€»å®½é«˜ã€‚\n2.  **ç›‘å¬æ‰‹åŠ¿ï¼š** ç›‘å¬ç”¨æˆ·çš„**ç¼©æ”¾ (Scale)** å’Œ**å¹³ç§» (Scroll)** æ‰‹åŠ¿ã€‚\n3.  **è®¡ç®—å¯è§åŒºåŸŸï¼š** æ ¹æ®ç”¨æˆ·çš„æ‰‹åŠ¿ï¼Œè®¡ç®—å‡ºå½“å‰å±å¹•ä¸Š**åº”è¯¥æ˜¾ç¤º**å›¾ç‰‡çš„å“ªä¸€ä¸ªâ€œçŸ©å½¢åŒºåŸŸâ€(Rect)ã€‚\n4.  **åŠ¨æ€åŠ è½½â€œç“¦ç‰‡â€(Tile)ï¼š**\n      * åœ¨ `onDraw` æ—¶ï¼Œä½¿ç”¨ `decoder.decodeRegion(visibleRect, options)` **åªæŠŠé‚£ä¸ªå¯è§çš„çŸ©å½¢è§£ç æˆä¸€å¼ å° Bitmap**ï¼Œç„¶åç”»åœ¨ Canvas ä¸Šã€‚\n      * ï¼ˆä¼˜åŒ–ï¼‰ä¸ºäº†é˜²æ­¢å¡é¡¿ï¼Œé€šå¸¸ä¼šæŠŠå±å¹•åˆ‡åˆ†æˆ 3x3 çš„â€œç“¦ç‰‡â€ï¼Œåœ¨åå°çº¿ç¨‹ä¸­é¢„å…ˆåŠ è½½ç”¨æˆ·å³å°†çœ‹åˆ°çš„ç“¦ç‰‡ã€‚\n5.  **å›æ”¶ï¼š** å½“ç”¨æˆ·å¹³ç§»èµ°æ—¶ï¼Œ**ç«‹å³å›æ”¶**ï¼ˆ`recycle()`ï¼‰é‚£äº›å·²ç»â€œæ»‘å‡ºå±å¹•â€çš„å° Bitmapï¼Œé‡Šæ”¾å†…å­˜ã€‚\n\n> â€œè¿™ä¸ªè¿‡ç¨‹å°±åƒçœ‹åœ°å›¾ App ä¸€æ ·ï¼Œå®ƒæ°¸è¿œåªåŠ è½½ä½ å±å¹•ä¸Šé‚£å‡ å—â€˜ç“¦ç‰‡â€™ï¼Œä»è€Œå®ç°äº†ç”¨æå°çš„å†…å­˜ï¼ˆå¯èƒ½å°±å‡ MBï¼‰æ¥æµè§ˆå‡ ç™¾MBçš„å¤§å›¾ã€‚â€\n> **`SubsamplingScaleImageView`** åº“å°±æ˜¯è¿™ä¸ªåŸç†çš„å®Œç¾å®ç°ã€‚\n\n-----\n\n### 2\\. å¦‚ä½•åŠ è½½â€œè¶…é•¿å›¾ç‰‡â€ï¼ˆå¦‚ 1000x50000ï¼‰\n\n**æ ¸å¿ƒé—®é¢˜ï¼š**\nè¿™ä¸ªé—®é¢˜æ¯”â€œè¶…å¤§å›¾ç‰‡â€**æ›´è‡´å‘½**ã€‚\n\n1.  **OOM é—®é¢˜ï¼š** `1000 * 50000 * 4` â‰ˆ 190MBï¼ŒåŒæ ·ä¼š OOMã€‚\n2.  **ï¼ˆæ›´ä¸¥é‡ï¼‰ç¡¬ä»¶çº¹ç†é™åˆ¶ (Hardware Texture Limit)ï¼š**\n      * å°±ç®—ä½ çš„æ‰‹æœºå†…å­˜å¤Ÿå¤§ï¼ˆæ¯”å¦‚ 512MBï¼‰ï¼Œèƒ½å¼ºè¡ŒæŠŠ 190MB çš„ Bitmap åŠ è½½è¿›æ¥ã€‚\n      * ä½†æ˜¯ï¼Œå½“ä½ è¦æŠŠå®ƒç»˜åˆ¶åˆ°å±å¹•ä¸Šæ—¶ï¼ŒGPUï¼ˆç¡¬ä»¶åŠ é€Ÿï¼‰**æ— æ³•æ¸²æŸ“**å®ƒã€‚\n      * Android çš„ OpenGL ES æ¸²æŸ“å™¨å¯¹â€œçº¹ç†â€æœ‰**æœ€å¤§å°ºå¯¸é™åˆ¶**ï¼Œè¿™ä¸ªé™åˆ¶é€šå¸¸æ˜¯ `4096x4096` æˆ– `8192x8192`ã€‚\n      * ä½ è¯•å›¾åŠ è½½ä¸€ä¸ª 50000 åƒç´ é«˜çš„çº¹ç†ï¼Œç³»ç»Ÿä¼šç›´æ¥æ‹’ç»ï¼Œå›¾ç‰‡**ä¸€ç‰‡ç©ºç™½**æˆ–è€…**ç›´æ¥å´©æºƒ**ã€‚\n\n**è§£å†³æ–¹æ¡ˆï¼ˆå”¯ä¸€çš„æ–¹æ¡ˆï¼‰ï¼š**\n\n**ç­”æ¡ˆï¼šå¿…é¡»â€œåˆ†ç‰‡åŠ è½½â€(Tiling)ã€‚**\nâ€œè¶…é•¿å›¾ç‰‡â€**ä¸é€‚ç”¨**â€œé™é‡‡æ ·â€æ–¹æ¡ˆï¼ˆé™¤éä½ æƒ³æŠŠå®ƒç¼©æˆç‰™ç­¾ï¼‰ã€‚å®ƒå¿…é¡»ã€ä¹Ÿåªèƒ½ä½¿ç”¨ `BitmapRegionDecoder` è¿›è¡Œåˆ†ç‰‡åŠ è½½ã€‚\n\n**âœ… ç°å®ä¸­çš„æœ€ä½³å®è·µï¼š**\nä¾ç„¶æ˜¯ **`SubsamplingScaleImageView`** åº“ã€‚ä½ æŠŠå®ƒè®¾ç½®æˆâ€œåªåœ¨ Y è½´å¹³ç§»ï¼Œç¦æ­¢ X è½´å¹³ç§»å’Œç¼©æ”¾â€ï¼Œå®ƒå°±æˆäº†ä¸€ä¸ªå®Œç¾çš„â€œé•¿å›¾åŠ è½½å™¨â€ã€‚\n\n**ğŸ“– é¢è¯•ä¸­çš„åº•å±‚åŸç†ï¼ˆå¿…ç­”ï¼‰ï¼š**\nâ€œå’Œâ€˜è¶…å¤§å›¾ç‰‡â€™çš„åœºæ™¯Bå®Œå…¨ä¸€æ ·ã€‚æˆ‘ä¼šä½¿ç”¨ **`BitmapRegionDecoder`**ã€‚æˆ‘æŠŠå®ƒå½“åšä¸€ä¸ª `RecyclerView` æ¥å¤„ç†ï¼Œéšç€ç”¨æˆ·å‚ç›´æ»šåŠ¨ï¼Œæˆ‘**åªè§£ç å¹¶ç»˜åˆ¶å½“å‰å¯è§çš„â€˜ç“¦ç‰‡â€™åŒºåŸŸ**ï¼Œå¹¶åŠæ—¶å›æ”¶æ»‘å‡ºå±å¹•çš„ç“¦ç‰‡ã€‚â€\n\n-----\n\n### æ€»ç»“ï¼ˆé¢è¯•ç²¾ç‚¼å›ç­”ï¼‰\n\n**é¢è¯•å®˜ï¼š** â€œå¦‚ä½•åŠ è½½è¶…å¤§å›¾å’Œè¶…é•¿å›¾ï¼Ÿâ€\n\n**ä½ ï¼š** â€œè¿™ä¸¤ä¸ªåœºæ™¯éƒ½éœ€è¦è§£å†³ OOMï¼Œä½†æˆ‘ä¼šåŒºåˆ«å¯¹å¾…ï¼šâ€\n\n> 1.  â€œå¯¹äº**è¶…å¤§å›¾ç‰‡**ï¼ˆå¦‚ 8K ç…§ç‰‡ï¼‰ï¼Œå¦‚æœåªæ˜¯**å±•ç¤º**ï¼Œæˆ‘ä¼šä½¿ç”¨ **Glide æˆ– Coil**ï¼Œå®ƒä»¬ä¼šè‡ªåŠ¨å¸®æˆ‘**é™é‡‡æ ·**ã€‚å¦‚æœé¢è¯•å®˜æƒ³å¬åŸç†ï¼Œæˆ‘ä¼šé€šè¿‡ `BitmapFactory.Options` çš„ `inJustDecodeBounds` å’Œ `inSampleSize` æ¥å®ç°æ‰‹åŠ¨é™é‡‡æ ·ï¼ŒåªåŠ è½½å’Œ `ImageView` å·®ä¸å¤šå¤§çš„ç¼©ç•¥å›¾ã€‚â€\n>\n> 2.  â€œä½†å¦‚æœè¶…å¤§å›¾ç‰‡éœ€è¦**ç¼©æ”¾**ï¼Œæˆ–è€…é‡åˆ°**è¶…é•¿å›¾ç‰‡**ï¼ˆå¦‚é•¿æˆªå›¾ï¼‰ï¼Œé™é‡‡æ ·å°±ä¸è¡Œäº†ï¼Œè¶…é•¿å›¾è¿˜ä¼šé‡åˆ°**ç¡¬ä»¶çº¹ç†é™åˆ¶**é—®é¢˜ã€‚\n>\n> 3.  â€œè¿™ä¸¤ç§æƒ…å†µï¼Œæˆ‘éƒ½**å¿…é¡»ä½¿ç”¨â€˜åˆ†ç‰‡åŠ è½½â€™**ã€‚æˆ‘ä¼šä½¿ç”¨ `BitmapRegionDecoder` APIï¼Œå®ƒå…è®¸æˆ‘åªè§£ç å›¾ç‰‡çš„æŸä¸ªçŸ©å½¢åŒºåŸŸã€‚æˆ‘ä¼šæ ¹æ®ç”¨æˆ·çš„æ‰‹åŠ¿ï¼Œ**åŠ¨æ€è®¡ç®—**å¯è§åŒºåŸŸï¼Œ**åªæŠŠå±å¹•ä¸Šå¯è§çš„â€˜ç“¦ç‰‡â€™åŠ è½½åˆ°å†…å­˜ä¸­**ï¼Œæ»‘å‡ºå±å¹•çš„ç“¦ç‰‡ç«‹åˆ»å›æ”¶ã€‚\n>\n> 4.  â€œåœ¨å®é™…é¡¹ç›®ä¸­ï¼Œæˆ‘ä¸€èˆ¬ä¼šç›´æ¥ä½¿ç”¨ **`SubsamplingScaleImageView`** è¿™ä¸ªåº“ï¼Œå®ƒå°±æ˜¯å¯¹ `BitmapRegionDecoder` åˆ†ç‰‡åŠ è½½åŸç†çš„å®Œç¾å°è£…ã€‚â€"
    },
    {
      "question": "ç°åœ¨ä½ è¦ä¼ ä¸€ä¸ª è¶…å¤§çš„æ•°æ®åˆ°åå° ï¼Œ ä¼ è¾“çš„æ—¶é—´ä¹Ÿé•¿ ï¼Œ ä½†æ˜¯ä½ å½“å‰ç•Œé¢ä¹Ÿä¸ç”¨ ï¼Œ è¦è·³åˆ°å¦å¤–ä¸€ä¸ªç•Œé¢ ï¼Œ ä½ æ€ä¹ˆåšï¼Ÿ",
      "answer": "",
      "detail": "è¿™æ˜¯ä¸€ä¸ªéå¸¸ç»å…¸ã€éå¸¸çœŸå®çš„ Android å¼€å‘åœºæ™¯ï¼\n\né¢è¯•å®˜é—®è¿™ä¸ªé—®é¢˜ï¼Œæ˜¯æƒ³è€ƒå¯Ÿä½ å¯¹ **Android åå°ä»»åŠ¡** å’Œ **App ç”Ÿå‘½å‘¨æœŸ** çš„ç†è§£ã€‚\n\nä½ æåˆ°äº†ä¸‰ä¸ªå…³é”®ç‚¹ï¼š\n\n1.  **æ•°æ®è¶…å¤§**ï¼ˆè€—æ—¶ï¼‰\n2.  **ä¼ è¾“æ—¶é—´é•¿**\n3.  **å½“å‰ç•Œé¢ä¸ç”¨äº†**ï¼ˆUI ç”Ÿå‘½å‘¨æœŸç»“æŸï¼‰\n\n**ä¸€å¥è¯æ€»ç»“ï¼ˆæ ¸å¿ƒå£è¯€ï¼‰ï¿½ï¿½ï¿½**\n\n> **â€œUI ä¼šæ­»ï¼ŒæœåŠ¡å¾—æ´»ï¼›â€**\n> **â€œçŸ­æš‚ç”¨ `Foreground`ï¼Œé•¿ä¹…é  `WorkManager`ã€‚â€**\n\n-----\n\n### 1\\. é”™è¯¯ï¼ˆæˆ–å±é™©ï¼‰çš„åšæ³•\n\né¦–å…ˆï¼Œä½ **ç»å¯¹ä¸èƒ½**åšçš„æ˜¯ï¼š\n\n1.  **âŒ åœ¨ Activity / Fragment ä¸­å¯åŠ¨åç¨‹ï¼ˆ`lifecycleScope`ï¼‰**ï¼š\n\n      * **åŸå› ï¼š** ä½ ä¸€è·³åˆ°å¦å¤–ä¸€ä¸ªç•Œé¢ï¼Œ`lifecycleScope` å¯èƒ½ä¼šè¢«å–æ¶ˆï¼›å¦‚æœ Activity è¢«é”€æ¯ï¼Œ`lifecycleScope` **å¿…å®š**è¢«å–æ¶ˆï¼Œä½ çš„ä¸Šä¼ ä»»åŠ¡**å½“åœºå¤±è´¥**ã€‚\n\n2.  **âŒ åœ¨ ViewModel ä¸­å¯åŠ¨åç¨‹ï¼ˆ`viewModelScope`ï¼‰**ï¼š\n\n      * **åŸå› ï¼š** `viewModelScope` æ´»å¾—æ¯” Activity é•¿ï¼Œä½†å¦‚æœç”¨æˆ·å½»åº•é€€å‡ºè¿™ä¸ªåŠŸèƒ½æ¨¡å—ï¼ˆ`ViewModel` è¢« `cleared`ï¼‰ï¼Œæˆ–è€…ç³»ç»Ÿåœ¨åå°æ€æ­»äº†ä½ çš„ App è¿›ç¨‹ï¼Œä¸Šä¼ ä»»åŠ¡**ä¾ç„¶ä¼šå¤±è´¥**ã€‚\n\n3.  **âŒ ä½¿ç”¨ `GlobalScope` å¯åŠ¨åç¨‹**ï¼š\n\n      * **åŸå› ï¼š** è¿™æ˜¯â€œé‡â€åç¨‹ï¼Œä¸å—ç›‘ç®¡ã€‚è™½ç„¶å®ƒä¸ä¼šéš UI é”€æ¯ï¼Œä½†å½“ App è¿›ç¨‹è¢«ç³»ç»Ÿæ€æ­»æ—¶ï¼Œå®ƒä¹Ÿä¼šè¢«æ€æ­»ï¼Œä»»åŠ¡**åŒæ ·ä¼šå¤±è´¥**ã€‚\n\n-----\n\n### 2\\. æ­£ç¡®çš„åšæ³•ï¼ˆä¸¤ç§æ–¹æ¡ˆï¼‰\n\nä½ éœ€è¦ä¸€ä¸ª**å®Œå…¨ç‹¬ç«‹äº UI ç”Ÿå‘½å‘¨æœŸ**ã€å¹¶ä¸”**ä¼˜å…ˆçº§è¶³å¤Ÿé«˜**ï¼ˆä¸ä¼šè¢«ç³»ç»Ÿè½»æ˜“æ€æ­»ï¼‰çš„ç»„ä»¶æ¥æ‰§è¡Œè¿™ä¸ªä»»åŠ¡ã€‚\n\nä½ æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼Œæˆ‘ä¼šæ¨èä½ ç”¨â€œæœ€ä½³å®è·µâ€ã€‚\n\n#### æ–¹æ¡ˆä¸€ï¼š`ForegroundService` (å‰å°æœåŠ¡)\n\nè¿™æ˜¯â€œç»å…¸â€çš„åšæ³•ï¼Œé€‚ç”¨äºç”¨æˆ·\\*\\*å¸Œæœ›ä»»åŠ¡â€œç«‹å³â€å¼€å§‹å¹¶â€œæ„ŸçŸ¥â€\\*\\*åˆ°å®ƒæ­£åœ¨è¿è¡Œçš„åœºæ™¯ã€‚\n\n  * **æ˜¯ä»€ä¹ˆï¼š**\n    å®ƒæ˜¯ä¸€ä¸ª `Service`ï¼Œä½†ä½ å¿…é¡»ç»™å®ƒé…ä¸€ä¸ª**å¸¸é©»çš„é€šçŸ¥æ ï¼ˆ`Notification`ï¼‰**ã€‚\n  * **ä¸ºä»€ä¹ˆç”¨å®ƒï¼š**\n    1.  **é«˜ä¼˜å…ˆçº§ï¼š** ä¸€æ—¦æ˜¾ç¤ºäº†é€šçŸ¥æ ï¼ŒAndroid ç³»ç»Ÿå°±ä¼šè®¤ä¸ºâ€œç”¨æˆ·çŸ¥é“è¿™ä¸ªä»»åŠ¡åœ¨è·‘â€ï¼Œä¼š**æåŠ›é¿å…æ€æ­»**ä½ çš„ App è¿›ç¨‹ã€‚\n    2.  **ç‹¬ç«‹ç”Ÿå‘½å‘¨æœŸï¼š** `Service` çš„ç”Ÿå‘½å‘¨æœŸä¸ Activity å®Œå…¨æ— å…³ã€‚Activity é”€æ¯äº†ï¼Œ`Service` ç…§å¸¸è¿è¡Œã€‚\n\n**æˆ‘çš„å®ç°æ­¥éª¤ï¼š**\n\n1.  **åˆ›å»º `UploadService`ï¼š**\n      * åœ¨ `Activity` ä¸­ï¼ˆæ¯”å¦‚ç‚¹å‡»â€œä¸Šä¼ â€æŒ‰é’®æ—¶ï¼‰ï¼Œé€šè¿‡ `startService(intent)` å¯åŠ¨ `UploadService`ã€‚\n2.  **å‡çº§ä¸ºå‰å°æœåŠ¡ï¼š**\n      * åœ¨ `UploadService` çš„ `onStartCommand` ä¸­ï¼Œæˆ‘**ç«‹å³**åˆ›å»ºä¸€ä¸ª `Notification`ï¼ˆæ¯”å¦‚å¸¦è¿›åº¦æ¡çš„é€šçŸ¥ï¼‰ï¼Œç„¶åè°ƒç”¨ `startForeground(NOTIF_ID, notification)`ã€‚\n      * **(Android 12+ é™åˆ¶)** å¦‚æœ App åœ¨åå°ï¼Œä¸èƒ½éšä¾¿å¯åŠ¨å‰å°æœåŠ¡ã€‚ä½†ä½ çš„åœºæ™¯æ˜¯â€œåœ¨å½“å‰ç•Œé¢â€å‘èµ·çš„ï¼Œæ‰€ä»¥æ²¡é—®é¢˜ã€‚\n3.  **å†…éƒ¨å¤„ç†ï¼š**\n      * åœ¨ `Service` å†…éƒ¨ï¼Œæˆ‘ä¸ä¼šåœ¨ä¸»çº¿ç¨‹æ‰§è¡Œä¸Šä¼ ã€‚æˆ‘ä¼š**åœ¨ `Service` å†…éƒ¨è‡ªå·±åˆ›å»ºä¸€ä¸ªåç¨‹ä½œç”¨åŸŸ**ï¼ˆ`CoroutineScope(Dispatchers.IO)`ï¼‰ï¼Œæˆ–è€…ä½¿ç”¨ RxJavaï¼Œåœ¨ IO çº¿ç¨‹ä¸­æ‰§è¡Œè€—æ—¶çš„ä¸Šä¼ æ“ä½œã€‚\n4.  **ç»“æŸæœåŠ¡ï¼š**\n      * ä¸Šä¼ å®Œæˆåï¼ˆæˆ–å¤±è´¥åï¼‰ï¼Œ`Service` å†…éƒ¨è°ƒç”¨ `stopSelf()` ç»“æŸè‡ªå·±ï¼Œé€šçŸ¥æ ä¹Ÿä¼šæ¶ˆå¤±ã€‚\n\n<!-- end list -->\n\n  * **ç¼ºç‚¹ï¼š** ä½ éœ€è¦è‡ªå·±å¤„ç†å¾ˆå¤šäº‹ï¼Œæ¯”å¦‚ï¼šç½‘ç»œæ–­çº¿é‡è¯•ã€æ‰‹æœºé‡å¯åä»»åŠ¡ä¸¢å¤±ã€çº¿ç¨‹ç®¡ç†ã€‚\n\n-----\n\n#### æ–¹æ¡ˆäºŒï¼š`WorkManager` (Google å®˜æ–¹æœ€ä½³å®è·µ)\n\nè¿™æ˜¯ Google **ç°åœ¨é¦–é€‰**çš„è§£å†³æ–¹æ¡ˆï¼Œä¸“é—¨ç”¨æ¥å¤„ç†**å¯é çš„ã€å¯å»¶è¿Ÿçš„**åå°ä»»åŠ¡ã€‚\n\nå¯¹äºâ€œè¶…å¤§æ•°æ®â€ã€â€œæ—¶é—´é•¿â€çš„ä¸Šä¼ ï¼Œ**è¿™æ˜¯å®Œç¾çš„ç­”æ¡ˆ**ã€‚\n\n  * **æ˜¯ä»€ä¹ˆï¼š**\n    å®ƒæ˜¯ä¸€ä¸ª**ä»»åŠ¡è°ƒåº¦åº“**ï¼Œå®ƒä¼šâ€œä¿è¯â€ä½ çš„ä»»åŠ¡æœ€ç»ˆä¸€å®šä¼šè¢«æ‰§è¡Œï¼Œå“ªæ€• App è¢«æ€ã€æ‰‹æœºé‡å¯ã€‚\n  * **ä¸ºä»€ä¹ˆç”¨å®ƒï¼š**\n    1.  **ç»å¯¹å¯é  (Guaranteed)ï¼š** `WorkManager` ä¼šæŠŠä»»åŠ¡çŠ¶æ€æŒä¹…åŒ–åˆ°æœ¬åœ°æ•°æ®åº“ã€‚å³ä½¿ App é€€å‡ºæˆ–æ‰‹æœºé‡å¯ï¼Œå®ƒä¹Ÿä¼šåœ¨åˆé€‚çš„æ—¶å€™**è‡ªåŠ¨é‡å¯**ä½ çš„ä¸Šä¼ ä»»åŠ¡ã€‚\n    2.  **çº¦æŸæ¡ä»¶ (Constraints)ï¼š** (è¿™æ˜¯æœ€æ£’çš„ï¼)\n          * å¯¹äºâ€œè¶…å¤§æ•°æ®â€ï¼Œæˆ‘**ä¸å¸Œæœ›**æ¶ˆè€—ç”¨æˆ·çš„æµé‡ã€‚\n          * æˆ‘å¯ä»¥ç»™ä»»åŠ¡è®¾ç½®çº¦æŸï¼š`setRequiredNetworkType(NetworkType.UNMETERED)`ï¼Œè¿™ä»£è¡¨\\*\\*â€œåªåœ¨è¿æ¥åˆ° Wi-Fi æ—¶æ‰ä¸Šä¼ â€\\*\\*ã€‚\n    3.  **è‡ªåŠ¨é‡è¯• (Retries)ï¼š**\n          * â€œæ—¶é—´é•¿â€æ„å‘³ç€ç½‘ç»œå¯èƒ½ä¸­æ–­ã€‚æˆ‘å¯ä»¥è®¾ç½® `setBackoffCriteria(...)`ï¼Œ`WorkManager` ä¼šåœ¨ä¸Šä¼ å¤±è´¥åï¼ˆæ¯”å¦‚æœåŠ¡å™¨503ï¼‰ï¼Œ**è‡ªåŠ¨**å¸®ä½ è¿›è¡ŒæŒ‡æ•°é€€é¿é‡è¯•ã€‚\n    4.  **ç³»ç»Ÿä¼˜åŒ–ï¼š** å®ƒä¼šæ™ºèƒ½åœ°æŠŠä»»åŠ¡ï¼ˆæ¯”å¦‚å’Œå…¶ä»– App çš„ä»»åŠ¡ï¼‰æ‰“åŒ…æ‰§è¡Œï¼Œæ›´çœç”µã€‚\n\n**æˆ‘çš„å®ç°æ­¥éª¤ï¼š**\n\n1.  **åˆ›å»º `UploadWorker`ï¼š**\n      * åˆ›å»ºä¸€ä¸ª `UploadWorker` ç±»ï¼Œç»§æ‰¿è‡ª `CoroutineWorker`ï¼ˆå› ä¸ºå®ƒæ”¯æŒåç¨‹ï¼‰ã€‚\n      * åœ¨ `doWork()` (ä¸€ä¸ª `suspend` å‡½æ•°) æ–¹æ³•ä¸­ï¼Œç¼–å†™æˆ‘çœŸæ­£çš„ä¸Šä¼ é€»è¾‘ã€‚\n2.  **æ„å»ºä»»åŠ¡è¯·æ±‚ï¼š**\n      * åœ¨ `Activity`ï¼ˆæˆ– `ViewModel`ï¼‰ä¸­ï¼Œæˆ‘æ„å»ºä¸€ä¸ª `OneTimeWorkRequest`ï¼ˆä¸€æ¬¡æ€§ä»»åŠ¡ï¼‰ã€‚\n    <!-- end list -->\n    ```kotlin\n    // 1. è®¾ç½®çº¦æŸï¼šåªåœ¨ Wi-Fi ä¸”å……ç”µæ—¶ä¸Šä¼ ï¼ˆæœ€çœï¼‰\n    val constraints = Constraints.Builder()\n        .setRequiredNetworkType(NetworkType.UNMETERED) // åªåœ¨ Wi-Fi\n        .setRequiresCharging(true)                   // åªåœ¨å……ç”µæ—¶\n        .build()\n\n    // 2. åˆ›å»ºä¸€ä¸ª WorkRequest\n    val uploadWorkRequest = OneTimeWorkRequest.Builder(UploadWorker::class.java)\n        .setConstraints(constraints)\n        .setInputData(workDataOf(\"FILE_URI\" to \"...\")) // ä¼ å…¥è¦ä¸Šä¼ çš„æ–‡ä»¶ URI\n        .build()\n\n    // 3. æäº¤ä»»åŠ¡ç»™ç³»ç»Ÿ\n    WorkManager.getInstance(context).enqueue(uploadWorkRequest)\n    ```\n3.  **ï¼ˆå…³é”®ï¼‰å¦‚ä½•â€œç«‹å³â€æ‰§è¡Œï¼Ÿ**\n      * é»˜è®¤ `WorkManager` æ˜¯â€œå¯å»¶è¿Ÿçš„â€ã€‚ä½†åœ¨æˆ‘çš„ `UploadWorker` å†…éƒ¨ï¼Œä¸ºäº†**é˜²æ­¢ç³»ç»Ÿåœ¨æˆ‘ä¸Šä¼ åˆ°ä¸€åŠæ—¶æ€æ­»æˆ‘**ï¼Œæˆ‘ä¼šæŠŠå®ƒâ€œå‡çº§â€ä¸ºå‰TAIæœåŠ¡ã€‚\n      * åœ¨ `doWork()` ä¸­ï¼Œæˆ‘ä¼šè°ƒç”¨ `setForeground(foregroundInfo)`ï¼Œ`WorkManager` ä¼šè‡ªåŠ¨å¸®æˆ‘æ˜¾ç¤ºä¸€ä¸ªé€šçŸ¥æ ï¼Œäº«å—å’Œ `ForegroundService` ä¸€æ ·çš„é«˜ä¼˜å…ˆçº§ã€‚\n\n-----\n\n### æ€»ç»“ï¼šæˆ‘çš„é¢è¯•å›ç­”\n\n**é¢è¯•å®˜ï¼š** â€œä½ è¦ä¼ ä¸€ä¸ªè¶…å¤§çš„æ•°æ®ï¼Œä½†è¦è·³åˆ°åˆ«çš„ç•Œé¢ï¼Œæ€ä¹ˆåšï¼Ÿâ€\n\n**æˆ‘ï¼š** â€œè¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„**åå°é•¿æ—¶å¯é ä»»åŠ¡**ã€‚UI ç•Œé¢ï¼ˆActivityï¼‰æ˜¯ä¸å¯é çš„ï¼Œæ‰€ä»¥è¿™ä¸ªä»»åŠ¡å¿…é¡»**ä¸ UI ç”Ÿå‘½å‘¨æœŸè§£è€¦**ã€‚â€\n\n> â€œæˆ‘**ä¸ä¼š**ä½¿ç”¨ `viewModelScope` æˆ– `lifecycleScope`ï¼Œå› ä¸ºå®ƒä»¬éƒ½ä¼šåœ¨ UI é€€å‡ºåè¢«å–æ¶ˆã€‚â€\n>\n> â€œæˆ‘çš„**é¦–é€‰æ–¹æ¡ˆ**æ˜¯ä½¿ç”¨ Google å®˜æ–¹æ¨èçš„ **`WorkManager`**ã€‚â€\n>\n> 1.  â€œæˆ‘ä¼šåˆ›å»ºä¸€ä¸ª `CoroutineWorker` (`UploadWorker`)ï¼Œåœ¨ `doWork()` æ–¹æ³•é‡Œæ‰§è¡Œä¸Šä¼ é€»è¾‘ã€‚â€\n> 2.  â€œï¼ˆ**æ ¸å¿ƒ**ï¼‰æˆ‘ä¼šä¸ºè¿™ä¸ªä»»åŠ¡è®¾ç½®**çº¦æŸï¼ˆConstraintsï¼‰**ï¼Œæ¯”å¦‚ `setRequiredNetworkType(NetworkType.UNMETERED)`ï¼Œ**å¼ºåˆ¶è¦æ±‚åªåœ¨ Wi-Fi ç¯å¢ƒä¸‹ä¸Šä¼ **ï¼Œè¿™æ ·æ—¢ä¸æ¶ˆè€—ç”¨æˆ·æµé‡ï¼Œä¹Ÿæ›´ç¨³å®šã€‚â€\n> 3.  â€œ`WorkManager` è¿˜èƒ½å¸®æˆ‘å¤„ç†**è‡ªåŠ¨é‡è¯•**å’Œ**æ‰‹æœºé‡å¯**åçš„ä»»åŠ¡æ¢å¤ï¼Œä¿è¯ä»»åŠ¡â€˜æœ€ç»ˆä¸€å®šèƒ½å®Œæˆâ€™ã€‚â€\n> 4.  â€œæœ€åï¼Œå› ä¸ºè¿™ä¸ªä»»åŠ¡â€˜æ—¶é—´é•¿â€™ï¼Œæˆ‘ä¼šåœ¨ `Worker` çš„ `doWork()` å†…éƒ¨è°ƒç”¨ `setForeground()`ï¼Œ`WorkManager` ä¼šè‡ªåŠ¨æŠŠå®ƒå‡çº§ä¸ºä¸€ä¸ª\\*\\*å‰å°æœåŠ¡ï¼ˆ`ForegroundService`ï¼‰\\*\\*æ¥è¿è¡Œï¼Œè¿™æ ·å®ƒå°±è·å¾—äº†æœ€é«˜ä¼˜å…ˆçº§ï¼Œä¸ä¼šåœ¨ä¸Šä¼ è¿‡ç¨‹ä¸­è¢«ç³»ç»Ÿæ€æ­»ã€‚â€\n>\n> â€œè¿™æ ·ç»„åˆï¼Œæˆ‘å°±åŒæ—¶è·å¾—äº† `WorkManager` çš„**å¯é æ€§/çº¦æŸ** å’Œ `ForegroundService` çš„**é«˜ä¼˜å…ˆçº§**ã€‚â€"
    },
    {
      "question": "UploadService ï¼ˆåªæ˜¯ä¸€ä¸ªå‡åå­—ï¼‰ æˆ‘å¿˜äº†ï¼Œ å¸®æˆ‘å›å¿†ä¸€ä¸‹ ï¼Ÿ",
      "answer": "",
      "detail": "\n\næ²¡é—®é¢˜ï¼Œå¸®ä½ å›å¿†ä¸€ä¸‹ï¼\n\nä½ å¯èƒ½æœ‰ç‚¹å¿˜äº†ï¼Œå› ä¸º **`UploadService`** å¹¶ä¸æ˜¯ Android SDK é‡Œçš„ä¸€ä¸ªå®˜æ–¹ç±»åï¼ˆä¸åƒ `Activity` æˆ– `ViewModel` é‚£æ ·ï¼‰ã€‚\n\nå®ƒæ˜¯ä¸€ä¸ª**â€œæ¦‚å¿µåç§°â€**æˆ–è€…è¯´**â€œå¼€å‘è€…çº¦å®šä¿—æˆçš„å‘½åâ€**ã€‚\n\n### 1. å®ƒåˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ\n\n`UploadService` æŒ‡çš„æ˜¯ï¼š**ä¸€ä¸ªç”±æˆ‘ä»¬å¼€å‘è€…è‡ªå·±åˆ›å»ºçš„ã€ç»§æ‰¿è‡ª `Service` ç±»çš„ä¸œè¥¿ï¼Œå®ƒçš„å”¯ä¸€èŒè´£å°±æ˜¯å¤„ç†â€œä¸Šä¼ â€ä»»åŠ¡ã€‚**\n\nä½ å¯ä»¥æŠŠå®ƒå‘½åä¸º `MyUploadService.kt`ã€`DataSyncService.kt` ç­‰ç­‰ï¼Œä½†å¤§å®¶ä¹ æƒ¯å«å®ƒ `UploadService`ï¼Œå› ä¸ºåå­—å¾ˆç›´è§‚ã€‚\n\n### 2. ä¸ºä»€ä¹ˆéœ€è¦å®ƒï¼Ÿ\n\nä½ ä¹‹æ‰€ä»¥ä¼šç”¨åˆ°å®ƒï¼ˆå¦‚æˆ‘ä»¬ä¸Šä¸€ä¸ªè¯é¢˜æ‰€èŠçš„ï¼‰ï¼Œæ˜¯å› ä¸ºï¼š\n\n1.  **ç‹¬ç«‹ç”Ÿå‘½å‘¨æœŸï¼š** ä¸Šä¼ ä»»åŠ¡**è€—æ—¶å¾ˆé•¿**ã€‚ä½ ä¸èƒ½åœ¨ `Activity` æˆ– `ViewModel` é‡Œåšï¼Œå› ä¸ºç”¨æˆ·ä¸€æ—¦é€€å‡ºç•Œé¢ï¼Œ`Activity` è¢«é”€æ¯ï¼Œ`viewModelScope` è¢«å–æ¶ˆï¼Œä½ çš„ä¸Šä¼ ä»»åŠ¡å°±**å¤±è´¥**äº†ã€‚`Service` åˆ™æ‹¥æœ‰ç‹¬ç«‹äº UI çš„ç”Ÿå‘½å‘¨æœŸã€‚\n2.  **åå°æ‰§è¡Œï¼š** `Service` å¤©ç”Ÿå°±æ˜¯ç”¨æ¥åœ¨åå°ï¼ˆæ²¡æœ‰ UIï¼‰æ‰§è¡Œé•¿æ—¶é—´æ“ä½œçš„ã€‚\n\n### 3. (æœ€å…³é”®) å®ƒå’Œ `ForegroundService` çš„å…³ç³»\n\nè¿™æ˜¯ä½ å›å¿† `UploadService` æ—¶**æœ€æ ¸å¿ƒ**çš„ä¸€ç‚¹ï¼š\n\n* ä¸€ä¸ª**æ™®é€š**çš„åå° `Service`ï¼ˆBackground Serviceï¼‰åœ¨ App é€€åˆ°åå°åï¼Œå¦‚æœç³»ç»Ÿå†…å­˜ç´§å¼ ï¼Œ**å®ƒä¾ç„¶æœ‰â€œä¸­ç­‰â€é£é™©è¢«ç³»ç»Ÿæ€æ­»**ã€‚\n* å¯¹äºâ€œè¶…å¤§æ–‡ä»¶ä¸Šä¼ â€è¿™ç§**ç»å¯¹ä¸èƒ½ä¸­æ–­**çš„ä»»åŠ¡ï¼Œè¿™æ˜¯ä¸å¯æ¥å—çš„ã€‚\n* å› æ­¤ï¼Œæˆ‘ä»¬å¿…é¡»åœ¨ `UploadService` å¯åŠ¨åï¼Œ**ç«‹åˆ»**æŠŠå®ƒâ€œå‡çº§â€ä¸ºä¸€ä¸ª**â€œå‰å°æœåŠ¡â€ (ForegroundService)**ã€‚\n\n**â€œå‡çº§â€çš„æ–¹æ³•å°±æ˜¯ï¼š**\n1.  åˆ›å»ºä¸€ä¸ª**å¸¸é©»é€šçŸ¥æ **ï¼ˆ`Notification`ï¼‰ï¼Œæ¯”å¦‚æ˜¾ç¤ºï¼šâ€œæ­£åœ¨ä¸Šä¼ æ–‡ä»¶... 25%â€ã€‚\n2.  åœ¨ `UploadService` çš„ `onStartCommand` æ–¹æ³•é‡Œï¼Œè°ƒç”¨ `startForeground(NOTIFICATION_ID, notification)`ã€‚\n\nä¸€æ—¦è°ƒç”¨äº† `startForeground()`ï¼Œ`UploadService` å°±å˜æˆäº† `ForegroundService`ã€‚ç³»ç»Ÿä¼šè®¤ä¸ºâ€œ**ç”¨æˆ·æ˜ç¡®çŸ¥é“è¿™ä¸ªä»»åŠ¡æ­£åœ¨è¿è¡Œ**â€ï¼Œä»è€Œèµ‹äºˆå®ƒ**æé«˜çš„ä¼˜å…ˆçº§**ï¼Œ**å‡ ä¹ä¸ä¼š**ï¼ˆé™¤éæç«¯æƒ…å†µï¼‰æ€æ­»å®ƒã€‚\n\n### æ€»ç»“ï¼ˆå®ƒçš„å®Œæ•´å·¥ä½œæµï¼‰\n\n1.  **UI å±‚ (Activity)ï¼š** ç”¨æˆ·ç‚¹å‡»â€œä¸Šä¼ â€ï¼ŒActivity è°ƒç”¨ `startService(intent)` æ¥å¯åŠ¨ `UploadService`ã€‚\n2.  **`UploadService` (è‡ªå·±åˆ›å»ºçš„ç±»)ï¼š**\n    * åœ¨ `onStartCommand` ä¸­è¢«å”¤é†’ã€‚\n    * **ç«‹åˆ»**åˆ›å»ºé€šçŸ¥æ ï¼Œå¹¶è°ƒç”¨ `startForeground()` å°†è‡ªå·±â€œå‡çº§â€ä¸ºå‰å°æœåŠ¡ã€‚\n    * ï¼ˆ**é‡è¦**ï¼‰`Service` æœ¬èº«é»˜è®¤åœ¨ä¸»çº¿ç¨‹ï¼Œæ‰€ä»¥ä½ ä¸èƒ½åœ¨ `onStartCommand` é‡Œç›´æ¥ä¸Šä¼ ã€‚ä½ å¿…é¡»åœ¨ `Service` **å†…éƒ¨**è‡ªå·±å¼€ä¸€ä¸ª**åå°çº¿ç¨‹**ï¼ˆæ¯”å¦‚ä½¿ç”¨**åç¨‹ `CoroutineScope(Dispatchers.IO)`**ï¼‰æ¥çœŸæ­£æ‰§è¡Œè€—æ—¶çš„ç½‘ç»œä¸Šä¼ æ“ä½œã€‚\n    * ä¸Šä¼ è¿‡ç¨‹ä¸­ï¼Œä¸æ–­æ›´æ–°é‚£ä¸ªé€šçŸ¥æ ï¼ˆ`Notification`ï¼‰çš„è¿›åº¦ã€‚\n    * ä¸Šä¼ å®Œæˆåï¼ˆæ— è®ºæˆåŠŸæˆ–å¤±è´¥ï¼‰ï¼Œè°ƒç”¨ `stopSelf()` æ¥åœæ­¢è¿™ä¸ªæœåŠ¡ï¼Œé€šçŸ¥æ è‡ªåŠ¨æ¶ˆå¤±ã€‚\n\næ‰€ä»¥ï¼Œ`UploadService` å°±æ˜¯æˆ‘ä»¬å¯¹**â€œé‚£ä¸ªç”¨æ¥å¤„ç†ä¸Šä¼ ä»»åŠ¡ï¼Œå¹¶ä¸”å¿…é¡»ä»¥ `ForegroundService` æ¨¡å¼è¿è¡Œçš„ Serviceâ€** çš„ä¸€ä¸ªç»Ÿç§°ã€‚"
    },
    {
      "question": "Android æœåŠ¡æ€ä¹ˆä¿æ´»ï¼Ÿ",
      "answer": "",
      "detail": "è¿™æ˜¯ä¸€ä¸ªéå¸¸ç»å…¸ä¸”æå…·æŒ‘æˆ˜æ€§çš„ Android å¼€å‘é—®é¢˜ã€‚\n\nå¦ç‡åœ°è¯´ï¼Œéšç€ Android ç³»ç»Ÿçš„å‘å±•ï¼ˆç‰¹åˆ«æ˜¯ä» Android 6.0 çš„ Doze æ¨¡å¼ã€8.0 çš„åå°é™åˆ¶åˆ° 12.0+ æ›´ä¸¥æ ¼çš„é™åˆ¶ï¼‰ï¼Œ**è¯•å›¾å®ç°â€œç»å¯¹ä¸æ­»â€çš„æœåŠ¡å·²ç»å˜å¾—å‡ ä¹ä¸å¯èƒ½ï¼Œè€Œä¸”ä¹Ÿæ˜¯ Google å®˜æ–¹å¼ºçƒˆåå¯¹çš„ã€‚**\n\nç³»ç»Ÿçš„è®¾è®¡ç†å¿µæ˜¯ï¼š**ä¸è¦è¯•å›¾â€œä¿æ´»â€ï¼Œè€Œæ˜¯æ€è€ƒâ€œå¦‚ä½•åœ¨éœ€è¦æ—¶è¢«å¯é åœ°å”¤é†’â€ã€‚**\n\nå¦‚æœä½ æ­£é¢ä¸´è¿™ä¸ªé—®é¢˜ï¼Œé¦–å…ˆè¦è½¬å˜æ€è·¯ã€‚ä¸‹é¢æˆ‘å°†ä»â€œå®˜æ–¹æ­£é€”â€åˆ°â€œç‰¹æ®Šé€‚é…â€ä¸ºä½ æ¢³ç†æ‰€æœ‰ç­–ç•¥ã€‚\n\n-----\n\n### ğŸ† æ ¸å¿ƒåŸåˆ™ï¼šé€‰æ‹©æ­£ç¡®çš„â€œå·¥ä½œâ€æ–¹å¼\n\né¦–å…ˆé—®è‡ªå·±ï¼šä½ çš„â€œæœåŠ¡â€åˆ°åº•æƒ³åšä»€ä¹ˆï¼Ÿ\n\n1.  **æ˜¯å¯å»¶è¿Ÿçš„ã€ä¿è¯æ‰§è¡Œçš„ä»»åŠ¡å—ï¼Ÿ**ï¼ˆå¦‚ï¼šä¸Šä¼ æ—¥å¿—ã€åŒæ­¥æ•°æ®ï¼‰\n      * **ç­”æ¡ˆï¼šä½¿ç”¨ `WorkManager`**\n2.  **æ˜¯ç”¨æˆ·èƒ½æ„ŸçŸ¥åˆ°ã€å¿…é¡»ç«‹å³ä¸”æŒç»­è¿è¡Œçš„ä»»åŠ¡å—ï¼Ÿ**ï¼ˆå¦‚ï¼šæ’­æ”¾éŸ³ä¹ã€å¯¼èˆªï¼‰\n      * **ç­”æ¡ˆï¼šä½¿ç”¨ `Foreground Service` (å‰å°æœåŠ¡)**\n3.  **æ˜¯éœ€è¦åœ¨ç²¾ç¡®æ—¶é—´ç‚¹æ‰§è¡Œçš„ä»»åŠ¡å—ï¼Ÿ**ï¼ˆå¦‚ï¼šé—¹é’Ÿã€æ—¥å†æé†’ï¼‰\n      * **ç­”æ¡ˆï¼šä½¿ç”¨ `AlarmManager`**\n4.  **æ˜¯éœ€è¦ä»æœåŠ¡å™¨è¢«åŠ¨å”¤é†’çš„ä»»åŠ¡å—ï¼Ÿ**ï¼ˆå¦‚ï¼šIM æ¶ˆæ¯ï¼‰\n      * **ç­”æ¡ˆï¼šä½¿ç”¨ `FCM` (Firebase Cloud Messaging)**\n\n-----\n\n### 1\\. ğŸ¥‡ Google çš„é¦–é€‰æ¨èï¼šWorkManager\n\n`WorkManager` æ˜¯ Google ä¸“é—¨ç”¨æ¥å¤„ç†**å¯å»¶è¿Ÿçš„ã€ä¿è¯æ‰§è¡Œçš„**åå°ä»»åŠ¡çš„åº“ã€‚å®ƒä¼šè‡ªåŠ¨å¤„ç† Doze æ¨¡å¼ã€åº”ç”¨å¾…æœºã€å‚å•†é™åˆ¶ç­‰ï¼Œæ˜¯ç›®å‰å¤„ç†åå°ä»»åŠ¡çš„**æœ€ä½³å®è·µ**ã€‚\n\n  * **ä¼˜ç‚¹ï¼š**\n      * **ä¿è¯æ‰§è¡Œï¼š** å³ä½¿åº”ç”¨é€€å‡ºæˆ–è®¾å¤‡é‡å¯ï¼Œä»»åŠ¡ä¹Ÿä¼šåœ¨æœªæ¥æŸä¸ªæ—¶åˆ»è¢«æ‰§è¡Œã€‚\n      * **æ™ºèƒ½è°ƒåº¦ï¼š** å®ƒä¼šæ ¹æ®ç³»ç»ŸçŠ¶æ€ï¼ˆå¦‚æ˜¯å¦å¤„äº Dozeã€æ˜¯å¦æœ‰ç½‘ç»œã€æ˜¯å¦å……ç”µï¼‰æ™ºèƒ½é€‰æ‹©æ‰§è¡Œæ—¶æœºã€‚\n      * **å‘åå…¼å®¹ï¼š** å®ƒåœ¨åº•å±‚ä¼šè‡ªåŠ¨é€‰æ‹©ä½¿ç”¨ JobScheduler (API 23+) æˆ– AlarmManager+BroadcastReceiver (API \\< 23)ã€‚\n  * **é€‚ç”¨åœºæ™¯ï¼š**\n      * å®šæœŸä»æœåŠ¡å™¨åŒæ­¥æ•°æ®ã€‚\n      * ä¸Šä¼ å´©æºƒæ—¥å¿—æˆ–åˆ†ææ•°æ®ã€‚\n      * åœ¨è®¾å¤‡ç©ºé—²æ—¶å¤„ç†å›¾ç‰‡æˆ–ç¼“å­˜ã€‚\n  * **å®ƒä¸æ˜¯ä»€ä¹ˆï¼š** å®ƒä¸é€‚åˆéœ€è¦â€œç«‹å³â€æˆ–â€œæŒç»­â€è¿è¡Œçš„ä»»åŠ¡ï¼ˆæ¯”å¦‚éŸ³ä¹æ’­æ”¾ï¼‰ã€‚\n\n### 2\\. ğŸƒâ€â™‚ï¸ å¿…é¡»æŒç»­è¿è¡Œï¼šå‰å°æœåŠ¡ (Foreground Service)\n\nè¿™æ˜¯å”¯ä¸€å®˜æ–¹å…è®¸çš„ã€èƒ½é•¿æ—¶é—´åœ¨åå°è¿è¡Œå¹¶â€œä¿æ´»â€çš„æ–¹å¼ã€‚\n\n  * **æ ¸å¿ƒè¦æ±‚ï¼š** ä½ å¿…é¡»åœ¨çŠ¶æ€æ æ˜¾ç¤ºä¸€ä¸ª**å¸¸é©»é€šçŸ¥ (Notification)**ï¼Œè®©ç”¨æˆ·æ˜ç¡®çŸ¥é“ä½ çš„åº”ç”¨æ­£åœ¨åå°è¿è¡Œã€‚\n\n  * **å®ç°æ­¥éª¤ï¼š**\n\n    1.  åœ¨ Manifest ä¸­å£°æ˜æƒé™ï¼š`<uses-permission android:name=\"android.permission.FOREGROUND_SERVICE\" />`\n    2.  (Android 10+) åœ¨ Manifest ä¸­å£°æ˜æœåŠ¡ç±»å‹ï¼Œä¾‹å¦‚ï¼š\n        ```xml\n        <service ...\n            android:foregroundServiceType=\"location|mediaPlayback\" />\n        ```\n    3.  åœ¨ Service çš„ `onCreate()` æˆ– `onStartCommand()` ä¸­ï¼Œåˆ›å»ºä¸€ä¸ª Notificationï¼Œç„¶åè°ƒç”¨ `startForeground(NOTIFICATION_ID, notification)`ã€‚\n\n  * **é™åˆ¶ (Android 12+)ï¼š**\n\n      * ç³»ç»Ÿå¢åŠ äº†â€œå‰å°æœåŠ¡å¯åŠ¨é™åˆ¶â€ã€‚åº”ç”¨åœ¨åå°æ—¶ï¼ˆé™¤äº†å°‘æ•°è±å…æƒ…å†µï¼‰ï¼Œä¸èƒ½å†éšæ„å¯åŠ¨å‰å°æœåŠ¡ã€‚\n      * é€šå¸¸ï¼Œä½ éœ€è¦å…ˆç”¨ `WorkManager` æˆ– `FCM` æŠŠåº”ç”¨â€œæ‹‰åˆ°â€å‰å°ï¼ˆæˆ–è‡³å°‘æ˜¯é«˜ä¼˜å…ˆçº§çŠ¶æ€ï¼‰ï¼Œæ‰èƒ½å¯åŠ¨å‰å°æœåŠ¡ã€‚\n\n### 3\\. â° ç²¾ç¡®å”¤é†’ï¼šAlarmManager\n\nå¦‚æœä½ çš„ä»»åŠ¡å¿…é¡»åœ¨**ç²¾ç¡®çš„æ—¶é—´**æ‰§è¡Œï¼ˆä¾‹å¦‚é—¹é’Ÿï¼‰ï¼Œ`AlarmManager` æ˜¯ä½ çš„é€‰æ‹©ã€‚\n\n  * **å…³é”®æ–¹æ³•ï¼š** `setExactAndAllowWhileIdle()`\n      * è¿™ä¸ªæ–¹æ³•å¯ä»¥åœ¨ Doze æ¨¡å¼ä¸‹ç²¾ç¡®å”¤é†’è®¾å¤‡æ¥æ‰§è¡Œä½ çš„ä»»åŠ¡ã€‚\n  * **é™åˆ¶ (Android 12+)ï¼š**\n      * ä½¿ç”¨ç²¾ç¡®é—¹é’Ÿéœ€è¦å£°æ˜ `SCHEDULE_EXACT_ALARM` æƒé™ã€‚\n      * è¿™æ˜¯ä¸€ä¸ªå—é™åˆ¶çš„æƒé™ï¼ŒGoogle Play ä¼šå®¡æ ¸ä½ çš„åº”ç”¨æ˜¯å¦â€œå¿…é¡»â€ä½¿ç”¨å®ƒï¼ˆä¾‹å¦‚ï¼Œé—¹é’Ÿã€æ—¥å†åº”ç”¨å¯ä»¥ï¼Œä½†æ™®é€šåº”ç”¨ä¸è¡Œï¼‰ã€‚\n\n### 4\\. ğŸ”” å¤–éƒ¨å”¤é†’ï¼šFCM (Firebase Cloud Messaging)\n\nå¯¹äº IM èŠå¤©ã€è®¢å•é€šçŸ¥ç­‰éœ€è¦ä»æœåŠ¡å™¨å®æ—¶æ¨é€çš„åœºæ™¯ï¼Œæœ€ä½³æ–¹å¼æ˜¯ä½¿ç”¨æ¨é€æœåŠ¡ã€‚\n\n  * **é«˜ä¼˜å…ˆçº§æ¶ˆæ¯ (High-priority)ï¼š** FCM å…è®¸ä½ å‘é€é«˜ä¼˜å…ˆçº§æ¶ˆæ¯ï¼Œè¿™äº›æ¶ˆæ¯è¢«è®¾è®¡ä¸ºå¯ä»¥**å”¤é†’å¤„äº Doze æ¨¡å¼ä¸‹çš„è®¾å¤‡**ï¼Œå¹¶ç»™äºˆä½ çš„åº”ç”¨ä¸€ä¸ªçŸ­æš‚çš„æ—¶é—´çª—å£æ¥å¤„ç†æ¶ˆæ¯ï¼ˆä¾‹å¦‚æ˜¾ç¤ºé€šçŸ¥ï¼‰ã€‚\n  * **å›½å†…æ–¹æ¡ˆï¼š** åœ¨å›½å†…ï¼Œç”±äº GMS ç¼ºå¤±ï¼Œé€šå¸¸éœ€è¦é›†æˆå„å¤§å‚å•†ï¼ˆåä¸ºã€å°ç±³ã€OPPOã€Vivoï¼‰çš„ç»Ÿä¸€æ¨é€é€šé“ (SDK)ï¼ŒåŸç†ä¸ FCM ç±»ä¼¼ã€‚\n\n-----\n\n### âš ï¸ å¸¸è§çš„â€œè¯¯åŒºâ€ä¸â€œè¿‡æ—¶â€æ–¹æ³•\n\nè¿™äº›æ–¹æ³•åœ¨è€ç‰ˆæœ¬ Android ä¸Šå¯èƒ½æœ‰æ•ˆï¼Œä½†åœ¨ç°ä»£ Android ç³»ç»Ÿä¸Š**æå…¶ä¸å¯é **ã€‚\n\n  * **`onStartCommand` è¿”å› `START_STICKY`ï¼š**\n      * **è¯¯åŒºï¼š** å¾ˆå¤šäººä»¥ä¸ºè¿™èƒ½â€œä¿æ´»â€ã€‚\n      * **çœŸç›¸ï¼š** å®ƒåªæ˜¯å‘Šè¯‰ç³»ç»Ÿï¼Œå¦‚æœ Service è¢«ï¼ˆå› å†…å­˜ä¸è¶³ç­‰åŸå› ï¼‰æ€æ­»ï¼Œè¯·åœ¨æœªæ¥èµ„æºå……è¶³æ—¶â€œå°è¯•â€é‡å¯å®ƒï¼Œå¹¶ä¼ å…¥ä¸€ä¸ª `null` çš„ Intentã€‚\n      * **å®ƒä¸èƒ½ï¼š** å¯¹æŠ— Doze æ¨¡å¼ã€å¯¹æŠ—å‚å•†çš„â€œä¸€é”®æ¸…ç†â€ã€å¯¹æŠ—åå°æ‰§è¡Œé™åˆ¶ã€‚å®ƒéå¸¸â€œå¼±â€ã€‚\n  * **`WakeLock` / `WifiLock`ï¼š**\n      * **è¯¯åŒºï¼š** ä»¥ä¸ºå®ƒä»¬èƒ½â€œå”¤é†’â€æœåŠ¡ã€‚\n      * **çœŸç›¸ï¼š** å®ƒä»¬çš„ä½œç”¨æ˜¯**é˜²æ­¢** CPU æˆ– Wi-Fi *åœ¨æœåŠ¡å·²ç»åœ¨è¿è¡Œæ—¶*è¿›å…¥ä¼‘çœ ã€‚å®ƒä»¬ä¸èƒ½ç”¨æ¥å¯åŠ¨æœåŠ¡ï¼Œè€Œä¸”å¿…é¡»åœ¨ä»»åŠ¡å®Œæˆåç«‹å³ `release()`ï¼Œå¦åˆ™ä¼šé€ æˆç¾éš¾æ€§çš„ç”µé‡æ¶ˆè€—ã€‚\n  * **â€œç°è‰²/é»‘è‰²â€ä¿æ´»æ‰‹æ®µ (å¼ºçƒˆä¸æ¨è)ï¼š**\n      * **1åƒç´  Activityï¼š** åœ¨åå°å¯åŠ¨ä¸€ä¸ª 1 åƒç´ çš„é€æ˜ Activity ä¼ªè£…æˆå‰å°ã€‚åœ¨ Android 9.0+ å·²è¢«ä¸¥æ ¼é™åˆ¶ã€‚\n      * **æ’­æ”¾æ— å£°éŸ³ä¹ï¼š** ä¼ªè£…æˆéŸ³ä¹æ’­æ”¾å™¨ã€‚ä¼šè¢«ç³»ç»Ÿæ£€æµ‹åˆ°ï¼Œä¸”ä½“éªŒæå·®ã€‚\n      * **åŒè¿›ç¨‹å®ˆæŠ¤/Native è¿›ç¨‹å®ˆæŠ¤ï¼š** äº’ç›¸æ‹‰èµ·ã€‚åœ¨é«˜ç‰ˆæœ¬ç³»ç»Ÿä¸ŠåŸºæœ¬å¤±æ•ˆï¼Œä¸”æ˜¯ç³»ç»Ÿæ‰“å‡»çš„é‡ç‚¹ã€‚\n\n> **è­¦å‘Šï¼š** ä½¿ç”¨è¿™äº›â€œé»‘ç§‘æŠ€â€ä¼šä¸¥é‡æ¶ˆè€—ç”¨æˆ·ç”µé‡ï¼Œå¯¼è‡´åº”ç”¨åœ¨åº”ç”¨å•†åº—è¢«ä¸‹æ¶ï¼Œæˆ–è¢«ç³»ç»Ÿ/å‚å•†æ ‡è®°ä¸ºâ€œè€—ç”µåº”ç”¨â€å¹¶è¢«å¼ºè¡Œæ€æ­»ã€‚\n\n-----\n\n### ğŸ‘¹ ç»ˆææŒ‘æˆ˜ï¼šå›½äº§å‚å•†çš„â€œé­”æ”¹â€ (OEMs)\n\nå³ä½¿ä½ éµå¾ªäº† Google çš„æ‰€æœ‰è§„èŒƒï¼ˆä½¿ç”¨äº† Foreground Serviceï¼‰ï¼Œåœ¨åä¸ºã€å°ç±³ã€OPPOã€Vivo ç­‰è®¾å¤‡ä¸Šï¼Œä½ çš„åº”ç”¨ä¾ç„¶å¯èƒ½è¢«â€œç”µæ± ç®¡å®¶â€æˆ–â€œä¸€é”®æ¸…ç†â€å¼ºè¡Œæ€æ­»ã€‚\n\nè¿™æ˜¯ Android ç¢ç‰‡åŒ–å¸¦æ¥çš„æœ€å¤§é—®é¢˜ã€‚\n\n  * **å”¯ä¸€çš„â€œè§£å†³æ–¹æ¡ˆâ€ï¼šå¼•å¯¼ç”¨æˆ·åŠ ç™½åå•**\n      * ä½ æ— æ³•é€šè¿‡ä»£ç å¯¹æŠ—å‚å•†çš„ç³»ç»Ÿçº§é™åˆ¶ã€‚\n      * ä½ å”¯ä¸€èƒ½åšçš„ï¼Œæ˜¯åœ¨åº”ç”¨å†…çš„åˆé€‚æ—¶æœºï¼ˆä¾‹å¦‚ç”¨æˆ·å¼€å¯äº†æŸä¸ªéœ€è¦åå°è¿è¡Œçš„åŠŸèƒ½æ—¶ï¼‰ï¼Œå¼¹çª—**ç¤¼è²Œåœ°å¼•å¯¼ç”¨æˆ·**å»â€œè®¾ç½®â€ä¸­ï¼Œä¸ºä½ çš„åº”ç”¨å¼€å¯â€œå…è®¸åå°è¿è¡Œâ€ã€â€œå¿½ç•¥ç”µæ± ä¼˜åŒ–â€æˆ–â€œåº”ç”¨å¯åŠ¨ç®¡ç†â€é‡Œçš„â€œå…è®¸è‡ªå¯åŠ¨/å…³è”å¯åŠ¨â€ç­‰æƒé™ã€‚\n      * ä½ å¯ä»¥æ£€æµ‹å‚å•† ROMï¼Œç„¶åè·³è½¬åˆ°å¯¹åº”çš„è®¾ç½®ç•Œé¢ï¼ˆä½†è¿™éœ€è¦å¤§é‡é€‚é…å·¥ä½œï¼‰ã€‚\n\n### æ€»ç»“å¯¹æ¯”\n\n| åœºæ™¯ | æ¨èæ–¹æ¡ˆ | å¤‡æ³¨ |\n| :--- | :--- | :--- |\n| å¯å»¶è¿Ÿçš„ã€ä¿è¯æ‰§è¡Œçš„ä»»åŠ¡ | `WorkManager` | **Google é¦–é€‰**ï¼Œæ™ºèƒ½å¤„ç† Doze å’Œé™åˆ¶ |\n| ç”¨æˆ·æ„ŸçŸ¥çš„é•¿æ—¶é—´ä»»åŠ¡ | `Foreground Service` | å¿…é¡»æ˜¾ç¤ºå¸¸é©»é€šçŸ¥æ  |\n| ç²¾ç¡®çš„å®šæ—¶ä»»åŠ¡ï¼ˆå¦‚é—¹é’Ÿï¼‰ | `AlarmManager` | (Android 12+) éœ€è¦ `SCHEDULE_EXACT_ALARM` æƒé™ |\n| æ¥æ”¶æœåŠ¡å™¨æ¨é€ï¼ˆå¦‚ IMï¼‰ | `FCM` (é«˜ä¼˜å…ˆçº§) | ä¾èµ– Google æˆ–å‚å•†æ¨é€é€šé“ |\n| Service æ„å¤–è¢«æ€åå°è¯•é‡å¯ | `START_STICKY` | éå¸¸ä¸å¯é ï¼Œä¸èƒ½å¯¹æŠ— Doze |\n| é€‚é…å›½äº§å‚å•† | å¼•å¯¼ç”¨æˆ·è®¾ç½®ç™½åå• | ç°å®ä¸­å¿…é¡»åšçš„â€œè„æ´»â€ |\n\n-----\n\nä¸ºäº†ç»™ä½ æ›´ç²¾ç¡®çš„å»ºè®®ï¼Œ**ä½ èƒ½å¦æè¿°ä¸€ä¸‹ä½ çš„æœåŠ¡å…·ä½“æ˜¯æƒ³åšä»€ä¹ˆå—ï¼Ÿ**ï¼ˆæ¯”å¦‚ï¼šæ˜¯æ•°æ®åŒæ­¥ã€IM æ¶ˆæ¯ã€è¿˜æ˜¯è®¡æ­¥ï¼Ÿï¼‰"
    },
    {
      "question": "ä½ ç°åœ¨å¼€å‘ä¸€ä¸ªå¤§å‹çš„app ï¼Œ ä½ ä¼šæ€ä¹ˆåš ï¼Ÿ ",
      "answer": "",
      "detail": "è¿™æ˜¯ä¸€ä¸ªéå¸¸æ£’çš„é—®é¢˜ï¼Œå®ƒå·²ç»è¶…è¶Šäº†â€œå†™ä»£ç â€çš„èŒƒç•´ï¼Œè¿›å…¥äº†â€œ**è½¯ä»¶å·¥ç¨‹**â€å’Œâ€œ**æ¶æ„**â€çš„é¢†åŸŸã€‚\n\nå¼€å‘ä¸€ä¸ªâ€œå¤§å‹ Appâ€å’Œå¼€å‘ä¸€ä¸ªâ€œå°å‹ Appâ€çš„æ€è·¯æ˜¯å®Œå…¨ä¸åŒçš„ã€‚å°å‹ App å…³å¿ƒçš„æ˜¯â€œå¿«é€Ÿå®ç°åŠŸèƒ½â€ï¼Œè€Œå¤§å‹ App å…³å¿ƒçš„æ˜¯â€œ**å¯æŒç»­æ€§ã€å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§**â€ã€‚\n\nå¦‚æœæˆ‘ç°åœ¨è¦è´Ÿè´£ä¸€ä¸ªå¤§å‹ App çš„å¼€å‘ï¼Œæˆ‘ä¼šä»ä»¥ä¸‹å‡ ä¸ªå±‚é¢æ¥æ„å»ºå®ƒã€‚è¿™ä¸æ˜¯ä¸€ä¸ªçº¿æ€§çš„æ­¥éª¤ï¼Œè€Œæ˜¯å‡ ä¸ªå¹¶è¡Œæ¨è¿›çš„æ ¸å¿ƒæ”¯æŸ±ã€‚\n\n---\n\n### 1. ğŸ—ï¸ æ”¯æŸ±ä¸€ï¼šæ¶æ„è®¾è®¡ (The Blueprint)\n\nè¿™æ˜¯å¤§å‹ App çš„åŸºçŸ³ã€‚å¦‚æœè¿™é‡Œåšé”™äº†ï¼Œåé¢æ— è®ºå¤šåŠªåŠ›ï¼Œéƒ½ä¼šäº‹å€åŠŸåŠã€‚ç›®æ ‡æ˜¯ï¼š**é«˜å†…èšã€ä½è€¦åˆã€æ˜“æµ‹è¯•ã€æ˜“æ‰©å±•ã€‚**\n\n* **é€‰æ‹©ä¸€ä¸ªæ¸…æ™°çš„æ¶æ„æ¨¡å¼ï¼š**\n    * **MVVM (Model-View-ViewModel)**ï¼šè¿™æ˜¯ç›®å‰ Android å’Œ iOS å¹³å°çš„ä¸»æµé€‰æ‹©ï¼ˆå°¤å…¶é…åˆ Jetpack Compose / SwiftUIï¼‰ã€‚å®ƒèƒ½å¾ˆå¥½åœ°åˆ†ç¦»ç•Œé¢ (View)ã€ä¸šåŠ¡é€»è¾‘ (ViewModel) å’Œæ•°æ® (Model)ã€‚\n    * **Clean Architecture (æ´å‡€æ¶æ„)**ï¼šæˆ‘ä¼šåœ¨æ­¤åŸºç¡€ä¸Šï¼Œå¼•å…¥â€œæ´å‡€æ¶æ„â€çš„æ€æƒ³ã€‚å°† App ä¸¥æ ¼åˆ†ä¸ºä¸‰å±‚ï¼š\n        1.  **UI å±‚ (Presentation Layer)ï¼š** åªè´Ÿè´£å±•ç¤ºæ•°æ®å’Œå‘é€ç”¨æˆ·äº‹ä»¶ (View/ViewModel)ã€‚\n        2.  **é¢†åŸŸå±‚ (Domain Layer)ï¼š** åŒ…å«æ ¸å¿ƒä¸šåŠ¡è§„åˆ™ (UseCases/Interactors)ã€‚è¿™æ˜¯ App çš„â€œå¤§è„‘â€ï¼Œå®ƒä¸ä¾èµ–ä»»ä½• UI å’Œæ•°æ®å®ç°ã€‚\n        3.  **æ•°æ®å±‚ (Data Layer)ï¼š** è´Ÿè´£æ•°æ®çš„è·å–å’Œå­˜å‚¨ (Repository)ã€‚å®ƒå†³å®šæ˜¯ä»ç½‘ç»œ API è¿˜æ˜¯æœ¬åœ°æ•°æ®åº“ (Cache) å–æ•°æ®ã€‚\n\n* **å®ç°â€œç»„ä»¶åŒ–â€ (Modularity)ï¼š**\n    * **ç»å¯¹ä¸åšâ€œå•ä½“ Appâ€ (Monolithic App)ã€‚**\n    * æˆ‘ä¼šå°† App æŒ‰ç…§ä¸šåŠ¡åŠŸèƒ½æ‹†åˆ†æˆå¤šä¸ªç‹¬ç«‹çš„æ¨¡å— (Module/Library)ã€‚ä¾‹å¦‚ï¼š`:app` (ä¸»å£³), `:feature_login` (ç™»å½•), `:feature_home` (é¦–é¡µ), `:feature_search` (æœç´¢), `:common_ui` (é€šç”¨ UI), `:common_network` (ç½‘ç»œåº“)ã€‚\n    * **å¥½å¤„ï¼š**\n        1.  **å›¢é˜Ÿåä½œï¼š** ä¸åŒå›¢é˜Ÿå¯ä»¥å¹¶è¡Œå¼€å‘ä¸åŒæ¨¡å—ï¼Œäº’ä¸å¹²æ‰°ã€‚\n        2.  **ç¼–è¯‘é€Ÿåº¦ï¼š** åªéœ€ç¼–è¯‘ä¿®æ”¹è¿‡çš„æ¨¡å—ï¼Œè€Œä¸æ˜¯æ•´ä¸ª Appã€‚\n        3.  **å¤ç”¨ä¸éš”ç¦»ï¼š** åŠŸèƒ½å¯ä»¥è¢«å¤ç”¨ï¼Œæ¨¡å—é—´çš„ç•Œé™æ¸…æ™°ã€‚\n\n* **ä¾èµ–æ³¨å…¥ (Dependency Injection, DI)ï¼š**\n    * è¿™æ˜¯å¿…é¡»çš„ã€‚åœ¨å¤§å‹é¡¹ç›®ä¸­ï¼Œä½ ä¸èƒ½æ‰‹åŠ¨å» `new` å¯¹è±¡ã€‚\n    * æˆ‘ä¼šä½¿ç”¨ **Hilt** (Android) æˆ–ç±»ä¼¼çš„æ¡†æ¶æ¥ç®¡ç†æ‰€æœ‰ä¾èµ–ã€‚\n    * **å¥½å¤„ï¼š** è®©ç»„ä»¶ï¼ˆå¦‚ ViewModelã€Repositoryï¼‰åªå…³å¿ƒâ€œæˆ‘éœ€è¦ä»€ä¹ˆâ€ï¼Œè€Œä¸å…³å¿ƒâ€œå®ƒä»å“ªé‡Œæ¥ï¼Œå¦‚ä½•åˆ›å»ºâ€ï¼Œæå¤§æ–¹ä¾¿äº†å•å…ƒæµ‹è¯•å’Œæ¨¡å—æ›¿æ¢ã€‚\n\n---\n\n### 2. âš™ï¸ æ”¯æŸ±äºŒï¼šæŠ€æœ¯æ ˆä¸åŸºç¡€å»ºè®¾\n\nå¤§å‹ App éœ€è¦åšå®çš„åŸºç¡€è®¾æ–½ï¼Œè€Œä¸æ˜¯â€œä¸´æ—¶é€ è½®å­â€ã€‚\n\n* **ç»Ÿä¸€çš„æŠ€æœ¯é€‰å‹ (Tech Stack)ï¼š**\n    * **è¯­è¨€ï¼š** 100% **Kotlin** (Android) / **Swift** (iOS)ã€‚\n    * **UIï¼š** ä¼˜å…ˆé‡‡ç”¨å£°æ˜å¼ UI æ¡†æ¶ï¼š**Jetpack Compose** (Android) å’Œ **SwiftUI** (iOS)ã€‚è¿™ä»£è¡¨äº†æœªæ¥ï¼Œèƒ½æå¤§æå‡å¼€å‘æ•ˆç‡å’Œ UI è¡¨ç°åŠ›ã€‚\n    * **å¼‚æ­¥ï¼š** å…¨é¢æ‹¥æŠ±**åç¨‹ (Coroutines)** (Android) / **Swift Concurrency (async/await)** (iOS)ã€‚\n    * **ç½‘ç»œï¼š** Retrofit + OkHttp (Android) / Alamofire (iOS)ã€‚\n    * **æ•°æ®åº“ï¼š** Room (Android) / CoreData or Realm (iOS)ã€‚\n    * **å¯¼èˆªï¼š** Jetpack Navigation (Android) / åŸç”Ÿ Navigation (iOS)ã€‚\n\n* **æ„å»ºä¸€ä¸ªå¼ºå¤§çš„ `:common` æˆ– `:core` æ¨¡å—ï¼š**\n    * è¿™é‡Œä¼šå°è£…æ‰€æœ‰ä¸šåŠ¡æ¨¡å—éƒ½éœ€è¦çš„åŸºç¡€èƒ½åŠ›ï¼Œä¾‹å¦‚ï¼š\n        * ç½‘ç»œè¯·æ±‚åŸºç±»å’Œé”™è¯¯å¤„ç†\n        * ç»Ÿä¸€çš„æ—¥å¿—ç³»ç»Ÿ\n        * æ€§èƒ½ç›‘æ§å’Œå´©æºƒä¸ŠæŠ¥ (Firebase, Sentry)\n        * æ•°æ®åˆ†æåŸ‹ç‚¹ SDK\n        * æœ¬åœ°ç¼“å­˜ç­–ç•¥ (DataStore/MMKV)\n\n---\n\n### 3. ğŸ”„ æ”¯æŸ±ä¸‰ï¼šå¼€å‘æµç¨‹ä¸åä½œ (CI/CD)\n\nå¤§å‹ App çš„å¼€å‘æ˜¯å›¢é˜Ÿè¿åŠ¨ï¼Œå¿…é¡»æœ‰ä¸¥æ ¼çš„æµç¨‹å’Œè‡ªåŠ¨åŒ–å·¥å…·ã€‚\n\n* **ç‰ˆæœ¬æ§åˆ¶ (Git)ï¼š**\n    * ä½¿ç”¨ **GitFlow** æˆ–æ›´ç°ä»£çš„ **Trunk-Based Development** (ä¸»å¹²å¼€å‘) ç­–ç•¥ã€‚\n    * **ä¸¥æ ¼çš„ä»£ç å®¡æŸ¥ (Code Review)ï¼š** ä»»ä½•ä»£ç ï¼ˆå³ä½¿æ˜¯ Bug ä¿®å¤ï¼‰éƒ½å¿…é¡»ç»è¿‡è‡³å°‘ä¸€ä¸ªå…¶ä»–å¼€å‘è€…çš„å®¡æŸ¥ (Pull Request) æ‰èƒ½åˆå¹¶ã€‚\n\n* **CI/CD (æŒç»­é›†æˆ/æŒç»­éƒ¨ç½²)ï¼š**\n    * è¿™æ˜¯â€œå¤§å‹ Appâ€çš„å‘½è„‰ã€‚æˆ‘ä¼šä½¿ç”¨ **GitHub Actions**ã€**GitLab CI** æˆ– **Jenkins** æ­å»ºè‡ªåŠ¨åŒ–æµæ°´çº¿ã€‚\n    * **æ¯æ¬¡æäº¤ (Push) è‡ªåŠ¨è§¦å‘ï¼š**\n        1.  **ç¼–è¯‘ (Build)ï¼š** ç¡®ä¿ä»£ç èƒ½è·‘é€šã€‚\n        2.  **Linter (é™æ€æ£€æŸ¥)ï¼š** è‡ªåŠ¨æ£€æŸ¥ä»£ç é£æ ¼æ˜¯å¦ç»Ÿä¸€ã€‚\n        3.  **è¿è¡Œå•å…ƒæµ‹è¯• (Unit Tests)ï¼š** ç¡®ä¿æ ¸å¿ƒé€»è¾‘æ²¡æœ‰è¢«ç ´åã€‚\n    * **æ¯æ¬¡åˆå¹¶åˆ°ä¸»å¹² (main/develop) è‡ªåŠ¨è§¦å‘ï¼š**\n        1.  è¿è¡Œæ‰€æœ‰æµ‹è¯•ï¼ˆåŒ…æ‹¬ UI æµ‹è¯•ï¼‰ã€‚\n        2.  è‡ªåŠ¨æ‰“åŒ… (Build APK/IPA)ã€‚\n        3.  è‡ªåŠ¨å‘å¸ƒåˆ°å†…éƒ¨æµ‹è¯•å¹³å° (å¦‚ Firebase App Distribution æˆ–è’²å…¬è‹±)ã€‚\n\n* **ç»Ÿä¸€çš„ç¼–ç è§„èŒƒï¼š**\n    * åˆ¶å®šä¸€ä»½ä¸¥æ ¼çš„ã€Šç¼–ç è§„èŒƒæ–‡æ¡£ã€‹ï¼Œå¹¶ä½¿ç”¨ **Linters** (å¦‚ Ktlint) å¼ºåˆ¶æ‰§è¡Œï¼Œä¸ç¬¦åˆè§„èŒƒçš„ä»£ç åœ¨ CI é˜¶æ®µå°±ä¼šè¢«æ‹’ç»ã€‚\n\n---\n\n### 4. ğŸ§ª æ”¯æŸ±å››ï¼šè´¨é‡ä¸ç¨³å®šæ€§\n\nå¤§å‹ App çš„ç”¨æˆ·åŸºæ•°å¤§ï¼Œä»»ä½•ä¸€ä¸ªå° Bug éƒ½å¯èƒ½è¢«æ”¾å¤§ã€‚\n\n* **åˆ†å±‚çš„æµ‹è¯•ç­–ç•¥ï¼ˆæµ‹è¯•é‡‘å­—å¡”ï¼‰ï¼š**\n    1.  **å•å…ƒæµ‹è¯• (Unit Tests) (å æ¯” 70%)ï¼š**\n        * è¿™æ˜¯é‡ç‚¹ã€‚æµ‹è¯• ViewModel çš„é€»è¾‘ã€UseCase çš„ä¸šåŠ¡è§„åˆ™ã€Repository çš„æ•°æ®å¤„ç†ã€‚\n        * ä½¿ç”¨ Mocking æ¡†æ¶ (å¦‚ MockK, Mockito) éš”ç¦»ä¾èµ–ã€‚\n    2.  **é›†æˆæµ‹è¯• (Integration Tests) (å æ¯” 20%)ï¼š**\n        * æµ‹è¯•æ¨¡å—é—´çš„äº¤äº’ï¼Œä¾‹å¦‚ï¼šView -> ViewModel -> Repository -> æ•°æ®åº“ã€‚\n    3.  **UI/E2E æµ‹è¯• (End-to-End Tests) (å æ¯” 10%)ï¼š**\n        * ä½¿ç”¨ Espresso (Android) / XCUITest (iOS) æ¨¡æ‹ŸçœŸå®ç”¨æˆ·æ“ä½œï¼ˆç‚¹å‡»ã€æ»‘åŠ¨ã€è¾“å…¥ï¼‰ã€‚\n        * è¿™äº›æµ‹è¯•å¾ˆæ…¢ä¸”ä¸ç¨³å®šï¼Œä½†å¯¹äºæ ¸å¿ƒæµç¨‹ï¼ˆå¦‚â€œç™»å½•â€ã€â€œæ”¯ä»˜â€ï¼‰æ˜¯å¿…é¡»çš„ã€‚\n\n* **å¯è§‚æµ‹æ€§ (Observability)ï¼š**\n    * **å´©æºƒç›‘æ§ï¼š** å¿…é¡»æ¥å…¥å¦‚ **Firebase Crashlytics** æˆ– **Sentry**ï¼Œç¡®ä¿ä»»ä½•çº¿ä¸Šå´©æºƒéƒ½èƒ½åœ¨ç¬¬ä¸€æ—¶é—´è¢«æ”¶é›†ã€åˆ†ç±»å’Œå‘Šè­¦ã€‚\n    * **æ€§èƒ½ç›‘æ§ï¼š** ç›‘æ§ ANRã€å†·å¯åŠ¨æ—¶é—´ã€é¡µé¢åŠ è½½é€Ÿåº¦ (TTI)ã€‚\n    * **æ—¥å¿—ä¸ŠæŠ¥ï¼š** å»ºç«‹ä¸€å¥—è¿œç¨‹æ—¥å¿—ç³»ç»Ÿï¼Œå½“ç”¨æˆ·åé¦ˆé—®é¢˜æ—¶ï¼Œå¯ä»¥æ‹‰å–åˆ°è¯¥ç”¨æˆ·çš„å…³é”®æ“ä½œæ—¥å¿—ã€‚\n\n---\n\n### 5. ğŸš€ æ”¯æŸ±äº”ï¼šè¿ç»´ä¸åŠ¨æ€åŒ–\n\nå¤§å‹ App éœ€è¦å¿«é€Ÿå“åº”å¸‚åœºå˜åŒ–ï¼Œè€Œä¸æ˜¯æ¯æ¬¡éƒ½ç­‰â€œå‘ç‰ˆâ€ã€‚\n\n* **åŠŸèƒ½å¼€å…³ (Feature Flags / Feature Toggles)ï¼š**\n    * è¿™æ˜¯å¤§å‹ App çš„å¿…å¤‡ç¥å™¨ã€‚\n    * æ‰€æœ‰æ–°åŠŸèƒ½ï¼ˆå°¤å…¶æ˜¯å¤§å‹åŠŸèƒ½ï¼‰éƒ½å¿…é¡»ç”¨â€œå¼€å…³â€åŒ…èµ·æ¥ã€‚\n    * **å¥½å¤„ï¼š**\n        1.  **ç°åº¦å‘å¸ƒ (A/B Testing)ï¼š** å¯ä»¥åªå¯¹ 1% çš„ç”¨æˆ·å¼€å¯æ–°åŠŸèƒ½ï¼Œè§‚å¯Ÿæ•°æ®ï¼Œæ²¡é—®é¢˜å†å…¨é‡å¼€æ”¾ã€‚\n        2.  **ç´§æ€¥å›æ»šï¼š** å¦‚æœæ–°åŠŸèƒ½ä¸Šçº¿åå‘ç°ä¸¥é‡ Bugï¼Œä¸éœ€è¦é‡æ–°å‘ç‰ˆï¼Œåªéœ€åœ¨æœåŠ¡å™¨ä¸Šå…³é—­å¼€å…³ï¼Œæ‰€æœ‰ç”¨æˆ·çš„è¯¥åŠŸèƒ½ç«‹åˆ»ä¸‹çº¿ã€‚\n\n* **åŠ¨æ€åŒ–/çƒ­ä¿®å¤èƒ½åŠ›ï¼š**\n    * ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰å¯¹äº App çš„æ ¸å¿ƒæµç¨‹ï¼Œé¢„ç•™ä¸€äº›åŠ¨æ€åŒ–èƒ½åŠ›ï¼ˆä¾‹å¦‚é€šè¿‡ä¸‹å‘ JSON æ¥åŠ¨æ€æ¸²æŸ“æŸäº›ç®€å•çš„æ´»åŠ¨é¡µé¢ï¼‰ï¼Œä»¥åº”å¯¹ç´§æ€¥çš„è¿è¥éœ€æ±‚ã€‚\n    * ï¼ˆè°¨æ…ä½¿ç”¨ï¼‰é›†æˆçƒ­ä¿®å¤æ¡†æ¶ï¼ˆå¦‚ Tinkerï¼‰ï¼Œä½œä¸ºä¿®å¤é‡å¤§çº¿ä¸Š Bug çš„æœ€åæ‰‹æ®µã€‚\n\n### æ€»ç»“\n\nå¼€å‘ä¸€ä¸ªå¤§å‹ Appï¼Œæˆ‘çš„æ ¸å¿ƒæ€è·¯æ˜¯ï¼š\n\n1.  **åœ¨ç¬¬ä¸€å¤©å°±å‡è®¾å®ƒæœªæ¥ä¼šå˜å¾—æ— æ¯”å¤æ‚**ï¼Œå› æ­¤å¿…é¡»é‡‡ç”¨**ç»„ä»¶åŒ–**å’Œ**æ´å‡€æ¶æ„**ã€‚\n2.  **æåº¦ä¾èµ–è‡ªåŠ¨åŒ–**ï¼Œé€šè¿‡ **CI/CD** å’Œ**è‡ªåŠ¨åŒ–æµ‹è¯•**æ¥ä¿è¯è´¨é‡å’Œæ•ˆç‡ã€‚\n3.  **è´¨é‡å’Œç¨³å®šå‹å€’ä¸€åˆ‡**ï¼Œå»ºç«‹å®Œå–„çš„**æµ‹è¯•**å’Œ**ç›‘æ§**ä½“ç³»ã€‚\n4.  **ä¸ºâ€œå˜åŒ–â€è€Œè®¾è®¡**ï¼Œé€šè¿‡**åŠŸèƒ½å¼€å…³**å’ŒåŠ¨æ€åŒ–æ¥çµæ´»åº”å¯¹éœ€æ±‚ã€‚\n\n---\n\nè¿™ä¸ªè¯é¢˜éå¸¸å¤§ï¼Œä½ æ˜¯å¦å¯¹å…¶ä¸­æŸä¸€ä¸ªç‰¹å®šéƒ¨åˆ†ï¼ˆä¾‹å¦‚â€œç»„ä»¶åŒ–â€å¦‚ä½•è½åœ°ï¼Œæˆ–è€…â€œCI/CDâ€æµç¨‹ï¼‰ç‰¹åˆ«æ„Ÿå…´è¶£ï¼Ÿ"
    },
    {
      "question": "åœ¨appå¼€å‘ä¸­ï¼Œ ä½ ä¼šåšé‚£äº›å°è£… ï¼Ÿactivity æ‰©å±•ï¼Ÿ baseivewmodle ? basefragment ?è¿˜æœ‰ä»€ä¹ˆ ï¼Ÿ",
      "answer": "",
      "detail": "è¿™æ˜¯ä¸€ä¸ªéå¸¸æ£’çš„é—®é¢˜ï¼Œä¹Ÿæ˜¯é¢è¯•ä¸­è€ƒå¯Ÿä¸€ä¸ªå¼€å‘è€…æ˜¯å¦å…·å¤‡â€œæ¶æ„æ€ç»´â€å’Œâ€œå·¥ç¨‹åŒ–èƒ½åŠ›â€çš„æ ¸å¿ƒã€‚\n\nä½ æåˆ°çš„ `Activity æ‰©å±•`ã€`BaseViewModel`ã€`BaseFragment` éƒ½æ˜¯éå¸¸å¥½çš„å°è£…å®è·µã€‚**å°è£…çš„æœ¬è´¨ï¼Œå°±æ˜¯æŠŠâ€œé‡å¤çš„æ¨¡æ¿ä»£ç â€æŠ½ç¦»å‡ºæ¥ï¼Œè®©ä¸šåŠ¡ä»£ç åªå…³å¿ƒâ€œå®ƒå…·ä½“è¦åšä»€ä¹ˆâ€ã€‚**\n\nåœ¨æˆ‘çš„å®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä¼šä»ä»¥ä¸‹å‡ ä¸ªå±‚é¢è¿›è¡Œå°è£…ï¼Œä½ æåˆ°çš„å‡ ç‚¹æˆ‘ä¹Ÿä¼šåŒ…å«åœ¨å†…ï¼Œå¹¶åšä¸€äº›æ‰©å±•ï¼š\n\n### ğŸš€ æˆ‘çš„æ ¸å¿ƒå°è£…â€œä¸‰æ¿æ–§â€\n\næˆ‘ä¸»è¦ä¼šä» **UIå±‚**ã€**ViewModelå±‚** å’Œ **Dataå±‚** è¿™ä¸‰ä¸ªå±‚é¢å»è€ƒè™‘å°è£…ã€‚\n\n-----\n\n#### 1\\. UI å±‚å°è£…ï¼ˆView Layerï¼‰\n\nè¿™ä¸€å±‚æ˜¯ç”¨æˆ·èƒ½çœ‹åˆ°çš„ï¼Œä¹Ÿæ˜¯æ¨¡æ¿ä»£ç æœ€å¤šçš„åœ°æ–¹ã€‚\n\n  * **âœ… æ‰©å±•å‡½æ•° (Extensions) - (ä½ çš„æè®®ï¼Œéå¸¸æ£’ï¼)**\n    è¿™æ˜¯æˆ‘**é¦–é€‰**çš„å°è£…æ–¹å¼ï¼Œå› ä¸ºå®ƒæ¯” `Base` ç±»æ›´çµæ´»ï¼ˆç»„åˆä¼˜äºç»§æ‰¿ï¼‰ã€‚\n\n      * **`ViewExtensions.kt`**:\n          * `fun View.visible()` / `fun View.gone()` / `fun View.invisible()`: æ›¿ä»£ `view.visibility = View.VISIBLE`ã€‚\n          * `fun View.setVisible(isTrue: Boolean)`: æ›¿ä»£ `if (isTrue) ... else ...`ã€‚\n          * `fun View.onClickDebounced(delay: Long = 600L, action: (View) -> Unit)`: **ï¼ˆé«˜é¢‘å®ç”¨ï¼‰** å°è£…ä¸€ä¸ªâ€œé˜²æŠ–â€çš„ç‚¹å‡»äº‹ä»¶ï¼Œé˜²æ­¢ç”¨æˆ·ç–¯ç‹‚è¿ç‚¹ã€‚\n      * **`ContextExtensions.kt`**:\n          * `fun Context.showToast(message: String)`: ç»Ÿä¸€çš„ Toast è°ƒç”¨ã€‚\n          * `fun Context.dpToPx(dp: Int): Int`: å°è£… dp è½¬ px çš„æ¨¡æ¿ä»£ç ã€‚\n      * **`ImageViewExtensions.kt`**:\n          * `fun ImageView.loadImage(url: String?, placeholder: Int = ...)`: å°è£…ä½ è‡ªå·±çš„å›¾ç‰‡åŠ è½½é€»è¾‘ï¼ˆå¦‚ Glide/Coilï¼‰ï¼Œè¿™æ ·ä¸šåŠ¡ä»£ç å°±ä¸éœ€è¦å…³å¿ƒå…·ä½“ç”¨çš„æ˜¯å“ªä¸ªåº“ã€‚\n\n  * **âœ… `BaseActivity` / `BaseFragment` - (ä½ çš„æè®®)**\n    è™½ç„¶ç°åœ¨æ¨èç”¨æ‰©å±•å‡½æ•°ï¼Œä½† `Base` ç±»åœ¨ç»Ÿä¸€å¤„ç†â€œ**å¿…é¡»è¦åšçš„äº‹**â€æ—¶ä¾ç„¶å¾ˆæœ‰ç”¨ã€‚\n\n      * **å°è£… ViewBinding çš„åˆå§‹åŒ–**ï¼šå°è£…ä¸€ä¸ªæŠ½è±¡æ–¹æ³• `initViewBinding()`ï¼Œå­ç±»åªéœ€è¦ä¸€è¡Œä»£ç å°±èƒ½å®Œæˆ `binding` çš„åˆå§‹åŒ–ï¼Œéå¸¸å¹²å‡€ã€‚\n      * **å°è£… Hilt æ³¨å…¥**ï¼š`@AndroidEntryPoint` è¿™ä¸ªæ³¨è§£ã€‚\n      * **å°è£… Toolbar**ï¼šæä¾›ä¸€ä¸ª `setupToolbar(title: String)` æ–¹æ³•ï¼Œå¿«é€Ÿé…ç½®æ ‡é¢˜æ ã€‚\n      * **å°è£…ç»Ÿä¸€çš„ Loading/Error å¼¹çª—**ï¼šæä¾› `showLoading()` å’Œ `showError(message: String)` æ–¹æ³•ã€‚\n\n  * **ğŸ”§ è‡ªå®šä¹‰ç»„åˆæ§ä»¶ (Custom Views)**\n    å½“ä¸€ä¸ªâ€œç»„ä»¶â€ï¼ˆæ¯”å¦‚å›¾æ ‡+æ–‡å­—+å¼€å…³ï¼‰åœ¨ App ä¸­**å¤ç”¨è¶…è¿‡ 3 æ¬¡**æ—¶ï¼Œæˆ‘å°±ä¼šæŠŠå®ƒå°è£…æˆä¸€ä¸ªè‡ªå®šä¹‰ Viewã€‚\n\n      * **`EmptyStateView`**: ä¸€ä¸ªç»Ÿä¸€çš„â€œç©ºçŠ¶æ€/é”™è¯¯çŠ¶æ€â€è§†å›¾ï¼ŒåŒ…å«ä¸€ä¸ªå›¾æ ‡ã€ä¸€æ®µæè¿°å’Œä¸€ä¸ªâ€œé‡è¯•â€æŒ‰é’®ã€‚\n      * **`SettingItemView`**: â€œè®¾ç½®â€é¡µå¸¸ç”¨çš„ï¼Œå·¦è¾¹ä¸€ä¸ªæ ‡é¢˜ï¼Œå³è¾¹ä¸€ä¸ªå¼€å…³æˆ–ç®­å¤´ã€‚\n\n-----\n\n#### 2\\. ViewModel å±‚å°è£…ï¼ˆBusiness Logic Layerï¼‰\n\n  * **âœ… `BaseViewModel` - (ä½ çš„æè®®ï¼Œç°ä»£æ¶æ„çš„æ ¸å¿ƒ)**\n    è¿™æ˜¯**å¿…é¡»**è¦å°è£…çš„ã€‚`ViewModel` è´Ÿè´£æš´éœ²â€œçŠ¶æ€â€ï¼Œ`BaseViewModel` å°±è´Ÿè´£å°è£…â€œçŠ¶æ€â€çš„æ¨¡æ¿ã€‚\n      * **å°è£…ç»Ÿä¸€çš„ `UiState`**ï¼š\n        ```kotlin\n        // å®šä¹‰ä¸€ä¸ªé€šç”¨çš„çŠ¶æ€ç±»\n        sealed class UiState<out T> {\n            object Loading : UiState<Nothing>()\n            data class Success<T>(val data: T) : UiState<T>()\n            data class Error(val message: String) : UiState<Nothing>()\n        }\n\n        // åœ¨ BaseViewModel ä¸­\n        abstract class BaseViewModel : ViewModel() {\n            // å­ç±»å¯ä»¥ä¿®æ”¹ _uiState\n            protected val _uiState = MutableStateFlow<UiState<MyDataType>>(UiState.Loading)\n            // UIï¼ˆActivityï¼‰åªèƒ½è®¢é˜…è¿™ä¸ªåªè¯»çš„ uiState\n            val uiState: StateFlow<UiState<MyDataType>> = _uiState.asStateFlow()\n        }\n        ```\n      * **å°è£…â€œä¸€æ¬¡æ€§äº‹ä»¶â€ (Single-Time Event)**ï¼š\n        æ¯”å¦‚ Toastã€å¯¼èˆª (Navigation)ã€‚æˆ‘ä¼šç”¨ `SharedFlow` æˆ– `Channel` å°è£…åœ¨ `BaseViewModel` ä¸­ï¼Œæä¾›ä¸€ä¸ª `sendEvent(event: MyEvent)` æ–¹æ³•ï¼ŒUI å±‚å¯ä»¥ä¸€æ¬¡æ€§è®¢é˜…å¹¶æ¶ˆè´¹å®ƒã€‚\n\n-----\n\n#### 3\\. Data å±‚å°è£…ï¼ˆData Layerï¼‰\n\nè¿™æ˜¯**æœ€é‡è¦ä½†æœ€å®¹æ˜“è¢«å¿½è§†**çš„å°è£…ï¼Œå®ƒå†³å®šäº†ä½ çš„ App æ˜¯å¦å¥å£®ã€‚\n\n  * **ğŸ“¦ ä»“åº“å±‚ (Repository) çš„å°è£…**\n\n      * **å°è£…â€œå•ä¸€æ•°æ®æºâ€ (SSOT) é€»è¾‘**ï¼š\n        å‡ ä¹æ‰€æœ‰çš„æ•°æ®è¯·æ±‚éƒ½æ˜¯è¿™ä¸ªæ¨¡æ¿ï¼šâ€œ1. ä»æ•°æ®åº“ (Room) è¯»ï¼›2. å¦‚æœæ²¡æ•°æ®ï¼Œå»è¯·æ±‚ç½‘ç»œ (Retrofit)ï¼›3. æ‹¿åˆ°ç½‘ç»œæ•°æ®ï¼Œå­˜å…¥æ•°æ®åº“ï¼›4. å†æ¬¡ä»æ•°æ®åº“è¯»å¹¶è¿”å›â€ã€‚\n        è¿™ä¸ªé€»è¾‘æˆ‘ä¼šå°è£…æˆä¸€ä¸ª**é«˜é˜¶å‡½æ•°**ï¼Œå« `networkBoundResource`ã€‚\n      * **`BaseRepository`**ï¼šå°è£…ç»Ÿä¸€çš„é”™è¯¯å¤„ç†é€»è¾‘ï¼ŒæŠŠæœåŠ¡å™¨çš„ `HttpException` æˆ– `IOException` è½¬æ¢æˆä¸šåŠ¡èƒ½çœ‹æ‡‚çš„ `Error` ç±»å‹ã€‚\n\n  * **ğŸ“¡ ç½‘ç»œå±‚ (Network) çš„å°è£…**\n\n      * **`Retrofit` å®¢æˆ·ç«¯å°è£…**ï¼šé€šè¿‡ Hilt/Koin æ³¨å…¥ä¸€ä¸ª**å•ä¾‹**çš„ `Retrofit` å®ä¾‹ã€‚\n      * **`AuthInterceptor` (è®¤è¯æ‹¦æˆªå™¨)**ï¼š**ï¼ˆé«˜é¢‘å®ç”¨ï¼‰å°è£…ä¸€ä¸ª `OkHttp` çš„ `Interceptor`ã€‚å®ƒçš„ä½œç”¨æ˜¯è‡ªåŠ¨**ä¸º**æ¯ä¸€ä¸ª**ç½‘ç»œè¯·æ±‚çš„ Header é‡Œæ·»åŠ  `Authorization: Bearer <token>` è®¤è¯å­—æ®µã€‚\n      * **`BaseResponse<T>` (ç»Ÿä¸€å“åº”ä½“)**ï¼š\n        å°è£…æœåŠ¡å™¨è¿”å›çš„ç»Ÿä¸€ JSON ç»“æ„ï¼Œæ¯”å¦‚ `{ \"code\": 0, \"message\": \"success\", \"data\": T }`ã€‚\n\n  * **ğŸ’¾ ç¼“å­˜å±‚ (Cache) çš„å°è£…**\n\n      * **`DataStoreHelper` / `SharedPreferencesHelper`**:\n        å°è£…ä¸€ä¸ª `Wrapper` ç±»ï¼ˆé€šå¸¸æ˜¯å•ä¾‹ï¼‰ï¼ŒæŠŠ `DataStore` æˆ– `SP` çš„ `put` / `get` æ¨¡æ¿ä»£ç å°è£…èµ·æ¥ï¼Œæä¾›å¹²å‡€çš„ APIï¼Œæ¯”å¦‚ `suspend fun saveAuthToken(token: String)`ã€‚\n\n### æ€»ç»“\n\né¢è¯•æ—¶ï¼Œå¦‚æœä½ èƒ½ç­”å‡ºï¼š\n\n1.  **UI å±‚**ï¼šæˆ‘ç”¨**æ‰©å±•å‡½æ•°**ï¼ˆå¦‚ `visible`/`onClickDebounced`ï¼‰å’Œ `BaseFragment`ï¼ˆå°è£… ViewBindingï¼‰æ¥æå‡ UI å¼€å‘æ•ˆç‡ã€‚\n2.  **VM å±‚**ï¼šæˆ‘ç”¨ `BaseViewModel` å°è£…ç»Ÿä¸€çš„ `UiState`ï¼ˆLoading/Success/Errorï¼‰å’Œ `SharedFlow`ï¼ˆå¤„ç† Toastï¼‰ã€‚\n3.  **Data å±‚**ï¼šæˆ‘ç”¨ `Retrofit` çš„**æ‹¦æˆªå™¨ï¼ˆInterceptorï¼‰** æ¥è‡ªåŠ¨å¤„ç† Tokenï¼›ç”¨**é«˜é˜¶å‡½æ•°**æ¥å°è£…â€œå•ä¸€æ•°æ®æºâ€çš„æ¨¡æ¿é€»è¾‘ã€‚\n\nè¿™åŸºæœ¬å°±æ˜¯ä¸€ä¸ªéå¸¸å®Œæ•´ä¸”é«˜çº§çš„â€œå°è£…â€ç­”æ¡ˆäº†ã€‚\n\nä½ å¸Œæœ›æˆ‘è¯¦ç»†å±•ç¤ºä¸€ä¸‹é‚£ä¸ªéå¸¸æœ‰ç”¨çš„ `onClickDebounced`ï¼ˆé˜²æŠ–ï¼‰æ‰©å±•å‡½æ•°æ˜¯å¦‚ä½•å®ç°çš„å—ï¼Ÿ"
    },
    {
      "question": "å‰åç«¯æ•°æ®ä¼ è¾“ï¼Œæ€ä¹ˆä¿è¯æ•°æ®å®‰å…¨ ï¼Ÿ",
      "answer": "> **â€œéš§é“ï¼ˆHTTPSï¼‰ä¿å¯†ï¼›â€**\n> **â€œä»¤ç‰Œï¼ˆTokenï¼‰éªŒèº«ä»½ï¼›â€**\n> **â€œç­¾åï¼ˆSignï¼‰é˜²ç¯¡æ”¹ï¼›â€**\n> **â€œç¥¨æ ¹ï¼ˆNonceï¼‰é˜²é‡æ”¾ã€‚â€**",
      "detail": "è¿™æ˜¯ä¸€ä¸ªéå¸¸é‡è¦çš„é—®é¢˜ï¼Œä¹Ÿæ˜¯ç°ä»£ App å¼€å‘çš„**å®‰å…¨åŸºçŸ³**ã€‚\n\nå¦‚æœé¢è¯•å®˜é—®åˆ°è¿™ä¸ªé—®é¢˜ï¼Œä»–/å¥¹æƒ³è€ƒå¯Ÿçš„ä¸æ˜¯å•ä¸€æŠ€æœ¯ï¼Œè€Œæ˜¯ä¸€ä¸ª**â€œçºµæ·±é˜²å¾¡â€**çš„ä½“ç³»ã€‚ä½ ä¸èƒ½åªç­”â€œHTTPSâ€ï¼Œé‚£åªé˜²ä½äº†â€œå·çœ‹â€ã€‚\n\nä¸€ä¸ªå®‰å…¨çš„æ•°æ®ä¼ è¾“æ–¹æ¡ˆï¼Œå¿…é¡»åŒæ—¶è§£å†³**å››ä¸ªæ ¸å¿ƒé—®é¢˜**ï¼š\n\n1.  **é˜²çªƒå¬ (Confidentiality)ï¼š** åˆ«äººåœ¨åŠè·¯ï¼ˆæ¯”å¦‚å…¬å…± Wi-Fiï¼‰æˆªè·äº†æ•°æ®ï¼Œçœ‹ä¸æ‡‚å†…å®¹ã€‚\n2.  **é˜²ä¼ªè£… (Authentication)ï¼š** æœåŠ¡å™¨å¦‚ä½•çŸ¥é“â€œä½ â€æ˜¯çœŸçš„â€œä½ â€ï¼Œè€Œä¸æ˜¯é»‘å®¢ä¼ªè£…çš„ï¼Ÿ\n3.  **é˜²ç¯¡æ”¹ (Integrity)ï¼š** é»‘å®¢åœ¨åŠè·¯æŠŠæ•°æ®æ”¹äº†ï¼ˆæ¯”å¦‚è½¬è´¦100å…ƒæ”¹æˆ10000å…ƒï¼‰ï¼ŒæœåŠ¡å™¨å¦‚ä½•å‘ç°ï¼Ÿ\n4.  **é˜²é‡æ”¾ (Anti-Replay)ï¼š** é»‘å®¢æˆªè·äº†ä½ çš„ä¸€æ¬¡â€œåˆæ³•â€è¯·æ±‚ï¼ˆæ¯”å¦‚è½¬è´¦100å…ƒï¼‰ï¼Œç„¶åç–¯ç‹‚åœ°â€œé‡æ’­â€è¿™ä¸ªè¯·æ±‚1000æ¬¡ã€‚\n\næˆ‘ä¸ºä½ æ€»ç»“äº†åº”å¯¹è¿™å››ä¸ªé—®é¢˜çš„â€œå››å¤§æ³•å®â€å’Œä¸€ä¸ªâ€œå£è¯€â€ã€‚\n\n### ğŸš€ æ ¸å¿ƒå£è¯€\n\n> **â€œéš§é“ï¼ˆHTTPSï¼‰ä¿å¯†ï¼›â€**\n> **â€œä»¤ç‰Œï¼ˆTokenï¼‰éªŒèº«ä»½ï¼›â€**\n> **â€œç­¾åï¼ˆSignï¼‰é˜²ç¯¡æ”¹ï¼›â€**\n> **â€œç¥¨æ ¹ï¼ˆNonceï¼‰é˜²é‡æ”¾ã€‚â€**\n\n---\n\n### ğŸ’¡ æ¨¡æ‹Ÿé¢è¯•å›ç­”ï¼šæˆ‘çš„â€œå››å¤§æ³•å®â€\n\nâ€œé¢è¯•å®˜ä½ å¥½ï¼Œè¦ä¿è¯å‰åç«¯æ•°æ®ä¼ è¾“çš„å®‰å…¨ï¼Œæˆ‘ä¼šä»ä»¥ä¸‹å››ä¸ªå±‚é¢æ¥æ„å»ºä¸€ä¸ªâ€˜çºµæ·±é˜²å¾¡â€™ä½“ç³»ï¼šâ€\n\n#### 1. æ³•å®ä¸€ï¼šHTTPS (SSL/TLS) - è§£å†³â€œé˜²çªƒå¬â€\n\n* **å£è¯€ï¼š** â€œéš§é“ï¼ˆHTTPSï¼‰ä¿å¯†â€\n* **è¿™æ˜¯ä»€ä¹ˆï¼š** è¿™æ˜¯**æœ€åŸºç¡€ã€æœ€å¿…è¦**çš„ä¸€é“é˜²çº¿ã€‚\n* **æˆ‘æ€ä¹ˆç”¨ï¼š**\n    * â€œé¦–å…ˆï¼ŒApp ä¸æœåŠ¡å™¨ä¹‹é—´çš„æ‰€æœ‰é€šä¿¡ï¼Œ**å¿…é¡»å¼ºåˆ¶ä½¿ç”¨ HTTPS (SSL/TLS)**ï¼Œè€Œä¸æ˜¯ HTTPã€‚â€\n    * â€œHTTPS ä¼šä¸ºå‰ç«¯å’Œåç«¯ä¹‹é—´å»ºç«‹ä¸€ä¸ª**åŠ å¯†çš„â€˜å®‰å…¨éš§é“â€™**ã€‚è¿™èƒ½æœ‰æ•ˆé˜²æ­¢â€˜**ä¸­é—´äººæ”»å‡» (MITM)**â€™ã€‚å³ä½¿é»‘å®¢åœ¨å…¬å…± Wi-Fi æˆªè·äº†æ•°æ®åŒ…ï¼Œä»–æ‹¿åˆ°çš„ä¹Ÿåªæ˜¯ä¸€å †ä¹±ç ï¼Œæ— æ³•è§£å¯†å‡ºçœŸå®å†…å®¹ï¼ˆæ¯”å¦‚ç”¨æˆ·çš„å¯†ç ï¼‰ã€‚â€\n* **ï¼ˆåŠ åˆ†é¡¹ï¼‰**\n    * â€œåœ¨ Android ç«¯ï¼Œæˆ‘è¿˜ä¼šé…ç½®â€˜**ç½‘ç»œå®‰å…¨é…ç½® (Network Security Configuration)**â€™ XML æ–‡ä»¶ï¼Œå¼ºåˆ¶ App åªä¿¡ä»»æˆ‘ä»¬çš„æœåŠ¡å™¨è¯ä¹¦ã€‚å¯¹äºé‡‘èç­‰é«˜å®‰å…¨ Appï¼Œæˆ‘è¿˜ä¼šè€ƒè™‘ä½¿ç”¨â€˜**è¯ä¹¦å›ºå®š (Certificate Pinning)**â€™ï¼Œæ¥å½»åº•æœç»ä¸­é—´äººä¼ªé€ è¯ä¹¦ã€‚â€\n\n#### 2. æ³•å®äºŒï¼šToken è®¤è¯ - è§£å†³â€œé˜²ä¼ªè£…â€\n\n* **å£è¯€ï¼š** â€œä»¤ç‰Œï¼ˆTokenï¼‰éªŒèº«ä»½â€\n* **è¿™æ˜¯ä»€ä¹ˆï¼š** HTTPS åªä¿è¯äº†â€œéš§é“â€çš„å®‰å…¨ï¼Œä½†éš§é“é‚£å¤´æ˜¯è°ï¼ŸæœåŠ¡å™¨éœ€è¦éªŒè¯â€œä½ æ˜¯ä¸æ˜¯åˆæ³•çš„ç”¨æˆ·â€ã€‚\n* **æˆ‘æ€ä¹ˆç”¨ï¼š**\n    * â€œæˆ‘ä¼šé‡‡ç”¨ **Token åŸºç¡€ï¼ˆå¦‚ JWT æˆ– OAuth 2.0ï¼‰**çš„è®¤è¯æœºåˆ¶ã€‚â€\n    * **æµç¨‹æ˜¯ï¼š**\n        1.  ç”¨æˆ·ä½¿ç”¨**ç”¨æˆ·å/å¯†ç **ï¼ˆåœ¨ HTTPS éš§é“ä¸­ï¼‰å®‰å…¨åœ°ç™»å½•ä¸€æ¬¡ã€‚\n        2.  ç™»å½•æˆåŠŸåï¼ŒæœåŠ¡å™¨â€œé¢å‘â€ä¸€ä¸ªå…·æœ‰æ—¶æ•ˆæ€§çš„ **`Token`**ï¼ˆä»¤ç‰Œï¼‰ç»™ Appã€‚\n        3.  App å°†è¿™ä¸ª `Token` **å®‰å…¨åœ°å­˜å‚¨**åœ¨æœ¬åœ°ï¼ˆæ¯”å¦‚ Android çš„ `EncryptedSharedPreferences`ï¼‰ã€‚\n        4.  åœ¨æ­¤ä¹‹åï¼ŒApp çš„**æ¯ä¸€ä¸ª**è¯·æ±‚ï¼Œéƒ½å¿…é¡»åœ¨ `HTTP Header` çš„ `Authorization` å­—æ®µä¸­å¸¦ä¸Šè¿™ä¸ª `Token`ã€‚\n        5.  æœåŠ¡å™¨**å¯¹æ¯ä¸€ä¸ªè¯·æ±‚**éƒ½ä¼šéªŒè¯ `Token` çš„æœ‰æ•ˆæ€§ï¼ˆæ˜¯å¦è¿‡æœŸï¼Ÿæ˜¯å¦ä¼ªé€ ï¼Ÿï¼‰ï¼ŒéªŒè¯é€šè¿‡æ‰å¤„ç†ä¸šåŠ¡ã€‚\n\n#### 3. æ³•å®ä¸‰ï¼šè¯·æ±‚ç­¾å (Sign) - è§£å†³â€œé˜²ç¯¡æ”¹â€\n\n* **å£è¯€ï¼š** â€œç­¾åï¼ˆSignï¼‰é˜²ç¯¡æ”¹â€\n* **è¿™æ˜¯ä»€ä¹ˆï¼š** è¿™æ˜¯**æœ€å…³é”®**çš„ä¸€æ­¥ï¼å¦‚æœé»‘å®¢ï¼ˆåœ¨ç”¨æˆ·æ‰‹æœºä¸Š root æŠ“åŒ…ï¼‰æ‹¿åˆ°äº†ä½ çš„ `Token`ï¼Œä»–å°±å¯ä»¥ä¼ªè£…æˆä½ äº†ã€‚ä»–è™½ç„¶ä¸èƒ½è§£å¯† HTTPSï¼Œä½†ä»–å¯ä»¥â€œç¯¡æ”¹â€è‡ªå·±å‘å‡ºçš„è¯·æ±‚ï¼\n* **æˆ‘æ€ä¹ˆç”¨ï¼š**\n    * â€œä¸ºäº†é˜²æ­¢è¯·æ±‚å‚æ•°åœ¨ä¼ è¾“ä¸­ï¼ˆæˆ–åœ¨å®¢æˆ·ç«¯ï¼‰è¢«ç¯¡æ”¹ï¼Œæˆ‘ä¼šå¯¹**æ‰€æœ‰æ•æ„Ÿçš„è¯·æ±‚**ï¼ˆå¦‚æ”¯ä»˜ã€ä¸‹å•ï¼‰è¿›è¡Œâ€˜**åŠ ç›ç­¾å (Sign)**â€™ã€‚â€\n    * **æµç¨‹æ˜¯ï¼š**\n        1.  å‰åç«¯çº¦å®šä¸€ä¸ª**â€œç§˜é’¥ (Secret)â€**ï¼Œè¿™ä¸ªç§˜é’¥**åªä¿å­˜åœ¨ App ä»£ç å’ŒæœåŠ¡å™¨**ä¸­ï¼Œæ°¸è¿œä¸åœ¨ç½‘ç»œä¸Šä¼ è¾“ã€‚\n        2.  **[å‰ç«¯]** åœ¨å‘é€è¯·æ±‚æ—¶ï¼ŒæŠŠ**æ‰€æœ‰çš„è¯·æ±‚å‚æ•°**ï¼ˆå¦‚ `userId=123`, `amount=100`ï¼‰æŒ‰**å­—æ¯é¡ºåºæ’åº**ï¼Œæ‹¼æ¥æˆä¸€ä¸ªé•¿å­—ç¬¦ä¸²ã€‚\n        3.  åœ¨è¿™ä¸ªå­—ç¬¦ä¸²çš„æœ«å°¾ï¼ˆæˆ–å¼€å¤´ï¼‰æ‹¼ä¸Šé‚£ä¸ª**â€œç§˜é’¥ (Secret)â€**ã€‚\n        4.  å¯¹è¿™ä¸ªæœ€ç»ˆçš„å­—ç¬¦ä¸²è¿›è¡Œä¸€æ¬¡ **Hash è¿ç®—**ï¼ˆå¦‚ HMAC-SHA256ï¼‰ï¼Œç”Ÿæˆä¸€ä¸ª `sign`ï¼ˆç­¾åï¼‰ã€‚\n        5.  å‰ç«¯æŠŠ**åŸå§‹å‚æ•°**å’Œè¿™ä¸ª `sign` ä¸€èµ·å‘ç»™åç«¯ã€‚\n        6.  **[åç«¯]** æ”¶åˆ°è¯·æ±‚åï¼Œç”¨**å®Œå…¨ç›¸åŒ**çš„æ–¹å¼ï¼ˆæ’åºã€æ‹¼ç§˜é’¥ã€Hashï¼‰**é‡æ–°è®¡ç®—**ä¸€æ¬¡ `sign`ã€‚\n        7.  **å¯¹æ¯”**ï¼šå¦‚æœåç«¯ç®—å‡ºçš„ `sign` å’Œå‰ç«¯ä¼ æ¥çš„ `sign` **å®Œå…¨ä¸€è‡´**ï¼Œè¯´æ˜æ•°æ®æœªè¢«ç¯¡æ”¹ã€‚å¦‚æœä¸ä¸€è‡´ï¼Œ**ç«‹åˆ»æ‹’ç»**è¯¥è¯·æ±‚ã€‚\n\n#### 4. æ³•å®å››ï¼šNonce + Timestamp - è§£å†³â€œé˜²é‡æ”¾â€\n\n* **å£è¯€ï¼š** â€œç¥¨æ ¹ï¼ˆNonceï¼‰é˜²é‡æ”¾â€\n* **è¿™æ˜¯ä»€ä¹ˆï¼š** å¦‚æœé»‘å®¢ä¸æ‡‚â€œç­¾åâ€åŸç†ï¼Œä»–è™½ç„¶æ”¹ä¸äº†è¯·æ±‚ï¼Œä½†ä»–å¯ä»¥æŠŠä¸€ä¸ªâ€œåˆæ³•çš„â€è¯·æ±‚ï¼ˆæ¯”å¦‚ä½ è½¬è´¦100å…ƒçš„è¯·æ±‚ï¼‰**åŸå°ä¸åŠ¨åœ°â€œé‡æ’­â€1000æ¬¡**ï¼Œå¯¼è‡´ä½ è½¬è´¦1000æ¬¡ã€‚\n* **æˆ‘æ€ä¹ˆç”¨ï¼š**\n    * â€œæˆ‘ä¼šåœ¨â€˜ç­¾åâ€™ï¼ˆæ³•å®ä¸‰ï¼‰çš„å‚æ•°ä¸­ï¼Œå†åŠ å…¥**ä¸¤ä¸ª**ç‰¹æ®Šçš„å‚æ•°ï¼šâ€\n    * **1. `timestamp` (æ—¶é—´æˆ³)ï¼š**\n        * â€œå‰ç«¯åœ¨è¯·æ±‚æ—¶ï¼ŒåŠ å…¥å½“å‰çš„æ—¶é—´æˆ³ï¼ˆå¦‚ `1678886400`ï¼‰ã€‚åç«¯åœ¨è®¡ç®—ç­¾åå‰ï¼Œä¼šå…ˆæ£€æŸ¥è¿™ä¸ªæ—¶é—´æˆ³æ˜¯å¦åœ¨**å¯æ¥å—çš„èŒƒå›´å†…**ï¼ˆæ¯”å¦‚ 5 åˆ†é’Ÿå†…ï¼‰ã€‚å¦‚æœæ˜¯ä¸€ä¸ª 1 å°æ—¶å‰çš„è¯·æ±‚ï¼Œç›´æ¥æ‹’ç»ã€‚è¿™èƒ½é˜²ä½å¤§éƒ¨åˆ†é‡æ”¾ã€‚â€\n    * **2. `nonce` (ä¸€æ¬¡æ€§éšæœºæ•°)ï¼š**\n        * â€œï¼ˆ**æ›´ä¸¥æ ¼**ï¼‰ä¸ºäº†é˜²æ­¢ 5 åˆ†é’Ÿå†…çš„å¿«é€Ÿé‡æ”¾ï¼Œå‰ç«¯**æ¯ä¸€æ¬¡**è¯·æ±‚éƒ½ç”Ÿæˆä¸€ä¸ª**å”¯ä¸€çš„éšæœºå­—ç¬¦ä¸² (Nonce)**ã€‚åç«¯ä¼šæŠŠ 5 åˆ†é’Ÿå†…ç”¨è¿‡çš„ `nonce` å­˜å…¥ `Redis`ï¼ˆæˆ–å†…å­˜æ•°æ®åº“ï¼‰ã€‚åœ¨éªŒè¯ç­¾åä¹‹å‰ï¼Œå…ˆæ£€æŸ¥è¿™ä¸ª `nonce` æ˜¯å¦**å·²ç»ç”¨è¿‡**ã€‚å¦‚æœç”¨è¿‡äº†ï¼Œ**ç«‹åˆ»æ‹’ç»**ã€‚è¿™ä¸ª `nonce` å°±åƒä¸€å¼ â€˜**ä¸€æ¬¡æ€§çš„ç”µå½±ç¥¨æ ¹**â€™ï¼Œç”¨è¿‡å³ä½œåºŸã€‚â€\n\n---\n\n### æ€»ç»“\n\nâ€œæ‰€ä»¥ï¼Œä¸€ä¸ªçœŸæ­£å®‰å…¨çš„ä¼ è¾“æ˜¯è¿™æ ·çš„ï¼š\næˆ‘æŠŠæˆ‘çš„è¯·æ±‚å‚æ•°ï¼ˆ`amount=100`ï¼‰ã€æ—¶é—´æˆ³ï¼ˆ`timestamp`ï¼‰ã€å’Œä¸€æ¬¡æ€§ç¥¨æ ¹ï¼ˆ`nonce`ï¼‰æ‰“åŒ…ï¼Œç”¨ä¸€ä¸ªç§˜é’¥ï¼ˆ`secret`ï¼‰ç”Ÿæˆä¸€ä¸ªâ€˜**ç­¾å (Sign)**â€™ï¼Œå†å¸¦ä¸Šæˆ‘çš„èº«ä»½â€˜**ä»¤ç‰Œ (Token)**â€™ï¼Œæœ€åæŠŠè¿™ä¸€åˆ‡éƒ½è£…è¿›â€˜**åŠ å¯†éš§é“ (HTTPS)**â€™é‡Œå‘é€å‡ºå»ã€‚\n\nè¿™æ ·å°±åŒæ—¶ä¿è¯äº†**ä¿å¯†æ€§ã€èº«ä»½çœŸå®æ€§ã€æ•°æ®å®Œæ•´æ€§ã€å’Œè¯·æ±‚çš„å”¯ä¸€æ€§**ã€‚â€"
    },
    {
      "question": "å¦‚æœæ˜¯ socket é€šä¿¡å‘¢ï¼Ÿ",
      "answer": "",
      "detail": "ä½ è¿™ä¸ªé—®é¢˜éå¸¸æ•é”ï¼\n\nä» HTTP æ¢åˆ° Socketï¼Œå°±åƒä»â€œåé«˜é“â€æ¢æˆäº†â€œè‡ªå·±é€ ç«è½¦â€ã€‚\n\n* **HTTPï¼ˆé«˜é“ï¼‰ï¼š** `HTTPS` å·²ç»å¸®ä½ æŠŠâ€œåŠ å¯†éš§é“â€ã€â€œå®‰æ£€â€ã€â€œè½¦å¢ï¼ˆè¯·æ±‚/å“åº”æ ¼å¼ï¼‰â€å…¨éƒ½**æ ‡å‡†åŒ–**äº†ã€‚ä½ ï¼ˆå¼€å‘è€…ï¼‰åªéœ€è¦ä¹°ç¥¨ï¼ˆå‘è¯·æ±‚ï¼‰å°±è¡Œã€‚\n* **Socketï¼ˆé€ ç«è½¦ï¼‰ï¼š** ä½ å¾—åˆ°çš„æ˜¯â€œè£¸éœ²çš„é“è½¨â€ï¼ˆ`TCP` è¿æ¥ï¼‰ã€‚**åŠ å¯†ï¼Ÿå®‰æ£€ï¼Ÿè½¦å¢ï¼Ÿ**å…¨éƒ½è¦**ä½ è‡ªå·±é€ **ã€‚\n\næ‰€ä»¥ï¼Œä½ ä¸Šä¸€ä¸ªé—®é¢˜é‡Œçš„â€œå››å¤§æ³•å®â€**ï¼ˆé˜²çªƒå¬ã€é˜²ä¼ªè£…ã€é˜²ç¯¡æ”¹ã€é˜²é‡æ”¾ï¼‰**ï¼Œåœ¨ Socket é€šä¿¡ä¸­**ä¸€ä¸ªéƒ½ä¸èƒ½å°‘**ï¼Œè€Œä¸”å®ç°èµ·æ¥**æ›´å¤æ‚**ï¼Œå› ä¸ºä½ å¿…é¡»**è‡ªå·±è®¾è®¡ä¸€å¥—å®Œæ•´çš„é€šä¿¡åè®®**ã€‚\n\n### ğŸš€ Socket é€šä¿¡çš„â€œæ–°å£è¯€â€\n\n> **â€œSSLSocket é€ éš§é“ï¼ˆä¿å¯†ï¼‰ï¼›â€**\n> **â€œæ¡æ‰‹åŒ…ï¼ˆHandshakeï¼‰éªŒèº«ä»½ï¼›â€**\n> **â€œè‡ªå®šä¹‰åè®®ï¼ˆProtocolï¼‰å®šâ€œè½¦å¢â€ï¼›â€**\n> **â€œå¿ƒè·³åŒ…ï¼ˆHeartbeatï¼‰ä¿æ´»ï¼Œç­¾åï¼ˆSignï¼‰é˜²ä¼ªé€ ã€‚â€**\n\n---\n\n### Socket å®‰å…¨å®è·µâ€œäº”æ­¥èµ°â€\n\nåœ¨ HTTP ä¸­ï¼Œä½ åªéœ€è¦å…³å¿ƒä¸šåŠ¡ã€‚ä½†åœ¨ Socket ä¸­ï¼Œä½ å¿…é¡»å…ˆè§£å†³è¿™ 5 ä¸ªåº•å±‚é—®é¢˜ï¼š\n\n#### 1. åŸºç¡€ï¼šè§£å†³â€œç²˜åŒ…/æ‹†åŒ…â€ (å®šä¹‰â€œè½¦å¢â€)\n\nè¿™æ˜¯ Socket ç¼–ç¨‹çš„**ç¬¬ä¸€å…³**ã€‚\n\n* **é—®é¢˜ï¼š** TCP æ˜¯ä¸€æ¡â€œå­—èŠ‚æµâ€ï¼Œå®ƒä¸ä¿è¯ä½  `send` ä¸¤æ¬¡ï¼Œå¯¹æ–¹ `receive` å°±ä¼šæ”¶åˆ°ä¸¤æ¬¡ã€‚å¯¹æ–¹å¯èƒ½ä¸€æ¬¡æ”¶åˆ°äº† 1.5 ä¸ªåŒ…ï¼ˆç²˜åŒ…ï¼‰ï¼Œä¹Ÿå¯èƒ½ 0.5 ä¸ªåŒ…ï¼ˆæ‹†åŒ…ï¼‰ã€‚\n* **è§£å†³æ–¹æ¡ˆï¼ˆè‡ªå®šä¹‰åè®®ï¼‰ï¼š**\n    æœ€é€šç”¨çš„æ–¹æ¡ˆæ˜¯ **[åŒ…å¤´ + åŒ…ä½“]** æ¨¡å¼ã€‚ä½ å¿…é¡»åœ¨å‘é€çš„æ‰€æœ‰æ•°æ®å‰ï¼ŒåŠ ä¸€ä¸ªâ€œåŒ…å¤´â€æ¥å‘Šè¯‰å¯¹æ–¹â€œè¿™ä¸ªåŒ…æœ‰å¤šé•¿â€ã€‚\n    * **ä¾‹å¦‚ï¼š** `[4 å­—èŠ‚çš„åŒ…é•¿åº¦] + [æ•°æ®åŒ…ä½“]`\n    * **[å‘é€ç«¯]**ï¼šè¦å‘é€ \"Hello\"ï¼Œå…ˆè®¡ç®— \"Hello\" é•¿åº¦ä¸º 5ï¼Œç„¶åå‘é€ `[0x00000005] + [\"Hello\"]`ã€‚\n    * **[æ¥æ”¶ç«¯]**ï¼šå…ˆåŠªåŠ›è¯»å– 4 å­—èŠ‚ï¼Œä¸€è¯»ï¼Œå‘ç°é•¿åº¦æ˜¯ 5ã€‚å¥½ï¼Œé‚£æˆ‘å†ç»§ç»­å‡†ç¡®åœ°è¯»å– 5 å­—èŠ‚ï¼Œ`read(5)`ï¼Œä¸å¤šä¹Ÿä¸å°‘ã€‚\n    * è¿™æ ·ï¼Œä½ å°±â€œé€ â€å‡ºäº†â€œè½¦å¢â€ï¼Œè§£å†³äº†ç²˜åŒ…/æ‹†åŒ…ã€‚\n\n---\n\n#### 2. æ³•å®ä¸€ï¼šé˜²çªƒå¬ (åŠ å¯†éš§é“)\n\n* **HTTP æ–¹æ¡ˆï¼š** `HTTPS`\n* **Socket æ–¹æ¡ˆï¼š** **`SSLSocket` (é¦–é€‰)** æˆ– **è‡ªå®šä¹‰åŠ å¯†**\n\n**A. (æœ€ä½³å®è·µ) `SSLSocket`**\n* **è¿™æ˜¯ä»€ä¹ˆï¼š** å®ƒå°±æ˜¯ `SSL/TLS` åè®®è·‘åœ¨ TCP ä¸Šã€‚`HTTPS` å°±æ˜¯ `HTTP + SSLSocket`ã€‚\n* **æˆ‘æ€ä¹ˆç”¨ï¼š**\n    * åœ¨ Android (Java) ä¸­ï¼Œä½ ä¸ä½¿ç”¨ `new Socket()`ï¼Œè€Œæ˜¯ä½¿ç”¨ `SSLSocketFactory.createSocket(...)` æ¥åˆ›å»ºå®¢æˆ·ç«¯ Socketã€‚\n    * ä½ éœ€è¦åƒ HTTPS ä¸€æ ·ï¼Œé…ç½®ä½ çš„â€œè¯ä¹¦ä¿¡ä»»åº“ (TrustManager)â€ã€‚\n    * **ä¼˜ç‚¹ï¼š** åªè¦è¿æ¥æˆåŠŸï¼Œä½ å¾—åˆ°çš„ `InputStream` / `OutputStream` **å·²ç»æ˜¯åŠ å¯†è¿‡çš„â€œå®‰å…¨éš§é“â€äº†**ã€‚ä½ åªç®¡å¾€é‡Œå†™ `byte`ï¼Œ`SSLSocket` è‡ªåŠ¨å¸®ä½ åŠ å¯†ï¼Œå®Œç¾è§£å†³â€œé˜²çªƒå¬â€ã€‚\n\n**B. (ä¸æ¨è) è‡ªå®šä¹‰åŠ å¯†**\n* ä½ è‡ªå·±ç”¨ `AES` ä¹‹ç±»çš„å¯¹ç§°åŠ å¯†ç®—æ³•æ¥åŠ å¯†â€œåŒ…ä½“ï¼ˆBodyï¼‰â€ã€‚\n* **è‡´å‘½é—®é¢˜ï¼š** ä½ æ€ä¹ˆå®‰å…¨åœ°åå•† `AES` çš„å¯†é’¥ï¼Ÿä½ æœ€ç»ˆä¼šå‘ç°ï¼Œä¸ºäº†å®‰å…¨åœ°åå•†å¯†é’¥ï¼Œä½ ç­‰äºåœ¨**é‡æ–°å‘æ˜ `SSL/TLS`**ã€‚\n\n---\n\n#### 3. æ³•å®äºŒï¼šé˜²ä¼ªè£… (èº«ä»½è®¤è¯)\n\n* **HTTP æ–¹æ¡ˆï¼š** æ¯ä¸ªè¯·æ±‚ Header éƒ½å¸¦ `Token`ã€‚\n* **Socket æ–¹æ¡ˆï¼š** **â€œæ¡æ‰‹åŒ… (Handshake Packet)â€**\n\n* **åŒºåˆ«ï¼š** Socket æ˜¯**é•¿è¿æ¥ï¼ˆæœ‰çŠ¶æ€çš„ï¼‰**ã€‚ä½ ä¸éœ€è¦åœ¨â€œæ¯ä¸ªåŒ…â€é‡Œéƒ½å‘ `Token`ï¼Œä½ åªéœ€è¦åœ¨**è¿æ¥æˆåŠŸåçš„ç¬¬ä¸€ä¸ªåŒ…**é‡ŒéªŒè¯èº«ä»½ã€‚\n* **æˆ‘æ€ä¹ˆç”¨ï¼ˆæµç¨‹ï¼‰ï¼š**\n    1.  å®¢æˆ·ç«¯ç”¨ `SSLSocket` **è¿æ¥**æˆåŠŸã€‚\n    2.  å®¢æˆ·ç«¯**ç«‹åˆ»**å‘é€**ç¬¬ä¸€ä¸ªâ€œæ¡æ‰‹åŒ…â€**ï¼Œè¿™ä¸ªåŒ…çš„åŒ…ä½“æ˜¯ `{\"token\": \"...\"}`ã€‚\n    3.  æœåŠ¡å™¨æ”¶åˆ°â€œæ¡æ‰‹åŒ…â€ï¼ŒéªŒè¯ `Token`ï¼š\n        * **éªŒè¯æˆåŠŸï¼š** æœåŠ¡å™¨åœ¨å†…å­˜ä¸­ï¼ˆæ¯”å¦‚ä¸€ä¸ª `Map<Socket, User>`ï¼‰**æ ‡è®°**è¿™ä¸ª Socket è¿æ¥æ˜¯â€œå·²è®¤è¯â€çš„ï¼Œå¹¶è¿”å›ä¸€ä¸ªâ€œæ¡æ‰‹æˆåŠŸâ€åŒ…ã€‚\n        * **éªŒè¯å¤±è´¥ï¼š** æœåŠ¡å™¨**ç«‹åˆ»**è°ƒç”¨ `socket.close()`ï¼Œ**æ–­å¼€è¿æ¥**ã€‚\n\n---\n\n#### 4. æ³•å®ä¸‰ & å››ï¼šé˜²ç¯¡æ”¹ + é˜²é‡æ”¾ (ç­¾å, Nonce)\n\n* **HTTP æ–¹æ¡ˆï¼š** å¯¹ URL å‚æ•°å’Œ Body ç­¾åï¼ŒåŠ å…¥ `sign`, `timestamp`, `nonce`ã€‚\n* **Socket æ–¹æ¡ˆï¼š** **å¯¹â€œè‡ªå®šä¹‰åè®®â€çš„åŒ…å¤´å’ŒåŒ…ä½“ç­¾åã€‚**\n\n* **æˆ‘æ€ä¹ˆç”¨ï¼š**\n    ç°åœ¨æˆ‘ä»¬çš„â€œè½¦å¢â€è¦å‡çº§äº†ã€‚`[åŒ…å¤´ + åŒ…ä½“]` ä¸å¤Ÿç”¨äº†ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ›´å¤æ‚çš„åŒ…å¤´ã€‚\n\n    **æˆ‘çš„â€œè‡ªå®šä¹‰åè®®â€æœ€ç»ˆå½¢æ€ï¼š**\n    * `[TotalLength (4å­—èŠ‚)]`ï¼šæ•´ä¸ªåŒ…çš„é•¿åº¦ã€‚\n    * `[HeaderLength (2å­—èŠ‚)]`ï¼šåŒ…å¤´çš„é•¿åº¦ã€‚\n    * `[Header (nå­—èŠ‚)]`ï¼š\n        * `CmdCode (2å­—èŠ‚)`ï¼šå‘½ä»¤å·ï¼ˆæ¯”å¦‚ 1001=ç™»å½•, 1002=å‘æ¶ˆæ¯, **1003=å¿ƒè·³**ï¼‰ã€‚\n        * `Timestamp (8å­—èŠ‚)`ï¼šæ—¶é—´æˆ³ï¼ˆ**ç”¨äºé˜²é‡æ”¾**ï¼‰ã€‚\n        * `Nonce (8å­—èŠ‚)`ï¼šéšæœºæ•°ï¼ˆ**ç”¨äºé˜²é‡æ”¾**ï¼‰ã€‚\n        * `Sign (16å­—èŠ‚)`ï¼šç­¾åï¼ˆ**ç”¨äºé˜²ç¯¡æ”¹**ï¼‰ã€‚\n    * `[Body (må­—èŠ‚)]`ï¼š\n        * çœŸæ­£çš„æ•°æ®ï¼Œæ¯”å¦‚ Protobuf æˆ– JSON åºåˆ—åŒ–çš„ `{\"toUser\": \"B\", \"msg\": \"Hi\"}`ã€‚\n\n* **ç­¾åï¼ˆé˜²ç¯¡æ”¹ï¼‰æµç¨‹ï¼š**\n    * **[å‰ç«¯]** `sign = Hash(CmdCode + Timestamp + Nonce + Body + SecretKey)`\n    * **[åç«¯]** æ”¶åˆ°åŒ…åï¼Œç”¨**åŒæ ·çš„æ–¹å¼**è®¡ç®— `sign`ï¼Œå¹¶å¯¹æ¯”ã€‚ä¸ä¸€è‡´åˆ™ä¸ºç¯¡æ”¹ï¼Œ**ä¸¢å¼ƒè¯¥åŒ…**ã€‚\n\n* **æ—¶æˆ³/Nonceï¼ˆé˜²é‡æ”¾ï¼‰æµç¨‹ï¼š**\n    * **[åç«¯]** æ£€æŸ¥ `Timestamp` æ˜¯å¦åœ¨ 5 åˆ†é’Ÿå†…ã€‚\n    * **[åç«¯]** æ£€æŸ¥ `(Timestamp, Nonce)` ç»„åˆæ˜¯å¦åœ¨ Redis ä¸­å·²å­˜åœ¨ã€‚\n\n---\n\n#### 5. (Socket ä¸“å±) è§£å†³â€œè¿æ¥å‡æ­»â€\n\n* **é—®é¢˜ï¼š** å¦‚æœä½ çš„ App è¿›äº†ç”µæ¢¯ï¼Œæ²¡ä¿¡å·äº†ï¼ŒSocket **ä¸ä¼š**ç«‹åˆ»çŸ¥é“è¿æ¥å·²æ–­å¼€ã€‚æˆ–è€…ï¼Œä¸€ä¸ªä¸­é—´è·¯ç”±å™¨ç©ºé—²è¶…æ—¶ï¼Œä¼šâ€œæ‚„æ‚„åœ°â€å…³æ‰ä½ çš„ TCP è¿æ¥ï¼Œä¸¤è¾¹éƒ½ä¸çŸ¥é“ã€‚\n* **è§£å†³æ–¹æ¡ˆï¼š** **å¿ƒè·³åŒ… (Heartbeat)**\n* **æˆ‘æ€ä¹ˆç”¨ï¼š**\n    * **[å‰ç«¯]** å¯åŠ¨ä¸€ä¸ªå®šæ—¶å™¨ï¼ˆæ¯”å¦‚æ¯ 30 ç§’ï¼‰ï¼Œå‘æœåŠ¡å™¨å‘é€ä¸€ä¸ª**â€œå¿ƒè·³åŒ…â€**ï¼ˆæ¯”å¦‚ `CmdCode = 1003`ï¼ŒåŒ…ä½“ä¸ºç©ºï¼‰ã€‚\n    * **[åç«¯]**\n        1.  ç»´æŠ¤ä¸€ä¸ªâ€œæœ€åå¿ƒè·³æ—¶é—´â€ `Map<Socket, Long>`ã€‚\n        2.  æ”¶åˆ°å¿ƒè·³åŒ…ï¼Œå°±æ›´æ–°è¿™ä¸ªæ—¶é—´ã€‚\n        3.  åç«¯ä¹Ÿå¯åŠ¨ä¸€ä¸ªå®šæ—¶å™¨ï¼ˆæ¯”å¦‚æ¯ 40 ç§’ï¼‰æ£€æŸ¥è¿™ä¸ª Mapï¼Œå¦‚æœå‘ç°æŸä¸ª Socket è¶…è¿‡ 40 ç§’æ²¡å‘å¿ƒè·³äº†ï¼Œ**åç«¯ä¸»åŠ¨æ–­å¼€**è¿™ä¸ªâ€œå‡æ­»â€è¿æ¥ã€‚\n\n### æ€»ç»“\n\né¢è¯•æ—¶ï¼Œä½ å¯ä»¥è¿™æ ·å›ç­”ï¼š\n\n> â€œSocket é€šä¿¡çš„å®‰å…¨ä½“ç³»æ¯” HTTP **å¤æ‚å¾—å¤š**ï¼Œå› ä¸ºå®ƒ**æ²¡æœ‰ç°æˆçš„åè®®**ã€‚\n>\n> 1.  é¦–å…ˆï¼Œæˆ‘å¿…é¡»è‡ªå·±è®¾è®¡**åŒ…åè®®**ï¼ˆæ¯”å¦‚**[Length-Header-Body]**ï¼‰æ¥è§£å†³**ç²˜åŒ…/æ‹†åŒ…**ã€‚\n> 2.  å¯¹äº**é˜²çªƒå¬**ï¼Œæˆ‘ä¼šä½¿ç”¨ **`SSLSocket`**ï¼ˆè€Œä¸æ˜¯æ™®é€š Socketï¼‰æ¥å»ºç«‹ **SSL/TLS åŠ å¯†éš§é“**ã€‚\n> 3.  å¯¹äº**é˜²ä¼ªè£…**ï¼Œæˆ‘ä¼šåœ¨è¿æ¥æˆåŠŸåï¼Œç«‹åˆ»å‘é€ä¸€ä¸ª**â€œæ¡æ‰‹åŒ…â€**æ¥æäº¤ `Token`ï¼Œè®©æœåŠ¡å™¨è®¤è¯è¿™ä¸ªè¿æ¥ã€‚\n> 4.  å¯¹äº**é˜²ç¯¡æ”¹**å’Œ**é˜²é‡æ”¾**ï¼Œæˆ‘çš„è‡ªå®šä¹‰åŒ…å¤´é‡Œä¼šåŒ…å« `sign`ï¼ˆç­¾åï¼‰ã€`timestamp`ï¼ˆæ—¶é—´æˆ³ï¼‰å’Œ `nonce`ï¼ˆéšæœºæ•°ï¼‰ï¼ŒæœåŠ¡å™¨ä¼šå¯¹æ¯ä¸€ä¸ªåŒ…è¿›è¡Œæ ¡éªŒã€‚\n> 5.  æœ€åï¼Œæˆ‘è¿˜ä¼šåŠ å…¥**å¿ƒè·³åŒ…æœºåˆ¶**ï¼ˆæ¯”å¦‚30ç§’ä¸€æ¬¡ï¼‰ï¼Œæ¥å¤„ç†è¿æ¥å‡æ­»å’Œ NAT è¶…æ—¶çš„é—®é¢˜ã€‚â€"
    }
  ],
  "learn": [
    {
      "question": "React Native æ ¸å¿ƒæ¦‚å¿µé€Ÿè®°",
      "answer": "RNå£è¯€ï¼š'ä¸€å¥—ä»£ç ï¼Œä¸¤ç«¯è¿è¡Œï¼›åŸç”Ÿæ¸²æŸ“ï¼Œæ€§èƒ½å‡ºä¼—'ã€‚React Nativeçš„æ ¸å¿ƒæ˜¯ç”¨JavaScriptå†™ä¸šåŠ¡é€»è¾‘ï¼Œé€šè¿‡Bridgeè°ƒç”¨åŸç”Ÿç»„ä»¶æ¸²æŸ“ï¼Œå®ç°çœŸæ­£çš„è·¨å¹³å°å¼€å‘ã€‚",
      "detail": "React Nativeå­¦ä¹ è¦ç‚¹ï¼š\n\nğŸš€ æ ¸å¿ƒå£è¯€ï¼š\n'ä¸€å¥—ä»£ç ï¼Œä¸¤ç«¯è¿è¡Œï¼›åŸç”Ÿæ¸²æŸ“ï¼Œæ€§èƒ½å‡ºä¼—'\n\nğŸ“± åŸºç¡€æ¶æ„ç†è§£ï¼š\n1. JavaScriptçº¿ç¨‹ - æ‰§è¡Œä¸šåŠ¡é€»è¾‘\n2. åŸç”Ÿçº¿ç¨‹ - å¤„ç†UIæ¸²æŸ“\n3. Bridge - ä¸¤ç«¯é€šä¿¡æ¡¥æ¢\n\nâš¡ æ€§èƒ½ä¼˜åŒ–å£è¯€ï¼š\n'FlatListé•¿åˆ—è¡¨ï¼ŒPureComponenté‡æ¸²æŸ“ï¼›\nå¼‚æ­¥æ“ä½œè¦ä¼˜åŒ–ï¼Œå†…å­˜æ³„æ¼è¦é˜²èŒƒ'\n\nğŸ”§ è°ƒè¯•æŠ€å·§å£è¯€ï¼š\n'Chromeè°ƒè¯•çœ‹æ—¥å¿—ï¼ŒReactotronçœ‹çŠ¶æ€ï¼›\nFlipperå·¥å…·å…¨ï¼Œæ€§èƒ½åˆ†æä¸æ…Œå¼ '\n\nğŸ“¦ å¸¸ç”¨åº“è®°å¿†ï¼š\n'å¯¼èˆªç”¨React-Navigationï¼ŒçŠ¶æ€ç®¡ç†Redux/MobXï¼›\nç½‘ç»œè¯·æ±‚Axiosï¼Œæœ¬åœ°å­˜å‚¨AsyncStorage'"
    },
    {
      "question": "React Native vs Flutter å¯¹æ¯”è®°å¿†",
      "answer": "è·¨å¹³å°æ¡†æ¶é€‰æ‹©å£è¯€ï¼š'RNç”Ÿæ€æˆç†Ÿï¼ŒFlutteræ€§èƒ½çªå‡ºï¼›RNå­¦ä¹ æ›²çº¿ç¼“ï¼ŒFlutterUIä¸€è‡´æ€§'ã€‚RNç”¨JavaScriptï¼ŒFlutterç”¨Dartè¯­è¨€ã€‚",
      "detail": "React Native vs Flutter å¯¹æ¯”è¦ç‚¹ï¼š\n\nğŸ¯ å¼€å‘è¯­è¨€å¯¹æ¯”ï¼š\nRNï¼šJavaScript/TypeScript - å‰ç«¯å¼€å‘è€…å‹å¥½\nFlutterï¼šDart - éœ€è¦é¢å¤–å­¦ä¹ ï¼Œä½†è¯­æ³•ç°ä»£\n\nâš¡ æ€§èƒ½å¯¹æ¯”å£è¯€ï¼š\n'RNæ¡¥æ¥æœ‰æŸè€—ï¼ŒFlutterç›´æ¥ç¼–è¯‘ï¼›\nRNå¯åŠ¨ç¨æ…¢ï¼ŒFlutterè¿è¡Œæµç•…'\n\nğŸ¨ UIæ¸²æŸ“æœºåˆ¶ï¼š\nRNï¼šåŸç”Ÿç»„ä»¶æ¸²æŸ“ï¼Œå¹³å°å·®å¼‚éœ€å¤„ç†\nFlutterï¼šè‡ªç»˜å¼•æ“ï¼ŒUIå®Œå…¨ä¸€è‡´\n\nğŸ“š ç”Ÿæ€æˆç†Ÿåº¦ï¼š\nRNï¼š2015å¹´å‘å¸ƒï¼Œç”Ÿæ€ä¸°å¯Œï¼Œç¤¾åŒºåºå¤§\nFlutterï¼š2017å¹´å‘å¸ƒï¼Œå‘å±•è¿…é€Ÿï¼ŒGoogleåŠ›æŒº\n\nğŸ”§ é€‚ç”¨åœºæ™¯å£è¯€ï¼š\n'ä¸šåŠ¡é€»è¾‘å¤æ‚é€‰RNï¼ŒUIåŠ¨ç”»ä¸°å¯Œé€‰Flutterï¼›\nå›¢é˜ŸJSåŸºç¡€å¥½é€‰RNï¼Œè¿½æ±‚æè‡´æ€§èƒ½é€‰Flutter'"
    },
    {
      "question": "React Native æ€§èƒ½ä¼˜åŒ–å£è¯€",
      "answer": "RNæ€§èƒ½å£è¯€ï¼š'Bridgeé€šä¿¡è¦å‡å°‘ï¼Œåˆ—è¡¨æ¸²æŸ“è¦ä¼˜åŒ–ï¼›å›¾ç‰‡åŠ è½½è¦ç¼“å­˜ï¼Œå†…å­˜æ³„æ¼è¦é˜²èŒƒ'ã€‚é‡ç‚¹å…³æ³¨Bridgeé€šä¿¡å¼€é”€å’Œæ¸²æŸ“æ€§èƒ½ã€‚",
      "detail": "React Native æ€§èƒ½ä¼˜åŒ–æ ¸å¿ƒè¦ç‚¹ï¼š\n\nğŸš€ Bridgeä¼˜åŒ–å£è¯€ï¼š\n'æ‰¹é‡ä¼ é€’å‡å°‘è°ƒç”¨ï¼ŒåŸç”Ÿæ¨¡å—è¦ç²¾ç®€ï¼›\nå¼‚æ­¥æ“ä½œè¦åˆç†ï¼Œé¿å…é¢‘ç¹é€šä¿¡'\n\nğŸ“± æ¸²æŸ“ä¼˜åŒ–ç­–ç•¥ï¼š\n1. ä½¿ç”¨FlatListæ›¿ä»£ScrollView+map\n2. åˆç†ä½¿ç”¨shouldComponentUpdateæˆ–PureComponent\n3. é¿å…åœ¨renderæ–¹æ³•ä¸­åˆ›å»ºæ–°å‡½æ•°\n4. ä½¿ç”¨keyå±æ€§ä¼˜åŒ–åˆ—è¡¨æ¸²æŸ“\n\nğŸ–¼ï¸ å›¾ç‰‡ä¼˜åŒ–å£è¯€ï¼š\n'å›¾ç‰‡é¢„åŠ è½½ï¼Œå°ºå¯¸è¦åˆé€‚ï¼›\nç¼“å­˜ç­–ç•¥å¥½ï¼Œæ ¼å¼è¦ä¼˜åŒ–'\n\nğŸ’¾ å†…å­˜ä¼˜åŒ–è¦ç‚¹ï¼š\n- åŠæ—¶æ¸…ç†å®šæ—¶å™¨å’Œäº‹ä»¶ç›‘å¬\n- é¿å…é—­åŒ…å¼•ç”¨å¯¼è‡´çš„å†…å­˜æ³„æ¼\n- åˆç†ä½¿ç”¨æœ¬åœ°å­˜å‚¨\n- å›¾ç‰‡èµ„æºåŠæ—¶é‡Šæ”¾\n\nâš¡ å¯åŠ¨ä¼˜åŒ–å£è¯€ï¼š\n'ä»£ç åˆ†å‰²è¦åˆç†ï¼Œæ‡’åŠ è½½è¦åˆ°ä½ï¼›\nåŸç”Ÿæ¨¡å—è¦ç²¾ç®€ï¼Œé¦–å±æ¸²æŸ“è¦å¿«é€Ÿ'"
    },
    {
      "question": "React Native åŸç”Ÿæ¨¡å—å¼€å‘å£è¯€",
      "answer": "åŸç”Ÿæ¨¡å—å£è¯€ï¼š'JSè°ƒç”¨åŸç”Ÿï¼ŒPromiseè¦è¿”å›ï¼›æ–¹æ³•å‘½åè¦è§„èŒƒï¼Œçº¿ç¨‹å®‰å…¨è¦ä¿éšœ'ã€‚Bridgeé€šä¿¡æ˜¯RNçš„æ ¸å¿ƒæœºåˆ¶ã€‚",
      "detail": "React Native åŸç”Ÿæ¨¡å—å¼€å‘è¦ç‚¹ï¼š\n\nğŸ”§ iOSåŸç”Ÿæ¨¡å—å¼€å‘ï¼š\n1. åˆ›å»ºRCTBridgeModuleåè®®\n2. å®ç°RCT_EXPORT_METHODå¯¼å‡ºæ–¹æ³•\n3. ä½¿ç”¨Promiseæˆ–Callbackè¿”å›æ•°æ®\n4. æ³¨æ„ä¸»çº¿ç¨‹å’ŒJSçº¿ç¨‹åˆ‡æ¢\n\nâš™ï¸ AndroidåŸç”Ÿæ¨¡å—å¼€å‘ï¼š\n1. åˆ›å»ºReactContextBaseJavaModule\n2. ä½¿ç”¨@ReactMethodæ³¨è§£å¯¼å‡ºæ–¹æ³•\n3. å¤„ç†Promiseå’ŒCallback\n4. æ³¨æ„UIçº¿ç¨‹å’ŒJSçº¿ç¨‹è°ƒåº¦\n\nğŸ“‹ å‘½åè§„èŒƒå£è¯€ï¼š\n'æ¨¡å—åè¦æ¸…æ™°ï¼Œæ–¹æ³•åè¦è¯­ä¹‰ï¼›\nå‚æ•°ç±»å‹è¦åŒ¹é…ï¼Œè¿”å›å€¼è¦æ˜ç¡®'\n\nğŸ›¡ï¸ çº¿ç¨‹å®‰å…¨è¦ç‚¹ï¼š\n- é¿å…åœ¨JSçº¿ç¨‹æ‰§è¡Œè€—æ—¶æ“ä½œ\n- åŸç”Ÿæ–¹æ³•ä¸­æ³¨æ„çº¿ç¨‹åˆ‡æ¢\n- Promise rejectè¦åŠæ—¶å¤„ç†\n- å†…å­˜ç®¡ç†è¦è§„èŒƒ\n\nğŸ”„ æ•°æ®ä¼ é€’å£è¯€ï¼š\n'åŸºæœ¬ç±»å‹ç›´æ¥ä¼ ï¼Œå¤æ‚å¯¹è±¡è¦è½¬æ¢ï¼›\né”™è¯¯å¤„ç†è¦å®Œå–„ï¼Œå¼‚å¸¸æƒ…å†µè¦æ•è·'"
    },
    {
      "question": "React Native å¯¼èˆªä¸è·¯ç”±è®°å¿†",
      "answer": "RNå¯¼èˆªå£è¯€ï¼š'React-Navigationæ ‡å‡†ï¼ŒStackTabDrawerä¸‰å‰‘å®¢ï¼›å‚æ•°ä¼ é€’è¦æ¸…æ¥šï¼Œç”Ÿå‘½å‘¨æœŸè¦æŒæ¡'ã€‚å¯¼èˆªæ˜¯ç§»åŠ¨åº”ç”¨çš„æ ¸å¿ƒã€‚",
      "detail": "React Native å¯¼èˆªä¸è·¯ç”±å­¦ä¹ è¦ç‚¹ï¼š\n\nğŸ§­ å¯¼èˆªå™¨ç±»å‹å£è¯€ï¼š\n'Stackå¯¼èˆªåƒæ ˆï¼Œpushpopè¦è®°ç‰¢ï¼›\nTabå¯¼èˆªåº•éƒ¨æ ï¼Œåˆ‡æ¢é¡µé¢å¾ˆæ–¹ä¾¿ï¼›\nDrawerå¯¼èˆªä¾§è¾¹æ ï¼Œèœå•å±•å¼€å¾ˆç›´è§‚'\n\nğŸ“± React Navigation 5.x+ æ–°ç‰¹æ€§ï¼š\n- å£°æ˜å¼APIè®¾è®¡\n- ç»„ä»¶åŒ–é…ç½®\n- æ›´å¥½çš„TypeScriptæ”¯æŒ\n- æ›´çµæ´»çš„è‡ªå®šä¹‰é€‰é¡¹\n\nğŸ”„ é¡µé¢è·³è½¬ä¸å‚æ•°ï¼š\n1. navigation.navigate('RouteName', params)\n2. route.paramsè·å–å‚æ•°\n3. ä½¿ç”¨useNavigation Hook\n4. åµŒå¥—å¯¼èˆªå™¨çš„å¤„ç†\n\nâ° ç”Ÿå‘½å‘¨æœŸå£è¯€ï¼š\n'focusäº‹ä»¶é¡µé¢æ˜¾ï¼Œbluräº‹ä»¶é¡µé¢éšï¼›\nbeforeRemoveè¦ç¦»å¼€ï¼ŒçŠ¶æ€ä¿å­˜è¦åŠæ—¶'\n\nğŸ¨ è‡ªå®šä¹‰å¯¼èˆªï¼š\n- è‡ªå®šä¹‰å¤´éƒ¨ç»„ä»¶\n- åº•éƒ¨æ ‡ç­¾æ å®šåˆ¶\n- ä¾§è¾¹æ èœå•è®¾è®¡\n- è½¬åœºåŠ¨ç”»é…ç½®\n\nğŸ› ï¸ å¸¸è§é—®é¢˜è§£å†³ï¼š\n'å¯¼èˆªçŠ¶æ€è¦ç®¡ç†ï¼Œæ·±åº¦é“¾æ¥è¦é…ç½®ï¼›\nç¡¬ä»¶è¿”å›è¦å¤„ç†ï¼Œå¤šå¯¼èˆªå™¨è¦åè°ƒ'"
    },
    {
      "question": "React Native çŠ¶æ€ç®¡ç†å¯¹æ¯”è®°å¿†",
      "answer": "ï¿½ï¿½æ€ç®¡ç†å£è¯€ï¼š'Reduxè§„èŒƒä¸¥è°¨ï¼ŒMobXç®€å•çµæ´»ï¼›Contexté€‚åˆè½»é‡ï¼ŒRecoilæ–°å…´é€‰æ‹©'ã€‚é€‰æ‹©åˆé€‚çš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆå¾ˆé‡è¦ã€‚",
      "detail": "React Native çŠ¶æ€ç®¡ç†æ–¹æ¡ˆå¯¹æ¯”ï¼š\n\nğŸ“¦ Redux ä½¿ç”¨å£è¯€ï¼š\n'Actionè§¦å‘ï¼ŒReducerå¤„ç†ï¼›\nStoreå­˜å‚¨ï¼ŒMiddlewareå¢å¼ºï¼›\nè§„èŒƒä¸¥è°¨ï¼Œè°ƒè¯•æ–¹ä¾¿'\n\nâš¡ MobX ä½¿ç”¨å£è¯€ï¼š\n'è§‚å¯ŸçŠ¶æ€ï¼Œè‡ªåŠ¨å“åº”ï¼›\nè£…é¥°å™¨è¯­æ³•ï¼Œç®€å•æ˜“ç”¨ï¼›\nå“åº”å¼ç¼–ç¨‹ï¼Œå¼€å‘å¿«é€Ÿ'\n\nğŸ”„ Context API è¦ç‚¹ï¼š\n- é€‚åˆè½»é‡çº§çŠ¶æ€ç®¡ç†\n- é¿å…è¿‡åº¦æ¸²æŸ“\n- ç»“åˆuseReducerä½¿ç”¨\n- æ³¨æ„æ€§èƒ½ä¼˜åŒ–\n\nğŸ†• Recoil & Jotai æ–°å…´æ–¹æ¡ˆï¼š\n'åŸå­çŠ¶æ€ï¼Œç»†ç²’åº¦ï¼›\nå¼‚æ­¥æ”¯æŒï¼Œæ›´ç°ä»£åŒ–ï¼›\nReactå¹¶å‘ï¼Œå…¼å®¹æ€§'\n\nğŸ¯ é€‰æ‹©å»ºè®®å£è¯€ï¼š\n'å¤§å‹åº”ç”¨Reduxï¼Œä¸­å°å‹MobXï¼›\nç®€å•çŠ¶æ€Contextï¼Œå®éªŒé¡¹ç›®æ–°æ–¹æ¡ˆ'\n\nğŸ”§ æœ€ä½³å®è·µï¼š\n1. çŠ¶æ€åˆ†å±‚è®¾è®¡\n2. é¿å…è¿‡åº¦å…¨å±€åŒ–\n3. å¼‚æ­¥æ“ä½œåˆç†å¤„ç†\n4. çŠ¶æ€æŒä¹…åŒ–ç­–ç•¥\n5. è°ƒè¯•å·¥å…·ä½¿ç”¨"
    },
    {
      "question": "React Native è°ƒè¯•ä¸æµ‹è¯•å£è¯€",
      "answer": "RNè°ƒè¯•å£è¯€ï¼š'Chromeè°ƒè¯•çœ‹æ—¥å¿—ï¼ŒFlipperå·¥å…·æ›´å…¨é¢ï¼›Reactotronçœ‹çŠ¶æ€ï¼ŒNativeè°ƒè¯•æŸ¥åŸç”Ÿ'ã€‚å¤šå·¥å…·é…åˆä½¿ç”¨æ•ˆæœæ›´ä½³ã€‚",
      "detail": "React Native è°ƒè¯•ä¸æµ‹è¯•è¦ç‚¹ï¼š\n\nğŸ› è°ƒè¯•å·¥å…·ä½¿ç”¨ï¼š\n1. Chrome DevTools - åŸºç¡€è°ƒè¯•\n2. Flipper - Facebookå®˜æ–¹å·¥å…·\n3. Reactotron - çŠ¶æ€ç›‘æ§\n4. React Native Debugger - é›†æˆå·¥å…·\n\nğŸ” è°ƒè¯•æŠ€å·§å£è¯€ï¼š\n'console.logçœ‹æ—¥å¿—ï¼Œdebuggeræ–­ç‚¹æŸ¥ï¼›\nç½‘ç»œè¯·æ±‚è¦ç›‘æ§ï¼Œæ€§èƒ½åˆ†æè¦è®°å½•'\n\nâš¡ æ€§èƒ½è°ƒè¯•è¦ç‚¹ï¼š\n- Systraceæ€§èƒ½åˆ†æ\n- FPSç›‘æ§\n- å†…å­˜ä½¿ç”¨ç›‘æ§\n- å¯åŠ¨æ—¶é—´æµ‹é‡\n\nğŸ§ª æµ‹è¯•ç­–ç•¥å£è¯€ï¼š\n'å•å…ƒæµ‹è¯•Jestï¼Œé›†æˆæµ‹è¯•Detoxï¼›\nç»„ä»¶æµ‹è¯•React-Testing-Libraryï¼›\nE2Eæµ‹è¯•å…¨è¦†ç›–'\n\nğŸ“Š æµ‹è¯•è¦†ç›–ç‡ï¼š\n- ä¸šåŠ¡é€»è¾‘å•å…ƒæµ‹è¯•\n- ç»„ä»¶æ¸²æŸ“æµ‹è¯•\n- ç”¨æˆ·äº¤äº’æµ‹è¯•\n- ç½‘ç»œè¯·æ±‚mock\n\nğŸ”„ æŒç»­é›†æˆï¼š\n'è‡ªåŠ¨åŒ–æµ‹è¯•è¦é›†æˆï¼Œä»£ç è´¨é‡è¦æ£€æŸ¥ï¼›\nå‘å¸ƒæµç¨‹è¦è§„èŒƒï¼Œå›å½’æµ‹è¯•è¦å®Œå–„'"
    },
    {
      "question": "React Native å‘å¸ƒä¸çƒ­æ›´æ–°å£è¯€",
      "answer": "RNå‘å¸ƒå£è¯€ï¼š'CodePushçƒ­æ›´æ–°ï¼Œåº”ç”¨å•†åº—è¦å®¡æ ¸ï¼›ç‰ˆæœ¬ç®¡ç†è¦è§„èŒƒï¼Œç°åº¦å‘å¸ƒè¦ç¨³å¦¥'ã€‚çƒ­æ›´æ–°æ˜¯RNçš„é‡è¦ä¼˜åŠ¿ã€‚",
      "detail": "React Native å‘å¸ƒä¸çƒ­æ›´æ–°è¦ç‚¹ï¼š\n\nğŸš€ çƒ­æ›´æ–°æ–¹æ¡ˆå¯¹æ¯”ï¼š\n1. CodePush (å¾®è½¯) - æœ€å¸¸ç”¨\n2. Pushy - å›½å†…æ–¹æ¡ˆ\n3. è‡ªå®šä¹‰çƒ­æ›´æ–° - å®Œå…¨æ§åˆ¶\n\nğŸ“± åº”ç”¨å•†åº—å‘å¸ƒï¼š\n- iOS App Storeå®¡æ ¸\n- Androidå„å¤§åº”ç”¨å•†åº—\n- ä¼ä¸šç­¾ååˆ†å‘\n- TestFlightå†…æµ‹\n\nğŸ”§ ç‰ˆæœ¬ç®¡ç†å£è¯€ï¼š\n'ä¸»ç‰ˆæœ¬å¤§æ›´æ–°ï¼Œæ¬¡ç‰ˆæœ¬å°åŠŸèƒ½ï¼›\nä¿®è®¢ç‰ˆæœ¬ä¿®bugï¼Œæ„å»ºç‰ˆæœ¬è¦é€’å¢'\n\nâš¡ çƒ­æ›´æ–°é™åˆ¶ï¼š\n- ä¸èƒ½æ›´æ–°åŸç”Ÿä»£ç \n- éœ€è¦ç”¨æˆ·åŒæ„\n- æœ‰å®¡æ ¸æ”¿ç­–é£é™©\n- æ€§èƒ½å½±å“è¦è€ƒè™‘\n\nğŸ›¡ï¸ å‘å¸ƒå®‰å…¨ï¼š\n'ä»£ç æ··æ·†è¦å¼€å¯ï¼Œèµ„æºåŠ å¯†è¦å¤„ç†ï¼›\nç­¾åè¯ä¹¦è¦ä¿ç®¡ï¼Œå‘å¸ƒé…ç½®è¦æ£€æŸ¥'\n\nğŸ“Š ç°åº¦å‘å¸ƒç­–ç•¥ï¼š\n- æŒ‰ç”¨æˆ·æ¯”ä¾‹ç°åº¦\n- æŒ‰åœ°åŒºé€æ­¥å‘å¸ƒ\n- æŒ‰è®¾å¤‡ç±»å‹åŒºåˆ†\n- å›æ»šæœºåˆ¶è¦å‡†å¤‡\n\nğŸ”„ ç›‘æ§ä¸å›æ»šï¼š\n'å´©æºƒç›‘æ§è¦åŠæ—¶ï¼Œç”¨æˆ·åé¦ˆè¦æ”¶é›†ï¼›\nå¼‚å¸¸ç‰ˆæœ¬è¦å›æ»šï¼Œç”¨æˆ·å½±å“è¦æœ€å°'"
    }
  ]
}